function l_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Ky={exports:{}},pc={},Gy={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ha=Symbol.for("react.element"),u_=Symbol.for("react.portal"),d_=Symbol.for("react.fragment"),h_=Symbol.for("react.strict_mode"),f_=Symbol.for("react.profiler"),p_=Symbol.for("react.provider"),m_=Symbol.for("react.context"),g_=Symbol.for("react.forward_ref"),y_=Symbol.for("react.suspense"),v_=Symbol.for("react.memo"),x_=Symbol.for("react.lazy"),Tp=Symbol.iterator;function w_(e){return e===null||typeof e!="object"?null:(e=Tp&&e[Tp]||e["@@iterator"],typeof e=="function"?e:null)}var Jy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qy=Object.assign,Yy={};function ki(e,t,r){this.props=e,this.context=t,this.refs=Yy,this.updater=r||Jy}ki.prototype.isReactComponent={};ki.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ki.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xy(){}Xy.prototype=ki.prototype;function Nh(e,t,r){this.props=e,this.context=t,this.refs=Yy,this.updater=r||Jy}var Ph=Nh.prototype=new Xy;Ph.constructor=Nh;Qy(Ph,ki.prototype);Ph.isPureReactComponent=!0;var Ep=Array.isArray,ev=Object.prototype.hasOwnProperty,Ah={current:null},tv={key:!0,ref:!0,__self:!0,__source:!0};function rv(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ev.call(t,n)&&!tv.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ha,type:e,key:i,ref:o,props:s,_owner:Ah.current}}function b_(e,t){return{$$typeof:ha,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rh(e){return typeof e=="object"&&e!==null&&e.$$typeof===ha}function __(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Np=/\/+/g;function eu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?__(""+e.key):t.toString(36)}function el(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ha:case u_:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+eu(o,0):n,Ep(s)?(r="",e!=null&&(r=e.replace(Np,"$&/")+"/"),el(s,t,r,"",function(c){return c})):s!=null&&(Rh(s)&&(s=b_(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Np,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Ep(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+eu(i,a);o+=el(i,t,r,l,s)}else if(l=w_(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+eu(i,a++),o+=el(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ca(e,t,r){if(e==null)return e;var n=[],s=0;return el(e,n,"","",function(i){return t.call(r,i,s++)}),n}function k_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gt={current:null},tl={transition:null},S_={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:tl,ReactCurrentOwner:Ah};function nv(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Ca,forEach:function(e,t,r){Ca(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ca(e,function(){t++}),t},toArray:function(e){return Ca(e,function(t){return t})||[]},only:function(e){if(!Rh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=ki;oe.Fragment=d_;oe.Profiler=f_;oe.PureComponent=Nh;oe.StrictMode=h_;oe.Suspense=y_;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S_;oe.act=nv;oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Qy({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ah.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ev.call(t,l)&&!tv.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:ha,type:e.type,key:s,ref:i,props:n,_owner:o}};oe.createContext=function(e){return e={$$typeof:m_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:p_,_context:e},e.Consumer=e};oe.createElement=rv;oe.createFactory=function(e){var t=rv.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:g_,render:e}};oe.isValidElement=Rh;oe.lazy=function(e){return{$$typeof:x_,_payload:{_status:-1,_result:e},_init:k_}};oe.memo=function(e,t){return{$$typeof:v_,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=tl.transition;tl.transition={};try{e()}finally{tl.transition=t}};oe.unstable_act=nv;oe.useCallback=function(e,t){return gt.current.useCallback(e,t)};oe.useContext=function(e){return gt.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return gt.current.useDeferredValue(e)};oe.useEffect=function(e,t){return gt.current.useEffect(e,t)};oe.useId=function(){return gt.current.useId()};oe.useImperativeHandle=function(e,t,r){return gt.current.useImperativeHandle(e,t,r)};oe.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return gt.current.useMemo(e,t)};oe.useReducer=function(e,t,r){return gt.current.useReducer(e,t,r)};oe.useRef=function(e){return gt.current.useRef(e)};oe.useState=function(e){return gt.current.useState(e)};oe.useSyncExternalStore=function(e,t,r){return gt.current.useSyncExternalStore(e,t,r)};oe.useTransition=function(){return gt.current.useTransition()};oe.version="18.3.1";Gy.exports=oe;var b=Gy.exports;const ge=qy(b),j_=l_({__proto__:null,default:ge},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_=b,T_=Symbol.for("react.element"),E_=Symbol.for("react.fragment"),N_=Object.prototype.hasOwnProperty,P_=C_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A_={key:!0,ref:!0,__self:!0,__source:!0};function sv(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)N_.call(t,n)&&!A_.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:T_,type:e,key:i,ref:o,props:s,_owner:P_.current}}pc.Fragment=E_;pc.jsx=sv;pc.jsxs=sv;Ky.exports=pc;var u=Ky.exports,Qu={},iv={exports:{}},It={},ov={exports:{}},av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,W){var G=L.length;L.push(W);e:for(;0<G;){var te=G-1>>>1,Pe=L[te];if(0<s(Pe,W))L[te]=W,L[G]=Pe,G=te;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var W=L[0],G=L.pop();if(G!==W){L[0]=G;e:for(var te=0,Pe=L.length,jr=Pe>>>1;te<jr;){var Gt=2*(te+1)-1,Xr=L[Gt],jt=Gt+1,Cr=L[jt];if(0>s(Xr,G))jt<Pe&&0>s(Cr,Xr)?(L[te]=Cr,L[jt]=G,te=jt):(L[te]=Xr,L[Gt]=G,te=Gt);else if(jt<Pe&&0>s(Cr,G))L[te]=Cr,L[jt]=G,te=jt;else break e}}return W}function s(L,W){var G=L.sortIndex-W.sortIndex;return G!==0?G:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,x=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var W=r(c);W!==null;){if(W.callback===null)n(c);else if(W.startTime<=L)n(c),W.sortIndex=W.expirationTime,t(l,W);else break;W=r(c)}}function S(L){if(v=!1,y(L),!x)if(r(l)!==null)x=!0,me(w);else{var W=r(c);W!==null&&K(S,W.startTime-L)}}function w(L,W){x=!1,v&&(v=!1,g(j),j=-1),m=!0;var G=f;try{for(y(W),h=r(l);h!==null&&(!(h.expirationTime>W)||L&&!B());){var te=h.callback;if(typeof te=="function"){h.callback=null,f=h.priorityLevel;var Pe=te(h.expirationTime<=W);W=e.unstable_now(),typeof Pe=="function"?h.callback=Pe:h===r(l)&&n(l),y(W)}else n(l);h=r(l)}if(h!==null)var jr=!0;else{var Gt=r(c);Gt!==null&&K(S,Gt.startTime-W),jr=!1}return jr}finally{h=null,f=G,m=!1}}var E=!1,P=null,j=-1,C=5,A=-1;function B(){return!(e.unstable_now()-A<C)}function R(){if(P!==null){var L=e.unstable_now();A=L;var W=!0;try{W=P(!0,L)}finally{W?$():(E=!1,P=null)}}else E=!1}var $;if(typeof p=="function")$=function(){p(R)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ve=se.port2;se.port1.onmessage=R,$=function(){ve.postMessage(null)}}else $=function(){_(R,0)};function me(L){P=L,E||(E=!0,$())}function K(L,W){j=_(function(){L(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,me(w))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var G=f;f=W;try{return L()}finally{f=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=f;f=L;try{return W()}finally{f=G}},e.unstable_scheduleCallback=function(L,W,G){var te=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?te+G:te):G=te,L){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=G+Pe,L={id:d++,callback:W,priorityLevel:L,startTime:G,expirationTime:Pe,sortIndex:-1},G>te?(L.sortIndex=G,t(c,L),r(l)===null&&L===r(c)&&(v?(g(j),j=-1):v=!0,K(S,G-te))):(L.sortIndex=Pe,t(l,L),x||m||(x=!0,me(w))),L},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(L){var W=f;return function(){var G=f;f=W;try{return L.apply(this,arguments)}finally{f=G}}}})(av);ov.exports=av;var R_=ov.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_=b,Ot=R_;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lv=new Set,To={};function ws(e,t){oi(e,t),oi(e+"Capture",t)}function oi(e,t){for(To[e]=t,e=0;e<t.length;e++)lv.add(t[e])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=Object.prototype.hasOwnProperty,O_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pp={},Ap={};function D_(e){return Yu.call(Ap,e)?!0:Yu.call(Pp,e)?!1:O_.test(e)?Ap[e]=!0:(Pp[e]=!0,!1)}function I_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function M_(e,t,r,n){if(t===null||typeof t>"u"||I_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lh=/[\-:]([a-z])/g;function Oh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lh,Oh);tt[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lh,Oh);tt[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lh,Oh);tt[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dh(e,t,r,n){var s=tt.hasOwnProperty(t)?tt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(M_(t,r,s,n)&&(r=null),n||s===null?D_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Jr=L_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ta=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),Xu=Symbol.for("react.profiler"),cv=Symbol.for("react.provider"),uv=Symbol.for("react.context"),Mh=Symbol.for("react.forward_ref"),ed=Symbol.for("react.suspense"),td=Symbol.for("react.suspense_list"),Vh=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),dv=Symbol.for("react.offscreen"),Rp=Symbol.iterator;function Ii(e){return e===null||typeof e!="object"?null:(e=Rp&&e[Rp]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,tu;function Qi(e){if(tu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);tu=t&&t[1]||""}return`
`+tu+e}var ru=!1;function nu(e,t){if(!e||ru)return"";ru=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ru=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qi(e):""}function V_(e){switch(e.tag){case 5:return Qi(e.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 2:case 15:return e=nu(e.type,!1),e;case 11:return e=nu(e.type.render,!1),e;case 1:return e=nu(e.type,!0),e;default:return""}}function rd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Os:return"Fragment";case Ls:return"Portal";case Xu:return"Profiler";case Ih:return"StrictMode";case ed:return"Suspense";case td:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uv:return(e.displayName||"Context")+".Consumer";case cv:return(e._context.displayName||"Context")+".Provider";case Mh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vh:return t=e.displayName||null,t!==null?t:rd(e.type)||"Memo";case cn:t=e._payload,e=e._init;try{return rd(e(t))}catch{}}return null}function $_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rd(t);case 8:return t===Ih?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function F_(e){var t=hv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ea(e){e._valueTracker||(e._valueTracker=F_(e))}function fv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=hv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nd(e,t){var r=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Lp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pv(e,t){t=t.checked,t!=null&&Dh(e,"checked",t,!1)}function sd(e,t){pv(e,t);var r=Nn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?id(e,t.type,r):t.hasOwnProperty("defaultValue")&&id(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Op(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function id(e,t,r){(t!=="number"||vl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Yi=Array.isArray;function Qs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function od(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(D(92));if(Yi(r)){if(1<r.length)throw Error(D(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nn(r)}}function mv(e,t){var r=Nn(t.value),n=Nn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ip(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ad(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Na,yv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Na.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Eo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U_=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(e){U_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ao[t]=ao[e]})});function vv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ao.hasOwnProperty(e)&&ao[e]?(""+t).trim():t+"px"}function xv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=vv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var z_=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ld(e,t){if(t){if(z_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function cd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ud=null;function $h(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dd=null,Ys=null,Xs=null;function Mp(e){if(e=ma(e)){if(typeof dd!="function")throw Error(D(280));var t=e.stateNode;t&&(t=xc(t),dd(e.stateNode,e.type,t))}}function wv(e){Ys?Xs?Xs.push(e):Xs=[e]:Ys=e}function bv(){if(Ys){var e=Ys,t=Xs;if(Xs=Ys=null,Mp(e),t)for(e=0;e<t.length;e++)Mp(t[e])}}function _v(e,t){return e(t)}function kv(){}var su=!1;function Sv(e,t,r){if(su)return e(t,r);su=!0;try{return _v(e,t,r)}finally{su=!1,(Ys!==null||Xs!==null)&&(kv(),bv())}}function No(e,t){var r=e.stateNode;if(r===null)return null;var n=xc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,t,typeof r));return r}var hd=!1;if(Br)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){hd=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{hd=!1}function B_(e,t,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var lo=!1,xl=null,wl=!1,fd=null,W_={onError:function(e){lo=!0,xl=e}};function H_(e,t,r,n,s,i,o,a,l){lo=!1,xl=null,B_.apply(W_,arguments)}function Z_(e,t,r,n,s,i,o,a,l){if(H_.apply(this,arguments),lo){if(lo){var c=xl;lo=!1,xl=null}else throw Error(D(198));wl||(wl=!0,fd=c)}}function bs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vp(e){if(bs(e)!==e)throw Error(D(188))}function q_(e){var t=e.alternate;if(!t){if(t=bs(e),t===null)throw Error(D(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Vp(s),e;if(i===n)return Vp(s),t;i=i.sibling}throw Error(D(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:t}function Cv(e){return e=q_(e),e!==null?Tv(e):null}function Tv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tv(e);if(t!==null)return t;e=e.sibling}return null}var Ev=Ot.unstable_scheduleCallback,$p=Ot.unstable_cancelCallback,K_=Ot.unstable_shouldYield,G_=Ot.unstable_requestPaint,Fe=Ot.unstable_now,J_=Ot.unstable_getCurrentPriorityLevel,Fh=Ot.unstable_ImmediatePriority,Nv=Ot.unstable_UserBlockingPriority,bl=Ot.unstable_NormalPriority,Q_=Ot.unstable_LowPriority,Pv=Ot.unstable_IdlePriority,mc=null,vr=null;function Y_(e){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(mc,e,void 0,(e.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:t1,X_=Math.log,e1=Math.LN2;function t1(e){return e>>>=0,e===0?32:31-(X_(e)/e1|0)|0}var Pa=64,Aa=4194304;function Xi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _l(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Xi(a):(i&=o,i!==0&&(n=Xi(i)))}else o=r&~s,o!==0?n=Xi(o):i!==0&&(n=Xi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ir(t),s=1<<r,n|=e[r],t&=~s;return n}function r1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n1(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ir(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=r1(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function pd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Av(){var e=Pa;return Pa<<=1,!(Pa&4194240)&&(Pa=64),e}function iu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function fa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ir(t),e[t]=r}function s1(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ir(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Uh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ir(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ye=0;function Rv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lv,zh,Ov,Dv,Iv,md=!1,Ra=[],wn=null,bn=null,_n=null,Po=new Map,Ao=new Map,hn=[],i1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fp(e,t){switch(e){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":Po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(t.pointerId)}}function Vi(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ma(t),t!==null&&zh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function o1(e,t,r,n,s){switch(t){case"focusin":return wn=Vi(wn,e,t,r,n,s),!0;case"dragenter":return bn=Vi(bn,e,t,r,n,s),!0;case"mouseover":return _n=Vi(_n,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Po.set(i,Vi(Po.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ao.set(i,Vi(Ao.get(i)||null,e,t,r,n,s)),!0}return!1}function Mv(e){var t=Xn(e.target);if(t!==null){var r=bs(t);if(r!==null){if(t=r.tag,t===13){if(t=jv(r),t!==null){e.blockedOn=t,Iv(e.priority,function(){Ov(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=gd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ud=n,r.target.dispatchEvent(n),ud=null}else return t=ma(r),t!==null&&zh(t),e.blockedOn=r,!1;t.shift()}return!0}function Up(e,t,r){rl(e)&&r.delete(t)}function a1(){md=!1,wn!==null&&rl(wn)&&(wn=null),bn!==null&&rl(bn)&&(bn=null),_n!==null&&rl(_n)&&(_n=null),Po.forEach(Up),Ao.forEach(Up)}function $i(e,t){e.blockedOn===t&&(e.blockedOn=null,md||(md=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,a1)))}function Ro(e){function t(s){return $i(s,e)}if(0<Ra.length){$i(Ra[0],e);for(var r=1;r<Ra.length;r++){var n=Ra[r];n.blockedOn===e&&(n.blockedOn=null)}}for(wn!==null&&$i(wn,e),bn!==null&&$i(bn,e),_n!==null&&$i(_n,e),Po.forEach(t),Ao.forEach(t),r=0;r<hn.length;r++)n=hn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<hn.length&&(r=hn[0],r.blockedOn===null);)Mv(r),r.blockedOn===null&&hn.shift()}var ei=Jr.ReactCurrentBatchConfig,kl=!0;function l1(e,t,r,n){var s=ye,i=ei.transition;ei.transition=null;try{ye=1,Bh(e,t,r,n)}finally{ye=s,ei.transition=i}}function c1(e,t,r,n){var s=ye,i=ei.transition;ei.transition=null;try{ye=4,Bh(e,t,r,n)}finally{ye=s,ei.transition=i}}function Bh(e,t,r,n){if(kl){var s=gd(e,t,r,n);if(s===null)mu(e,t,n,Sl,r),Fp(e,n);else if(o1(s,e,t,r,n))n.stopPropagation();else if(Fp(e,n),t&4&&-1<i1.indexOf(e)){for(;s!==null;){var i=ma(s);if(i!==null&&Lv(i),i=gd(e,t,r,n),i===null&&mu(e,t,n,Sl,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else mu(e,t,n,null,r)}}var Sl=null;function gd(e,t,r,n){if(Sl=null,e=$h(n),e=Xn(e),e!==null)if(t=bs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sl=e,null}function Vv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J_()){case Fh:return 1;case Nv:return 4;case bl:case Q_:return 16;case Pv:return 536870912;default:return 16}default:return 16}}var yn=null,Wh=null,nl=null;function $v(){if(nl)return nl;var e,t=Wh,r=t.length,n,s="value"in yn?yn.value:yn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return nl=s.slice(e,1<n?1-n:void 0)}function sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function La(){return!0}function zp(){return!1}function Mt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?La:zp,this.isPropagationStopped=zp,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),t}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hh=Mt(Si),pa=Ie({},Si,{view:0,detail:0}),u1=Mt(pa),ou,au,Fi,gc=Ie({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(ou=e.screenX-Fi.screenX,au=e.screenY-Fi.screenY):au=ou=0,Fi=e),ou)},movementY:function(e){return"movementY"in e?e.movementY:au}}),Bp=Mt(gc),d1=Ie({},gc,{dataTransfer:0}),h1=Mt(d1),f1=Ie({},pa,{relatedTarget:0}),lu=Mt(f1),p1=Ie({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),m1=Mt(p1),g1=Ie({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y1=Mt(g1),v1=Ie({},Si,{data:0}),Wp=Mt(v1),x1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=b1[e])?!!t[e]:!1}function Zh(){return _1}var k1=Ie({},pa,{key:function(e){if(e.key){var t=x1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zh,charCode:function(e){return e.type==="keypress"?sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S1=Mt(k1),j1=Ie({},gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hp=Mt(j1),C1=Ie({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zh}),T1=Mt(C1),E1=Ie({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),N1=Mt(E1),P1=Ie({},gc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A1=Mt(P1),R1=[9,13,27,32],qh=Br&&"CompositionEvent"in window,co=null;Br&&"documentMode"in document&&(co=document.documentMode);var L1=Br&&"TextEvent"in window&&!co,Fv=Br&&(!qh||co&&8<co&&11>=co),Zp=" ",qp=!1;function Uv(e,t){switch(e){case"keyup":return R1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function O1(e,t){switch(e){case"compositionend":return zv(t);case"keypress":return t.which!==32?null:(qp=!0,Zp);case"textInput":return e=t.data,e===Zp&&qp?null:e;default:return null}}function D1(e,t){if(Ds)return e==="compositionend"||!qh&&Uv(e,t)?(e=$v(),nl=Wh=yn=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fv&&t.locale!=="ko"?null:t.data;default:return null}}var I1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!I1[e.type]:t==="textarea"}function Bv(e,t,r,n){wv(n),t=jl(t,"onChange"),0<t.length&&(r=new Hh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var uo=null,Lo=null;function M1(e){e0(e,0)}function yc(e){var t=Vs(e);if(fv(t))return e}function V1(e,t){if(e==="change")return t}var Wv=!1;if(Br){var cu;if(Br){var uu="oninput"in document;if(!uu){var Gp=document.createElement("div");Gp.setAttribute("oninput","return;"),uu=typeof Gp.oninput=="function"}cu=uu}else cu=!1;Wv=cu&&(!document.documentMode||9<document.documentMode)}function Jp(){uo&&(uo.detachEvent("onpropertychange",Hv),Lo=uo=null)}function Hv(e){if(e.propertyName==="value"&&yc(Lo)){var t=[];Bv(t,Lo,e,$h(e)),Sv(M1,t)}}function $1(e,t,r){e==="focusin"?(Jp(),uo=t,Lo=r,uo.attachEvent("onpropertychange",Hv)):e==="focusout"&&Jp()}function F1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yc(Lo)}function U1(e,t){if(e==="click")return yc(t)}function z1(e,t){if(e==="input"||e==="change")return yc(t)}function B1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lr=typeof Object.is=="function"?Object.is:B1;function Oo(e,t){if(lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Yu.call(t,s)||!lr(e[s],t[s]))return!1}return!0}function Qp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yp(e,t){var r=Qp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qp(r)}}function Zv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qv(){for(var e=window,t=vl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=vl(e.document)}return t}function Kh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function W1(e){var t=qv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Zv(r.ownerDocument.documentElement,r)){if(n!==null&&Kh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Yp(r,i);var o=Yp(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var H1=Br&&"documentMode"in document&&11>=document.documentMode,Is=null,yd=null,ho=null,vd=!1;function Xp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vd||Is==null||Is!==vl(n)||(n=Is,"selectionStart"in n&&Kh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ho&&Oo(ho,n)||(ho=n,n=jl(yd,"onSelect"),0<n.length&&(t=new Hh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Is)))}function Oa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ms={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionend:Oa("Transition","TransitionEnd")},du={},Kv={};Br&&(Kv=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function vc(e){if(du[e])return du[e];if(!Ms[e])return e;var t=Ms[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Kv)return du[e]=t[r];return e}var Gv=vc("animationend"),Jv=vc("animationiteration"),Qv=vc("animationstart"),Yv=vc("transitionend"),Xv=new Map,em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){Xv.set(e,t),ws(t,[e])}for(var hu=0;hu<em.length;hu++){var fu=em[hu],Z1=fu.toLowerCase(),q1=fu[0].toUpperCase()+fu.slice(1);Mn(Z1,"on"+q1)}Mn(Gv,"onAnimationEnd");Mn(Jv,"onAnimationIteration");Mn(Qv,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(Yv,"onTransitionEnd");oi("onMouseEnter",["mouseout","mouseover"]);oi("onMouseLeave",["mouseout","mouseover"]);oi("onPointerEnter",["pointerout","pointerover"]);oi("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K1=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function tm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Z_(n,t,void 0,e),e.currentTarget=null}function e0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;tm(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;tm(s,a,c),i=l}}}if(wl)throw e=fd,wl=!1,fd=null,e}function Ce(e,t){var r=t[kd];r===void 0&&(r=t[kd]=new Set);var n=e+"__bubble";r.has(n)||(t0(t,e,2,!1),r.add(n))}function pu(e,t,r){var n=0;t&&(n|=4),t0(r,e,n,t)}var Da="_reactListening"+Math.random().toString(36).slice(2);function Do(e){if(!e[Da]){e[Da]=!0,lv.forEach(function(r){r!=="selectionchange"&&(K1.has(r)||pu(r,!1,e),pu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Da]||(t[Da]=!0,pu("selectionchange",!1,t))}}function t0(e,t,r,n){switch(Vv(t)){case 1:var s=l1;break;case 4:s=c1;break;default:s=Bh}r=s.bind(null,t,r,e),s=void 0,!hd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function mu(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Xn(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Sv(function(){var c=i,d=$h(r),h=[];e:{var f=Xv.get(e);if(f!==void 0){var m=Hh,x=e;switch(e){case"keypress":if(sl(r)===0)break e;case"keydown":case"keyup":m=S1;break;case"focusin":x="focus",m=lu;break;case"focusout":x="blur",m=lu;break;case"beforeblur":case"afterblur":m=lu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=h1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=T1;break;case Gv:case Jv:case Qv:m=m1;break;case Yv:m=N1;break;case"scroll":m=u1;break;case"wheel":m=A1;break;case"copy":case"cut":case"paste":m=y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hp}var v=(t&4)!==0,_=!v&&e==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var p=c,y;p!==null;){y=p;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,g!==null&&(S=No(p,g),S!=null&&v.push(Io(p,S,y)))),_)break;p=p.return}0<v.length&&(f=new m(f,x,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==ud&&(x=r.relatedTarget||r.fromElement)&&(Xn(x)||x[Wr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=c,x=x?Xn(x):null,x!==null&&(_=bs(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(v=Bp,S="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Hp,S="onPointerLeave",g="onPointerEnter",p="pointer"),_=m==null?f:Vs(m),y=x==null?f:Vs(x),f=new v(S,p+"leave",m,r,d),f.target=_,f.relatedTarget=y,S=null,Xn(d)===c&&(v=new v(g,p+"enter",x,r,d),v.target=y,v.relatedTarget=_,S=v),_=S,m&&x)t:{for(v=m,g=x,p=0,y=v;y;y=js(y))p++;for(y=0,S=g;S;S=js(S))y++;for(;0<p-y;)v=js(v),p--;for(;0<y-p;)g=js(g),y--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=js(v),g=js(g)}v=null}else v=null;m!==null&&rm(h,f,m,v,!1),x!==null&&_!==null&&rm(h,_,x,v,!0)}}e:{if(f=c?Vs(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var w=V1;else if(Kp(f))if(Wv)w=z1;else{w=F1;var E=$1}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=U1);if(w&&(w=w(e,c))){Bv(h,w,r,d);break e}E&&E(e,f,c),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&id(f,"number",f.value)}switch(E=c?Vs(c):window,e){case"focusin":(Kp(E)||E.contentEditable==="true")&&(Is=E,yd=c,ho=null);break;case"focusout":ho=yd=Is=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,Xp(h,r,d);break;case"selectionchange":if(H1)break;case"keydown":case"keyup":Xp(h,r,d)}var P;if(qh)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ds?Uv(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Fv&&r.locale!=="ko"&&(Ds||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ds&&(P=$v()):(yn=d,Wh="value"in yn?yn.value:yn.textContent,Ds=!0)),E=jl(c,j),0<E.length&&(j=new Wp(j,e,null,r,d),h.push({event:j,listeners:E}),P?j.data=P:(P=zv(r),P!==null&&(j.data=P)))),(P=L1?O1(e,r):D1(e,r))&&(c=jl(c,"onBeforeInput"),0<c.length&&(d=new Wp("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=P))}e0(h,t)})}function Io(e,t,r){return{instance:e,listener:t,currentTarget:r}}function jl(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=No(e,r),i!=null&&n.unshift(Io(e,i,s)),i=No(e,t),i!=null&&n.push(Io(e,i,s))),e=e.return}return n}function js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rm(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=No(r,i),l!=null&&o.unshift(Io(r,l,a))):s||(l=No(r,i),l!=null&&o.push(Io(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var G1=/\r\n?/g,J1=/\u0000|\uFFFD/g;function nm(e){return(typeof e=="string"?e:""+e).replace(G1,`
`).replace(J1,"")}function Ia(e,t,r){if(t=nm(t),nm(e)!==t&&r)throw Error(D(425))}function Cl(){}var xd=null,wd=null;function bd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _d=typeof setTimeout=="function"?setTimeout:void 0,Q1=typeof clearTimeout=="function"?clearTimeout:void 0,sm=typeof Promise=="function"?Promise:void 0,Y1=typeof queueMicrotask=="function"?queueMicrotask:typeof sm<"u"?function(e){return sm.resolve(null).then(e).catch(X1)}:_d;function X1(e){setTimeout(function(){throw e})}function gu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ro(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ro(t)}function kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function im(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ji=Math.random().toString(36).slice(2),mr="__reactFiber$"+ji,Mo="__reactProps$"+ji,Wr="__reactContainer$"+ji,kd="__reactEvents$"+ji,ek="__reactListeners$"+ji,tk="__reactHandles$"+ji;function Xn(e){var t=e[mr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wr]||r[mr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=im(e);e!==null;){if(r=e[mr])return r;e=im(e)}return t}e=r,r=e.parentNode}return null}function ma(e){return e=e[mr]||e[Wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function xc(e){return e[Mo]||null}var Sd=[],$s=-1;function Vn(e){return{current:e}}function Te(e){0>$s||(e.current=Sd[$s],Sd[$s]=null,$s--)}function Se(e,t){$s++,Sd[$s]=e.current,e.current=t}var Pn={},ct=Vn(Pn),_t=Vn(!1),cs=Pn;function ai(e,t){var r=e.type.contextTypes;if(!r)return Pn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function kt(e){return e=e.childContextTypes,e!=null}function Tl(){Te(_t),Te(ct)}function om(e,t,r){if(ct.current!==Pn)throw Error(D(168));Se(ct,t),Se(_t,r)}function r0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(D(108,$_(e)||"Unknown",s));return Ie({},r,n)}function El(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,cs=ct.current,Se(ct,e),Se(_t,_t.current),!0}function am(e,t,r){var n=e.stateNode;if(!n)throw Error(D(169));r?(e=r0(e,t,cs),n.__reactInternalMemoizedMergedChildContext=e,Te(_t),Te(ct),Se(ct,e)):Te(_t),Se(_t,r)}var Ir=null,wc=!1,yu=!1;function n0(e){Ir===null?Ir=[e]:Ir.push(e)}function rk(e){wc=!0,n0(e)}function $n(){if(!yu&&Ir!==null){yu=!0;var e=0,t=ye;try{var r=Ir;for(ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ir=null,wc=!1}catch(s){throw Ir!==null&&(Ir=Ir.slice(e+1)),Ev(Fh,$n),s}finally{ye=t,yu=!1}}return null}var Fs=[],Us=0,Nl=null,Pl=0,Ut=[],zt=0,us=null,Vr=1,$r="";function qn(e,t){Fs[Us++]=Pl,Fs[Us++]=Nl,Nl=e,Pl=t}function s0(e,t,r){Ut[zt++]=Vr,Ut[zt++]=$r,Ut[zt++]=us,us=e;var n=Vr;e=$r;var s=32-ir(n)-1;n&=~(1<<s),r+=1;var i=32-ir(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Vr=1<<32-ir(t)+s|r<<s|n,$r=i+e}else Vr=1<<i|r<<s|n,$r=e}function Gh(e){e.return!==null&&(qn(e,1),s0(e,1,0))}function Jh(e){for(;e===Nl;)Nl=Fs[--Us],Fs[Us]=null,Pl=Fs[--Us],Fs[Us]=null;for(;e===us;)us=Ut[--zt],Ut[zt]=null,$r=Ut[--zt],Ut[zt]=null,Vr=Ut[--zt],Ut[zt]=null}var At=null,Pt=null,Ne=!1,tr=null;function i0(e,t){var r=Bt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function lm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,At=e,Pt=kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,At=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=us!==null?{id:Vr,overflow:$r}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Bt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,At=e,Pt=null,!0):!1;default:return!1}}function jd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cd(e){if(Ne){var t=Pt;if(t){var r=t;if(!lm(e,t)){if(jd(e))throw Error(D(418));t=kn(r.nextSibling);var n=At;t&&lm(e,t)?i0(n,r):(e.flags=e.flags&-4097|2,Ne=!1,At=e)}}else{if(jd(e))throw Error(D(418));e.flags=e.flags&-4097|2,Ne=!1,At=e}}}function cm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function Ma(e){if(e!==At)return!1;if(!Ne)return cm(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bd(e.type,e.memoizedProps)),t&&(t=Pt)){if(jd(e))throw o0(),Error(D(418));for(;t;)i0(e,t),t=kn(t.nextSibling)}if(cm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Pt=kn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=At?kn(e.stateNode.nextSibling):null;return!0}function o0(){for(var e=Pt;e;)e=kn(e.nextSibling)}function li(){Pt=At=null,Ne=!1}function Qh(e){tr===null?tr=[e]:tr.push(e)}var nk=Jr.ReactCurrentBatchConfig;function Ui(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var n=r.stateNode}if(!n)throw Error(D(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function um(e){var t=e._init;return t(e._payload)}function a0(e){function t(g,p){if(e){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Tn(g,p),g.index=0,g.sibling=null,g}function i(g,p,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,S){return p===null||p.tag!==6?(p=Su(y,g.mode,S),p.return=g,p):(p=s(p,y),p.return=g,p)}function l(g,p,y,S){var w=y.type;return w===Os?d(g,p,y.props.children,S,y.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===cn&&um(w)===p.type)?(S=s(p,y.props),S.ref=Ui(g,p,y),S.return=g,S):(S=dl(y.type,y.key,y.props,null,g.mode,S),S.ref=Ui(g,p,y),S.return=g,S)}function c(g,p,y,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=ju(y,g.mode,S),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function d(g,p,y,S,w){return p===null||p.tag!==7?(p=os(y,g.mode,S,w),p.return=g,p):(p=s(p,y),p.return=g,p)}function h(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Su(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ta:return y=dl(p.type,p.key,p.props,null,g.mode,y),y.ref=Ui(g,null,p),y.return=g,y;case Ls:return p=ju(p,g.mode,y),p.return=g,p;case cn:var S=p._init;return h(g,S(p._payload),y)}if(Yi(p)||Ii(p))return p=os(p,g.mode,y,null),p.return=g,p;Va(g,p)}return null}function f(g,p,y,S){var w=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:a(g,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ta:return y.key===w?l(g,p,y,S):null;case Ls:return y.key===w?c(g,p,y,S):null;case cn:return w=y._init,f(g,p,w(y._payload),S)}if(Yi(y)||Ii(y))return w!==null?null:d(g,p,y,S,null);Va(g,y)}return null}function m(g,p,y,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(y)||null,a(p,g,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ta:return g=g.get(S.key===null?y:S.key)||null,l(p,g,S,w);case Ls:return g=g.get(S.key===null?y:S.key)||null,c(p,g,S,w);case cn:var E=S._init;return m(g,p,y,E(S._payload),w)}if(Yi(S)||Ii(S))return g=g.get(y)||null,d(p,g,S,w,null);Va(p,S)}return null}function x(g,p,y,S){for(var w=null,E=null,P=p,j=p=0,C=null;P!==null&&j<y.length;j++){P.index>j?(C=P,P=null):C=P.sibling;var A=f(g,P,y[j],S);if(A===null){P===null&&(P=C);break}e&&P&&A.alternate===null&&t(g,P),p=i(A,p,j),E===null?w=A:E.sibling=A,E=A,P=C}if(j===y.length)return r(g,P),Ne&&qn(g,j),w;if(P===null){for(;j<y.length;j++)P=h(g,y[j],S),P!==null&&(p=i(P,p,j),E===null?w=P:E.sibling=P,E=P);return Ne&&qn(g,j),w}for(P=n(g,P);j<y.length;j++)C=m(P,g,j,y[j],S),C!==null&&(e&&C.alternate!==null&&P.delete(C.key===null?j:C.key),p=i(C,p,j),E===null?w=C:E.sibling=C,E=C);return e&&P.forEach(function(B){return t(g,B)}),Ne&&qn(g,j),w}function v(g,p,y,S){var w=Ii(y);if(typeof w!="function")throw Error(D(150));if(y=w.call(y),y==null)throw Error(D(151));for(var E=w=null,P=p,j=p=0,C=null,A=y.next();P!==null&&!A.done;j++,A=y.next()){P.index>j?(C=P,P=null):C=P.sibling;var B=f(g,P,A.value,S);if(B===null){P===null&&(P=C);break}e&&P&&B.alternate===null&&t(g,P),p=i(B,p,j),E===null?w=B:E.sibling=B,E=B,P=C}if(A.done)return r(g,P),Ne&&qn(g,j),w;if(P===null){for(;!A.done;j++,A=y.next())A=h(g,A.value,S),A!==null&&(p=i(A,p,j),E===null?w=A:E.sibling=A,E=A);return Ne&&qn(g,j),w}for(P=n(g,P);!A.done;j++,A=y.next())A=m(P,g,j,A.value,S),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?j:A.key),p=i(A,p,j),E===null?w=A:E.sibling=A,E=A);return e&&P.forEach(function(R){return t(g,R)}),Ne&&qn(g,j),w}function _(g,p,y,S){if(typeof y=="object"&&y!==null&&y.type===Os&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ta:e:{for(var w=y.key,E=p;E!==null;){if(E.key===w){if(w=y.type,w===Os){if(E.tag===7){r(g,E.sibling),p=s(E,y.props.children),p.return=g,g=p;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===cn&&um(w)===E.type){r(g,E.sibling),p=s(E,y.props),p.ref=Ui(g,E,y),p.return=g,g=p;break e}r(g,E);break}else t(g,E);E=E.sibling}y.type===Os?(p=os(y.props.children,g.mode,S,y.key),p.return=g,g=p):(S=dl(y.type,y.key,y.props,null,g.mode,S),S.ref=Ui(g,p,y),S.return=g,g=S)}return o(g);case Ls:e:{for(E=y.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(g,p.sibling),p=s(p,y.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=ju(y,g.mode,S),p.return=g,g=p}return o(g);case cn:return E=y._init,_(g,p,E(y._payload),S)}if(Yi(y))return x(g,p,y,S);if(Ii(y))return v(g,p,y,S);Va(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,y),p.return=g,g=p):(r(g,p),p=Su(y,g.mode,S),p.return=g,g=p),o(g)):r(g,p)}return _}var ci=a0(!0),l0=a0(!1),Al=Vn(null),Rl=null,zs=null,Yh=null;function Xh(){Yh=zs=Rl=null}function ef(e){var t=Al.current;Te(Al),e._currentValue=t}function Td(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ti(e,t){Rl=e,Yh=zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(Yh!==e)if(e={context:e,memoizedValue:t,next:null},zs===null){if(Rl===null)throw Error(D(308));zs=e,Rl.dependencies={lanes:0,firstContext:e}}else zs=zs.next=e;return t}var es=null;function tf(e){es===null?es=[e]:es.push(e)}function c0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,tf(t)):(r.next=s.next,s.next=r),t.interleaved=r,Hr(e,n)}function Hr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var un=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,de&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Hr(e,r)}return s=n.interleaved,s===null?(t.next=t,tf(n)):(t.next=s.next,s.next=t),n.interleaved=t,Hr(e,r)}function il(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Uh(e,r)}}function dm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ll(e,t,r,n){var s=e.updateQueue;un=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,v=a;switch(f=t,m=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(m,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(m,h,f):x,f==null)break e;h=Ie({},h,f);break e;case 2:un=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);hs|=o,e.lanes=o,e.memoizedState=h}}function hm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(D(191,s));s.call(n)}}}var ga={},xr=Vn(ga),Vo=Vn(ga),$o=Vn(ga);function ts(e){if(e===ga)throw Error(D(174));return e}function nf(e,t){switch(Se($o,t),Se(Vo,e),Se(xr,ga),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ad(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ad(t,e)}Te(xr),Se(xr,t)}function ui(){Te(xr),Te(Vo),Te($o)}function d0(e){ts($o.current);var t=ts(xr.current),r=ad(t,e.type);t!==r&&(Se(Vo,e),Se(xr,r))}function sf(e){Vo.current===e&&(Te(xr),Te(Vo))}var Re=Vn(0);function Ol(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vu=[];function of(){for(var e=0;e<vu.length;e++)vu[e]._workInProgressVersionPrimary=null;vu.length=0}var ol=Jr.ReactCurrentDispatcher,xu=Jr.ReactCurrentBatchConfig,ds=0,Oe=null,qe=null,Je=null,Dl=!1,fo=!1,Fo=0,sk=0;function nt(){throw Error(D(321))}function af(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!lr(e[r],t[r]))return!1;return!0}function lf(e,t,r,n,s,i){if(ds=i,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ol.current=e===null||e.memoizedState===null?lk:ck,e=r(n,s),fo){i=0;do{if(fo=!1,Fo=0,25<=i)throw Error(D(301));i+=1,Je=qe=null,t.updateQueue=null,ol.current=uk,e=r(n,s)}while(fo)}if(ol.current=Il,t=qe!==null&&qe.next!==null,ds=0,Je=qe=Oe=null,Dl=!1,t)throw Error(D(300));return e}function cf(){var e=Fo!==0;return Fo=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Oe.memoizedState=Je=e:Je=Je.next=e,Je}function Kt(){if(qe===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Je===null?Oe.memoizedState:Je.next;if(t!==null)Je=t,qe=e;else{if(e===null)throw Error(D(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Je===null?Oe.memoizedState=Je=e:Je=Je.next=e}return Je}function Uo(e,t){return typeof t=="function"?t(e):t}function wu(e){var t=Kt(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=qe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ds&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Oe.lanes|=d,hs|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,lr(n,t.memoizedState)||(bt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Oe.lanes|=i,hs|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bu(e){var t=Kt(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);lr(i,t.memoizedState)||(bt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function h0(){}function f0(e,t){var r=Oe,n=Kt(),s=t(),i=!lr(n.memoizedState,s);if(i&&(n.memoizedState=s,bt=!0),n=n.queue,uf(g0.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,zo(9,m0.bind(null,r,n,s,t),void 0,null),Qe===null)throw Error(D(349));ds&30||p0(r,t,s)}return s}function p0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function m0(e,t,r,n){t.value=r,t.getSnapshot=n,y0(t)&&v0(e)}function g0(e,t,r){return r(function(){y0(t)&&v0(e)})}function y0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!lr(e,r)}catch{return!0}}function v0(e){var t=Hr(e,1);t!==null&&or(t,e,1,-1)}function fm(e){var t=fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},t.queue=e,e=e.dispatch=ak.bind(null,Oe,e),[t.memoizedState,e]}function zo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function x0(){return Kt().memoizedState}function al(e,t,r,n){var s=fr();Oe.flags|=e,s.memoizedState=zo(1|t,r,void 0,n===void 0?null:n)}function bc(e,t,r,n){var s=Kt();n=n===void 0?null:n;var i=void 0;if(qe!==null){var o=qe.memoizedState;if(i=o.destroy,n!==null&&af(n,o.deps)){s.memoizedState=zo(t,r,i,n);return}}Oe.flags|=e,s.memoizedState=zo(1|t,r,i,n)}function pm(e,t){return al(8390656,8,e,t)}function uf(e,t){return bc(2048,8,e,t)}function w0(e,t){return bc(4,2,e,t)}function b0(e,t){return bc(4,4,e,t)}function _0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function k0(e,t,r){return r=r!=null?r.concat([e]):null,bc(4,4,_0.bind(null,t,e),r)}function df(){}function S0(e,t){var r=Kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&af(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function j0(e,t){var r=Kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&af(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function C0(e,t,r){return ds&21?(lr(r,t)||(r=Av(),Oe.lanes|=r,hs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=r)}function ik(e,t){var r=ye;ye=r!==0&&4>r?r:4,e(!0);var n=xu.transition;xu.transition={};try{e(!1),t()}finally{ye=r,xu.transition=n}}function T0(){return Kt().memoizedState}function ok(e,t,r){var n=Cn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},E0(e))N0(t,r);else if(r=c0(e,t,r,n),r!==null){var s=pt();or(r,e,n,s),P0(r,t,n)}}function ak(e,t,r){var n=Cn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(E0(e))N0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,lr(a,o)){var l=t.interleaved;l===null?(s.next=s,tf(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=c0(e,t,s,n),r!==null&&(s=pt(),or(r,e,n,s),P0(r,t,n))}}function E0(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function N0(e,t){fo=Dl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function P0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Uh(e,r)}}var Il={readContext:qt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},lk={readContext:qt,useCallback:function(e,t){return fr().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:pm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,al(4194308,4,_0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return al(4194308,4,e,t)},useInsertionEffect:function(e,t){return al(4,2,e,t)},useMemo:function(e,t){var r=fr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=fr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ok.bind(null,Oe,e),[n.memoizedState,e]},useRef:function(e){var t=fr();return e={current:e},t.memoizedState=e},useState:fm,useDebugValue:df,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=fm(!1),t=e[0];return e=ik.bind(null,e[1]),fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Oe,s=fr();if(Ne){if(r===void 0)throw Error(D(407));r=r()}else{if(r=t(),Qe===null)throw Error(D(349));ds&30||p0(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,pm(g0.bind(null,n,i,e),[e]),n.flags|=2048,zo(9,m0.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=fr(),t=Qe.identifierPrefix;if(Ne){var r=$r,n=Vr;r=(n&~(1<<32-ir(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Fo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ck={readContext:qt,useCallback:S0,useContext:qt,useEffect:uf,useImperativeHandle:k0,useInsertionEffect:w0,useLayoutEffect:b0,useMemo:j0,useReducer:wu,useRef:x0,useState:function(){return wu(Uo)},useDebugValue:df,useDeferredValue:function(e){var t=Kt();return C0(t,qe.memoizedState,e)},useTransition:function(){var e=wu(Uo)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:h0,useSyncExternalStore:f0,useId:T0,unstable_isNewReconciler:!1},uk={readContext:qt,useCallback:S0,useContext:qt,useEffect:uf,useImperativeHandle:k0,useInsertionEffect:w0,useLayoutEffect:b0,useMemo:j0,useReducer:bu,useRef:x0,useState:function(){return bu(Uo)},useDebugValue:df,useDeferredValue:function(e){var t=Kt();return qe===null?t.memoizedState=e:C0(t,qe.memoizedState,e)},useTransition:function(){var e=bu(Uo)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:h0,useSyncExternalStore:f0,useId:T0,unstable_isNewReconciler:!1};function Yt(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ed(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _c={isMounted:function(e){return(e=e._reactInternals)?bs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=pt(),s=Cn(e),i=Fr(n,s);i.payload=t,r!=null&&(i.callback=r),t=Sn(e,i,s),t!==null&&(or(t,e,s,n),il(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=pt(),s=Cn(e),i=Fr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Sn(e,i,s),t!==null&&(or(t,e,s,n),il(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pt(),n=Cn(e),s=Fr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Sn(e,s,n),t!==null&&(or(t,e,n,r),il(t,e,n))}};function mm(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Oo(r,n)||!Oo(s,i):!0}function A0(e,t,r){var n=!1,s=Pn,i=t.contextType;return typeof i=="object"&&i!==null?i=qt(i):(s=kt(t)?cs:ct.current,n=t.contextTypes,i=(n=n!=null)?ai(e,s):Pn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_c,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function gm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_c.enqueueReplaceState(t,t.state,null)}function Nd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},rf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=qt(i):(i=kt(t)?cs:ct.current,s.context=ai(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ed(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_c.enqueueReplaceState(s,s.state,null),Ll(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function di(e,t){try{var r="",n=t;do r+=V_(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function _u(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Pd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dk=typeof WeakMap=="function"?WeakMap:Map;function R0(e,t,r){r=Fr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vl||(Vl=!0,Fd=n),Pd(e,t)},r}function L0(e,t,r){r=Fr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Pd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Pd(e,t),typeof n!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ym(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new dk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=jk.bind(null,e,t,r),t.then(e,e))}function vm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xm(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fr(-1,1),t.tag=2,Sn(r,t,1))),r.lanes|=1),e)}var hk=Jr.ReactCurrentOwner,bt=!1;function ht(e,t,r,n){t.child=e===null?l0(t,null,r,n):ci(t,e.child,r,n)}function wm(e,t,r,n,s){r=r.render;var i=t.ref;return ti(t,s),n=lf(e,t,r,n,i,s),r=cf(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zr(e,t,s)):(Ne&&r&&Gh(t),t.flags|=1,ht(e,t,n,s),t.child)}function bm(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!xf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,O0(e,t,i,n,s)):(e=dl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Oo,r(o,n)&&e.ref===t.ref)return Zr(e,t,s)}return t.flags|=1,e=Tn(i,n),e.ref=t.ref,e.return=t,t.child=e}function O0(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Oo(i,n)&&e.ref===t.ref)if(bt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,Zr(e,t,s)}return Ad(e,t,r,n,s)}function D0(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ws,Et),Et|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Ws,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Se(Ws,Et),Et|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Se(Ws,Et),Et|=n;return ht(e,t,s,r),t.child}function I0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ad(e,t,r,n,s){var i=kt(r)?cs:ct.current;return i=ai(t,i),ti(t,s),r=lf(e,t,r,n,i,s),n=cf(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zr(e,t,s)):(Ne&&n&&Gh(t),t.flags|=1,ht(e,t,r,s),t.child)}function _m(e,t,r,n,s){if(kt(r)){var i=!0;El(t)}else i=!1;if(ti(t,s),t.stateNode===null)ll(e,t),A0(t,r,n),Nd(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=qt(c):(c=kt(r)?cs:ct.current,c=ai(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&gm(t,o,n,c),un=!1;var f=t.memoizedState;o.state=f,Ll(t,n,o,s),l=t.memoizedState,a!==n||f!==l||_t.current||un?(typeof d=="function"&&(Ed(t,r,d,n),l=t.memoizedState),(a=un||mm(t,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,u0(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Yt(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=qt(l):(l=kt(r)?cs:ct.current,l=ai(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&gm(t,o,n,l),un=!1,f=t.memoizedState,o.state=f,Ll(t,n,o,s);var x=t.memoizedState;a!==h||f!==x||_t.current||un?(typeof m=="function"&&(Ed(t,r,m,n),x=t.memoizedState),(c=un||mm(t,r,c,n,f,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Rd(e,t,r,n,i,s)}function Rd(e,t,r,n,s,i){I0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&am(t,r,!1),Zr(e,t,i);n=t.stateNode,hk.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ci(t,e.child,null,i),t.child=ci(t,null,a,i)):ht(e,t,a,i),t.memoizedState=n.state,s&&am(t,r,!0),t.child}function M0(e){var t=e.stateNode;t.pendingContext?om(e,t.pendingContext,t.pendingContext!==t.context):t.context&&om(e,t.context,!1),nf(e,t.containerInfo)}function km(e,t,r,n,s){return li(),Qh(s),t.flags|=256,ht(e,t,r,n),t.child}var Ld={dehydrated:null,treeContext:null,retryLane:0};function Od(e){return{baseLanes:e,cachePool:null,transitions:null}}function V0(e,t,r){var n=t.pendingProps,s=Re.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Se(Re,s&1),e===null)return Cd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=jc(o,n,0,null),e=os(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Od(r),t.memoizedState=Ld,e):hf(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return fk(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Tn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Tn(a,i):(i=os(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Od(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ld,n}return i=e.child,e=i.sibling,n=Tn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function hf(e,t){return t=jc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $a(e,t,r,n){return n!==null&&Qh(n),ci(t,e.child,null,r),e=hf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fk(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=_u(Error(D(422))),$a(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=jc({mode:"visible",children:n.children},s,0,null),i=os(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ci(t,e.child,null,o),t.child.memoizedState=Od(o),t.memoizedState=Ld,i);if(!(t.mode&1))return $a(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(D(419)),n=_u(i,n,void 0),$a(e,t,o,n)}if(a=(o&e.childLanes)!==0,bt||a){if(n=Qe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hr(e,s),or(n,e,s,-1))}return vf(),n=_u(Error(D(421))),$a(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ck.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Pt=kn(s.nextSibling),At=t,Ne=!0,tr=null,e!==null&&(Ut[zt++]=Vr,Ut[zt++]=$r,Ut[zt++]=us,Vr=e.id,$r=e.overflow,us=t),t=hf(t,n.children),t.flags|=4096,t)}function Sm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Td(e.return,t,r)}function ku(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function $0(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ht(e,t,n.children,r),n=Re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sm(e,r,t);else if(e.tag===19)Sm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Se(Re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ol(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ku(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ol(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ku(t,!0,r,null,i);break;case"together":ku(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ll(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,r=Tn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Tn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function pk(e,t,r){switch(t.tag){case 3:M0(t),li();break;case 5:d0(t);break;case 1:kt(t.type)&&El(t);break;case 4:nf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Se(Al,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Se(Re,Re.current&1),t.flags|=128,null):r&t.child.childLanes?V0(e,t,r):(Se(Re,Re.current&1),e=Zr(e,t,r),e!==null?e.sibling:null);Se(Re,Re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return $0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Se(Re,Re.current),n)break;return null;case 22:case 23:return t.lanes=0,D0(e,t,r)}return Zr(e,t,r)}var F0,Dd,U0,z0;F0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dd=function(){};U0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ts(xr.current);var i=null;switch(r){case"input":s=nd(e,s),n=nd(e,n),i=[];break;case"select":s=Ie({},s,{value:void 0}),n=Ie({},n,{value:void 0}),i=[];break;case"textarea":s=od(e,s),n=od(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Cl)}ld(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(To.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s?.[c],n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(To.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ce("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};z0=function(e,t,r,n){r!==n&&(t.flags|=4)};function zi(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function mk(e,t,r){var n=t.pendingProps;switch(Jh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return kt(t.type)&&Tl(),st(t),null;case 3:return n=t.stateNode,ui(),Te(_t),Te(ct),of(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ma(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tr!==null&&(Bd(tr),tr=null))),Dd(e,t),st(t),null;case 5:sf(t);var s=ts($o.current);if(r=t.type,e!==null&&t.stateNode!=null)U0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(D(166));return st(t),null}if(e=ts(xr.current),Ma(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[mr]=t,n[Mo]=i,e=(t.mode&1)!==0,r){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(s=0;s<eo.length;s++)Ce(eo[s],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Lp(n,i),Ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ce("invalid",n);break;case"textarea":Dp(n,i),Ce("invalid",n)}ld(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ia(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ia(n.textContent,a,e),s=["children",""+a]):To.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",n)}switch(r){case"input":Ea(n),Op(n,i,!0);break;case"textarea":Ea(n),Ip(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Cl)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[mr]=t,e[Mo]=n,F0(e,t,!1,!1),t.stateNode=e;e:{switch(o=cd(r,n),r){case"dialog":Ce("cancel",e),Ce("close",e),s=n;break;case"iframe":case"object":case"embed":Ce("load",e),s=n;break;case"video":case"audio":for(s=0;s<eo.length;s++)Ce(eo[s],e);s=n;break;case"source":Ce("error",e),s=n;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),s=n;break;case"details":Ce("toggle",e),s=n;break;case"input":Lp(e,n),s=nd(e,n),Ce("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ie({},n,{value:void 0}),Ce("invalid",e);break;case"textarea":Dp(e,n),s=od(e,n),Ce("invalid",e);break;default:s=n}ld(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?xv(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yv(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Eo(e,l):typeof l=="number"&&Eo(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(To.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ce("scroll",e):l!=null&&Dh(e,i,l,o))}switch(r){case"input":Ea(e),Op(e,n,!1);break;case"textarea":Ea(e),Ip(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Qs(e,!!n.multiple,i,!1):n.defaultValue!=null&&Qs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Cl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)z0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(D(166));if(r=ts($o.current),ts(xr.current),Ma(t)){if(n=t.stateNode,r=t.memoizedProps,n[mr]=t,(i=n.nodeValue!==r)&&(e=At,e!==null))switch(e.tag){case 3:Ia(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ia(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[mr]=t,t.stateNode=n}return st(t),null;case 13:if(Te(Re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&Pt!==null&&t.mode&1&&!(t.flags&128))o0(),li(),t.flags|=98560,i=!1;else if(i=Ma(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[mr]=t}else li(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),i=!1}else tr!==null&&(Bd(tr),tr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Ke===0&&(Ke=3):vf())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return ui(),Dd(e,t),e===null&&Do(t.stateNode.containerInfo),st(t),null;case 10:return ef(t.type._context),st(t),null;case 17:return kt(t.type)&&Tl(),st(t),null;case 19:if(Te(Re),i=t.memoizedState,i===null)return st(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)zi(i,!1);else{if(Ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ol(e),o!==null){for(t.flags|=128,zi(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Se(Re,Re.current&1|2),t.child}e=e.sibling}i.tail!==null&&Fe()>hi&&(t.flags|=128,n=!0,zi(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ol(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return st(t),null}else 2*Fe()-i.renderingStartTime>hi&&r!==1073741824&&(t.flags|=128,n=!0,zi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Fe(),t.sibling=null,r=Re.current,Se(Re,n?r&1|2:r&1),t):(st(t),null);case 22:case 23:return yf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Et&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function gk(e,t){switch(Jh(t),t.tag){case 1:return kt(t.type)&&Tl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ui(),Te(_t),Te(ct),of(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sf(t),null;case 13:if(Te(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Re),null;case 4:return ui(),null;case 10:return ef(t.type._context),null;case 22:case 23:return yf(),null;case 24:return null;default:return null}}var Fa=!1,at=!1,yk=typeof WeakSet=="function"?WeakSet:Set,z=null;function Bs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function Id(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var jm=!1;function vk(e,t){if(xd=kl,e=qv(),Kh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++c===s&&(a=o),f===i&&++d===n&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(wd={focusedElem:e,selectionRange:r},kl=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,_=x.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Yt(t.type,v),_);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(S){Ve(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return x=jm,jm=!1,x}function po(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Id(t,r,i)}s=s.next}while(s!==n)}}function kc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Md(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function B0(e){var t=e.alternate;t!==null&&(e.alternate=null,B0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mr],delete t[Mo],delete t[kd],delete t[ek],delete t[tk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function W0(e){return e.tag===5||e.tag===3||e.tag===4}function Cm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||W0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Cl));else if(n!==4&&(e=e.child,e!==null))for(Vd(e,t,r),e=e.sibling;e!==null;)Vd(e,t,r),e=e.sibling}function $d(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($d(e,t,r),e=e.sibling;e!==null;)$d(e,t,r),e=e.sibling}var Ye=null,Xt=!1;function tn(e,t,r){for(r=r.child;r!==null;)H0(e,t,r),r=r.sibling}function H0(e,t,r){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(mc,r)}catch{}switch(r.tag){case 5:at||Bs(r,t);case 6:var n=Ye,s=Xt;Ye=null,tn(e,t,r),Ye=n,Xt=s,Ye!==null&&(Xt?(e=Ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ye.removeChild(r.stateNode));break;case 18:Ye!==null&&(Xt?(e=Ye,r=r.stateNode,e.nodeType===8?gu(e.parentNode,r):e.nodeType===1&&gu(e,r),Ro(e)):gu(Ye,r.stateNode));break;case 4:n=Ye,s=Xt,Ye=r.stateNode.containerInfo,Xt=!0,tn(e,t,r),Ye=n,Xt=s;break;case 0:case 11:case 14:case 15:if(!at&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Id(r,t,o),s=s.next}while(s!==n)}tn(e,t,r);break;case 1:if(!at&&(Bs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ve(r,t,a)}tn(e,t,r);break;case 21:tn(e,t,r);break;case 22:r.mode&1?(at=(n=at)||r.memoizedState!==null,tn(e,t,r),at=n):tn(e,t,r);break;default:tn(e,t,r)}}function Tm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new yk),t.forEach(function(n){var s=Tk.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Jt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,Xt=!1;break e;case 3:Ye=a.stateNode.containerInfo,Xt=!0;break e;case 4:Ye=a.stateNode.containerInfo,Xt=!0;break e}a=a.return}if(Ye===null)throw Error(D(160));H0(i,o,s),Ye=null,Xt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ve(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Z0(t,e),t=t.sibling}function Z0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),dr(e),n&4){try{po(3,e,e.return),kc(3,e)}catch(v){Ve(e,e.return,v)}try{po(5,e,e.return)}catch(v){Ve(e,e.return,v)}}break;case 1:Jt(t,e),dr(e),n&512&&r!==null&&Bs(r,r.return);break;case 5:if(Jt(t,e),dr(e),n&512&&r!==null&&Bs(r,r.return),e.flags&32){var s=e.stateNode;try{Eo(s,"")}catch(v){Ve(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&pv(s,i),cd(a,o);var c=cd(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?xv(s,h):d==="dangerouslySetInnerHTML"?yv(s,h):d==="children"?Eo(s,h):Dh(s,d,h,c)}switch(a){case"input":sd(s,i);break;case"textarea":mv(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Qs(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Qs(s,!!i.multiple,i.defaultValue,!0):Qs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mo]=i}catch(v){Ve(e,e.return,v)}}break;case 6:if(Jt(t,e),dr(e),n&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){Ve(e,e.return,v)}}break;case 3:if(Jt(t,e),dr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ro(t.containerInfo)}catch(v){Ve(e,e.return,v)}break;case 4:Jt(t,e),dr(e);break;case 13:Jt(t,e),dr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mf=Fe())),n&4&&Tm(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(at=(c=at)||d,Jt(t,e),at=c):Jt(t,e),dr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(z=e,d=e.child;d!==null;){for(h=z=d;z!==null;){switch(f=z,m=f.child,f.tag){case 0:case 11:case 14:case 15:po(4,f,f.return);break;case 1:Bs(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){Ve(n,r,v)}}break;case 5:Bs(f,f.return);break;case 22:if(f.memoizedState!==null){Nm(h);continue}}m!==null?(m.return=f,z=m):Nm(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vv("display",o))}catch(v){Ve(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Ve(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Jt(t,e),dr(e),n&4&&Tm(e);break;case 21:break;default:Jt(t,e),dr(e)}}function dr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(W0(r)){var n=r;break e}r=r.return}throw Error(D(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Eo(s,""),n.flags&=-33);var i=Cm(e);$d(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Cm(e);Vd(e,a,o);break;default:throw Error(D(161))}}catch(l){Ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xk(e,t,r){z=e,q0(e)}function q0(e,t,r){for(var n=(e.mode&1)!==0;z!==null;){var s=z,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Fa;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||at;a=Fa;var c=at;if(Fa=o,(at=l)&&!c)for(z=s;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?Pm(s):l!==null?(l.return=o,z=l):Pm(s);for(;i!==null;)z=i,q0(i),i=i.sibling;z=s,Fa=a,at=c}Em(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,z=i):Em(e)}}function Em(e){for(;z!==null;){var t=z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||kc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!at)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Yt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&hm(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}hm(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ro(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}at||t.flags&512&&Md(t)}catch(f){Ve(t,t.return,f)}}if(t===e){z=null;break}if(r=t.sibling,r!==null){r.return=t.return,z=r;break}z=t.return}}function Nm(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,z=r;break}z=t.return}}function Pm(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kc(4,t)}catch(l){Ve(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Ve(t,s,l)}}var i=t.return;try{Md(t)}catch(l){Ve(t,i,l)}break;case 5:var o=t.return;try{Md(t)}catch(l){Ve(t,o,l)}}}catch(l){Ve(t,t.return,l)}if(t===e){z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,z=a;break}z=t.return}}var wk=Math.ceil,Ml=Jr.ReactCurrentDispatcher,ff=Jr.ReactCurrentOwner,Ht=Jr.ReactCurrentBatchConfig,de=0,Qe=null,He=null,et=0,Et=0,Ws=Vn(0),Ke=0,Bo=null,hs=0,Sc=0,pf=0,mo=null,xt=null,mf=0,hi=1/0,Or=null,Vl=!1,Fd=null,jn=null,Ua=!1,vn=null,$l=0,go=0,Ud=null,cl=-1,ul=0;function pt(){return de&6?Fe():cl!==-1?cl:cl=Fe()}function Cn(e){return e.mode&1?de&2&&et!==0?et&-et:nk.transition!==null?(ul===0&&(ul=Av()),ul):(e=ye,e!==0||(e=window.event,e=e===void 0?16:Vv(e.type)),e):1}function or(e,t,r,n){if(50<go)throw go=0,Ud=null,Error(D(185));fa(e,r,n),(!(de&2)||e!==Qe)&&(e===Qe&&(!(de&2)&&(Sc|=r),Ke===4&&fn(e,et)),St(e,n),r===1&&de===0&&!(t.mode&1)&&(hi=Fe()+500,wc&&$n()))}function St(e,t){var r=e.callbackNode;n1(e,t);var n=_l(e,e===Qe?et:0);if(n===0)r!==null&&$p(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&$p(r),t===1)e.tag===0?rk(Am.bind(null,e)):n0(Am.bind(null,e)),Y1(function(){!(de&6)&&$n()}),r=null;else{switch(Rv(n)){case 1:r=Fh;break;case 4:r=Nv;break;case 16:r=bl;break;case 536870912:r=Pv;break;default:r=bl}r=tx(r,K0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function K0(e,t){if(cl=-1,ul=0,de&6)throw Error(D(327));var r=e.callbackNode;if(ri()&&e.callbackNode!==r)return null;var n=_l(e,e===Qe?et:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Fl(e,n);else{t=n;var s=de;de|=2;var i=J0();(Qe!==e||et!==t)&&(Or=null,hi=Fe()+500,is(e,t));do try{kk();break}catch(a){G0(e,a)}while(!0);Xh(),Ml.current=i,de=s,He!==null?t=0:(Qe=null,et=0,t=Ke)}if(t!==0){if(t===2&&(s=pd(e),s!==0&&(n=s,t=zd(e,s))),t===1)throw r=Bo,is(e,0),fn(e,n),St(e,Fe()),r;if(t===6)fn(e,n);else{if(s=e.current.alternate,!(n&30)&&!bk(s)&&(t=Fl(e,n),t===2&&(i=pd(e),i!==0&&(n=i,t=zd(e,i))),t===1))throw r=Bo,is(e,0),fn(e,n),St(e,Fe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(D(345));case 2:Kn(e,xt,Or);break;case 3:if(fn(e,n),(n&130023424)===n&&(t=mf+500-Fe(),10<t)){if(_l(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){pt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=_d(Kn.bind(null,e,xt,Or),t);break}Kn(e,xt,Or);break;case 4:if(fn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ir(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wk(n/1960))-n,10<n){e.timeoutHandle=_d(Kn.bind(null,e,xt,Or),n);break}Kn(e,xt,Or);break;case 5:Kn(e,xt,Or);break;default:throw Error(D(329))}}}return St(e,Fe()),e.callbackNode===r?K0.bind(null,e):null}function zd(e,t){var r=mo;return e.current.memoizedState.isDehydrated&&(is(e,t).flags|=256),e=Fl(e,t),e!==2&&(t=xt,xt=r,t!==null&&Bd(t)),e}function Bd(e){xt===null?xt=e:xt.push.apply(xt,e)}function bk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!lr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~pf,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ir(t),n=1<<r;e[r]=-1,t&=~n}}function Am(e){if(de&6)throw Error(D(327));ri();var t=_l(e,0);if(!(t&1))return St(e,Fe()),null;var r=Fl(e,t);if(e.tag!==0&&r===2){var n=pd(e);n!==0&&(t=n,r=zd(e,n))}if(r===1)throw r=Bo,is(e,0),fn(e,t),St(e,Fe()),r;if(r===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,xt,Or),St(e,Fe()),null}function gf(e,t){var r=de;de|=1;try{return e(t)}finally{de=r,de===0&&(hi=Fe()+500,wc&&$n())}}function fs(e){vn!==null&&vn.tag===0&&!(de&6)&&ri();var t=de;de|=1;var r=Ht.transition,n=ye;try{if(Ht.transition=null,ye=1,e)return e()}finally{ye=n,Ht.transition=r,de=t,!(de&6)&&$n()}}function yf(){Et=Ws.current,Te(Ws)}function is(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Q1(r)),He!==null)for(r=He.return;r!==null;){var n=r;switch(Jh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Tl();break;case 3:ui(),Te(_t),Te(ct),of();break;case 5:sf(n);break;case 4:ui();break;case 13:Te(Re);break;case 19:Te(Re);break;case 10:ef(n.type._context);break;case 22:case 23:yf()}r=r.return}if(Qe=e,He=e=Tn(e.current,null),et=Et=t,Ke=0,Bo=null,pf=Sc=hs=0,xt=mo=null,es!==null){for(t=0;t<es.length;t++)if(r=es[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}es=null}return e}function G0(e,t){do{var r=He;try{if(Xh(),ol.current=Il,Dl){for(var n=Oe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Dl=!1}if(ds=0,Je=qe=Oe=null,fo=!1,Fo=0,ff.current=null,r===null||r.return===null){Ke=1,Bo=t,He=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=vm(o);if(m!==null){m.flags&=-257,xm(m,o,a,i,t),m.mode&1&&ym(i,c,t),t=m,l=c;var x=t.updateQueue;if(x===null){var v=new Set;v.add(l),t.updateQueue=v}else x.add(l);break e}else{if(!(t&1)){ym(i,c,t),vf();break e}l=Error(D(426))}}else if(Ne&&a.mode&1){var _=vm(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),xm(_,o,a,i,t),Qh(di(l,a));break e}}i=l=di(l,a),Ke!==4&&(Ke=2),mo===null?mo=[i]:mo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=R0(i,l,t);dm(i,g);break e;case 1:a=l;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(jn===null||!jn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=L0(i,a,t);dm(i,S);break e}}i=i.return}while(i!==null)}Y0(r)}catch(w){t=w,He===r&&r!==null&&(He=r=r.return);continue}break}while(!0)}function J0(){var e=Ml.current;return Ml.current=Il,e===null?Il:e}function vf(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Qe===null||!(hs&268435455)&&!(Sc&268435455)||fn(Qe,et)}function Fl(e,t){var r=de;de|=2;var n=J0();(Qe!==e||et!==t)&&(Or=null,is(e,t));do try{_k();break}catch(s){G0(e,s)}while(!0);if(Xh(),de=r,Ml.current=n,He!==null)throw Error(D(261));return Qe=null,et=0,Ke}function _k(){for(;He!==null;)Q0(He)}function kk(){for(;He!==null&&!K_();)Q0(He)}function Q0(e){var t=ex(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?Y0(e):He=t,ff.current=null}function Y0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=gk(r,t),r!==null){r.flags&=32767,He=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,He=null;return}}else if(r=mk(r,t,Et),r!==null){He=r;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Ke===0&&(Ke=5)}function Kn(e,t,r){var n=ye,s=Ht.transition;try{Ht.transition=null,ye=1,Sk(e,t,r,n)}finally{Ht.transition=s,ye=n}return null}function Sk(e,t,r,n){do ri();while(vn!==null);if(de&6)throw Error(D(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(s1(e,i),e===Qe&&(He=Qe=null,et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ua||(Ua=!0,tx(bl,function(){return ri(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ht.transition,Ht.transition=null;var o=ye;ye=1;var a=de;de|=4,ff.current=null,vk(e,r),Z0(r,e),W1(wd),kl=!!xd,wd=xd=null,e.current=r,xk(r),G_(),de=a,ye=o,Ht.transition=i}else e.current=r;if(Ua&&(Ua=!1,vn=e,$l=s),i=e.pendingLanes,i===0&&(jn=null),Y_(r.stateNode),St(e,Fe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Vl)throw Vl=!1,e=Fd,Fd=null,e;return $l&1&&e.tag!==0&&ri(),i=e.pendingLanes,i&1?e===Ud?go++:(go=0,Ud=e):go=0,$n(),null}function ri(){if(vn!==null){var e=Rv($l),t=Ht.transition,r=ye;try{if(Ht.transition=null,ye=16>e?16:e,vn===null)var n=!1;else{if(e=vn,vn=null,$l=0,de&6)throw Error(D(331));var s=de;for(de|=4,z=e.current;z!==null;){var i=z,o=i.child;if(z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(z=c;z!==null;){var d=z;switch(d.tag){case 0:case 11:case 15:po(8,d,i)}var h=d.child;if(h!==null)h.return=d,z=h;else for(;z!==null;){d=z;var f=d.sibling,m=d.return;if(B0(d),d===c){z=null;break}if(f!==null){f.return=m,z=f;break}z=m}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,z=o;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:po(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,z=g;break e}z=i.return}}var p=e.current;for(z=p;z!==null;){o=z;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,z=y;else e:for(o=p;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kc(9,a)}}catch(w){Ve(a,a.return,w)}if(a===o){z=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,z=S;break e}z=a.return}}if(de=s,$n(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(mc,e)}catch{}n=!0}return n}finally{ye=r,Ht.transition=t}}return!1}function Rm(e,t,r){t=di(r,t),t=R0(e,t,1),e=Sn(e,t,1),t=pt(),e!==null&&(fa(e,1,t),St(e,t))}function Ve(e,t,r){if(e.tag===3)Rm(e,e,r);else for(;t!==null;){if(t.tag===3){Rm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(jn===null||!jn.has(n))){e=di(r,e),e=L0(t,e,1),t=Sn(t,e,1),e=pt(),t!==null&&(fa(t,1,e),St(t,e));break}}t=t.return}}function jk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&r,Qe===e&&(et&r)===r&&(Ke===4||Ke===3&&(et&130023424)===et&&500>Fe()-mf?is(e,0):pf|=r),St(e,t)}function X0(e,t){t===0&&(e.mode&1?(t=Aa,Aa<<=1,!(Aa&130023424)&&(Aa=4194304)):t=1);var r=pt();e=Hr(e,t),e!==null&&(fa(e,t,r),St(e,r))}function Ck(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),X0(e,r)}function Tk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(D(314))}n!==null&&n.delete(t),X0(e,r)}var ex;ex=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)bt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return bt=!1,pk(e,t,r);bt=!!(e.flags&131072)}else bt=!1,Ne&&t.flags&1048576&&s0(t,Pl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ll(e,t),e=t.pendingProps;var s=ai(t,ct.current);ti(t,r),s=lf(null,t,n,e,s,r);var i=cf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kt(n)?(i=!0,El(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rf(t),s.updater=_c,t.stateNode=s,s._reactInternals=t,Nd(t,n,e,r),t=Rd(null,t,n,!0,i,r)):(t.tag=0,Ne&&i&&Gh(t),ht(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ll(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Nk(n),e=Yt(n,e),s){case 0:t=Ad(null,t,n,e,r);break e;case 1:t=_m(null,t,n,e,r);break e;case 11:t=wm(null,t,n,e,r);break e;case 14:t=bm(null,t,n,Yt(n.type,e),r);break e}throw Error(D(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yt(n,s),Ad(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yt(n,s),_m(e,t,n,s,r);case 3:e:{if(M0(t),e===null)throw Error(D(387));n=t.pendingProps,i=t.memoizedState,s=i.element,u0(e,t),Ll(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=di(Error(D(423)),t),t=km(e,t,n,r,s);break e}else if(n!==s){s=di(Error(D(424)),t),t=km(e,t,n,r,s);break e}else for(Pt=kn(t.stateNode.containerInfo.firstChild),At=t,Ne=!0,tr=null,r=l0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(li(),n===s){t=Zr(e,t,r);break e}ht(e,t,n,r)}t=t.child}return t;case 5:return d0(t),e===null&&Cd(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,bd(n,s)?o=null:i!==null&&bd(n,i)&&(t.flags|=32),I0(e,t),ht(e,t,o,r),t.child;case 6:return e===null&&Cd(t),null;case 13:return V0(e,t,r);case 4:return nf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ci(t,null,n,r):ht(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yt(n,s),wm(e,t,n,s,r);case 7:return ht(e,t,t.pendingProps,r),t.child;case 8:return ht(e,t,t.pendingProps.children,r),t.child;case 12:return ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Se(Al,n._currentValue),n._currentValue=o,i!==null)if(lr(i.value,o)){if(i.children===s.children&&!_t.current){t=Zr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Fr(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Td(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Td(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ht(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ti(t,r),s=qt(s),n=n(s),t.flags|=1,ht(e,t,n,r),t.child;case 14:return n=t.type,s=Yt(n,t.pendingProps),s=Yt(n.type,s),bm(e,t,n,s,r);case 15:return O0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Yt(n,s),ll(e,t),t.tag=1,kt(n)?(e=!0,El(t)):e=!1,ti(t,r),A0(t,n,s),Nd(t,n,s,r),Rd(null,t,n,!0,e,r);case 19:return $0(e,t,r);case 22:return D0(e,t,r)}throw Error(D(156,t.tag))};function tx(e,t){return Ev(e,t)}function Ek(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,r,n){return new Ek(e,t,r,n)}function xf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nk(e){if(typeof e=="function")return xf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mh)return 11;if(e===Vh)return 14}return 2}function Tn(e,t){var r=e.alternate;return r===null?(r=Bt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function dl(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")xf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Os:return os(r.children,s,i,t);case Ih:o=8,s|=8;break;case Xu:return e=Bt(12,r,t,s|2),e.elementType=Xu,e.lanes=i,e;case ed:return e=Bt(13,r,t,s),e.elementType=ed,e.lanes=i,e;case td:return e=Bt(19,r,t,s),e.elementType=td,e.lanes=i,e;case dv:return jc(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cv:o=10;break e;case uv:o=9;break e;case Mh:o=11;break e;case Vh:o=14;break e;case cn:o=16,n=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Bt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function os(e,t,r,n){return e=Bt(7,e,n,t),e.lanes=r,e}function jc(e,t,r,n){return e=Bt(22,e,n,t),e.elementType=dv,e.lanes=r,e.stateNode={isHidden:!1},e}function Su(e,t,r){return e=Bt(6,e,null,t),e.lanes=r,e}function ju(e,t,r){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pk(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iu(0),this.expirationTimes=iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wf(e,t,r,n,s,i,o,a,l){return e=new Pk(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Bt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(i),e}function Ak(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function rx(e){if(!e)return Pn;e=e._reactInternals;e:{if(bs(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var r=e.type;if(kt(r))return r0(e,r,t)}return t}function nx(e,t,r,n,s,i,o,a,l){return e=wf(r,n,!0,e,s,i,o,a,l),e.context=rx(null),r=e.current,n=pt(),s=Cn(r),i=Fr(n,s),i.callback=t??null,Sn(r,i,s),e.current.lanes=s,fa(e,s,n),St(e,n),e}function Cc(e,t,r,n){var s=t.current,i=pt(),o=Cn(s);return r=rx(r),t.context===null?t.context=r:t.pendingContext=r,t=Fr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Sn(s,t,o),e!==null&&(or(e,s,o,i),il(e,s,o)),o}function Ul(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bf(e,t){Lm(e,t),(e=e.alternate)&&Lm(e,t)}function Rk(){return null}var sx=typeof reportError=="function"?reportError:function(e){console.error(e)};function _f(e){this._internalRoot=e}Tc.prototype.render=_f.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Cc(e,t,null,null)};Tc.prototype.unmount=_f.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fs(function(){Cc(null,e,null,null)}),t[Wr]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<hn.length&&t!==0&&t<hn[r].priority;r++);hn.splice(r,0,e),r===0&&Mv(e)}};function kf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ec(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Om(){}function Lk(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Ul(o);i.call(c)}}var o=nx(t,n,e,0,null,!1,!1,"",Om);return e._reactRootContainer=o,e[Wr]=o.current,Do(e.nodeType===8?e.parentNode:e),fs(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Ul(l);a.call(c)}}var l=wf(e,0,!1,null,null,!1,!1,"",Om);return e._reactRootContainer=l,e[Wr]=l.current,Do(e.nodeType===8?e.parentNode:e),fs(function(){Cc(t,l,r,n)}),l}function Nc(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ul(o);a.call(l)}}Cc(t,o,e,s)}else o=Lk(r,t,e,s,n);return Ul(o)}Lv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Xi(t.pendingLanes);r!==0&&(Uh(t,r|1),St(t,Fe()),!(de&6)&&(hi=Fe()+500,$n()))}break;case 13:fs(function(){var n=Hr(e,1);if(n!==null){var s=pt();or(n,e,1,s)}}),bf(e,1)}};zh=function(e){if(e.tag===13){var t=Hr(e,134217728);if(t!==null){var r=pt();or(t,e,134217728,r)}bf(e,134217728)}};Ov=function(e){if(e.tag===13){var t=Cn(e),r=Hr(e,t);if(r!==null){var n=pt();or(r,e,t,n)}bf(e,t)}};Dv=function(){return ye};Iv=function(e,t){var r=ye;try{return ye=e,t()}finally{ye=r}};dd=function(e,t,r){switch(t){case"input":if(sd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=xc(n);if(!s)throw Error(D(90));fv(n),sd(n,s)}}}break;case"textarea":mv(e,r);break;case"select":t=r.value,t!=null&&Qs(e,!!r.multiple,t,!1)}};_v=gf;kv=fs;var Ok={usingClientEntryPoint:!1,Events:[ma,Vs,xc,wv,bv,gf]},Bi={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dk={bundleType:Bi.bundleType,version:Bi.version,rendererPackageName:Bi.rendererPackageName,rendererConfig:Bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cv(e),e===null?null:e.stateNode},findFiberByHostInstance:Bi.findFiberByHostInstance||Rk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!za.isDisabled&&za.supportsFiber)try{mc=za.inject(Dk),vr=za}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ok;It.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kf(t))throw Error(D(200));return Ak(e,t,null,r)};It.createRoot=function(e,t){if(!kf(e))throw Error(D(299));var r=!1,n="",s=sx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=wf(e,1,!1,null,null,r,!1,n,s),e[Wr]=t.current,Do(e.nodeType===8?e.parentNode:e),new _f(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Cv(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return fs(e)};It.hydrate=function(e,t,r){if(!Ec(t))throw Error(D(200));return Nc(null,e,t,!0,r)};It.hydrateRoot=function(e,t,r){if(!kf(e))throw Error(D(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=sx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=nx(t,null,e,1,r??null,s,!1,i,o),e[Wr]=t.current,Do(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Tc(t)};It.render=function(e,t,r){if(!Ec(t))throw Error(D(200));return Nc(null,e,t,!1,r)};It.unmountComponentAtNode=function(e){if(!Ec(e))throw Error(D(40));return e._reactRootContainer?(fs(function(){Nc(null,null,e,!1,function(){e._reactRootContainer=null,e[Wr]=null})}),!0):!1};It.unstable_batchedUpdates=gf;It.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ec(r))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Nc(e,t,r,!1,n)};It.version="18.3.1-next-f1338f8080-20240426";function ix(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ix)}catch(e){console.error(e)}}ix(),iv.exports=It;var Ik=iv.exports,Dm=Ik;Qu.createRoot=Dm.createRoot,Qu.hydrateRoot=Dm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wo.apply(this,arguments)}var xn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xn||(xn={}));const Im="popstate";function Mk(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return Wd("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:zl(s)}return $k(t,r,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ox(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vk(){return Math.random().toString(36).substr(2,8)}function Mm(e,t){return{usr:e.state,key:e.key,idx:t}}function Wd(e,t,r,n){return r===void 0&&(r=null),Wo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ci(t):t,{state:r,key:t&&t.key||n||Vk()})}function zl(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ci(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function $k(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=xn.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Wo({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=xn.Pop;let _=d(),g=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:g})}function f(_,g){a=xn.Push;let p=Wd(v.location,_,g);c=d()+1;let y=Mm(p,c),S=v.createHref(p);try{o.pushState(y,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(S)}i&&l&&l({action:a,location:v.location,delta:1})}function m(_,g){a=xn.Replace;let p=Wd(v.location,_,g);c=d();let y=Mm(p,c),S=v.createHref(p);o.replaceState(y,"",S),i&&l&&l({action:a,location:v.location,delta:0})}function x(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof _=="string"?_:zl(_);return p=p.replace(/ $/,"%20"),De(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return a},get location(){return e(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Im,h),l=_,()=>{s.removeEventListener(Im,h),l=null}},createHref(_){return t(s,_)},createURL:x,encodeLocation(_){let g=x(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(_){return o.go(_)}};return v}var Vm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Vm||(Vm={}));function Fk(e,t,r){return r===void 0&&(r="/"),Uk(e,t,r,!1)}function Uk(e,t,r,n){let s=typeof t=="string"?Ci(t):t,i=fi(s.pathname||"/",r);if(i==null)return null;let o=ax(e);zk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Xk(i);a=Qk(o[l],c,n)}return a}function ax(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(De(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=En([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(De(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ax(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Gk(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of lx(i.path))s(i,o,l)}),t}function lx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=lx(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function zk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Jk(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Bk=/^:[\w-]+$/,Wk=3,Hk=2,Zk=1,qk=10,Kk=-2,$m=e=>e==="*";function Gk(e,t){let r=e.split("/"),n=r.length;return r.some($m)&&(n+=Kk),t&&(n+=Hk),r.filter(s=>!$m(s)).reduce((s,i)=>s+(Bk.test(i)?Wk:i===""?Zk:qk),n)}function Jk(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Qk(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Bl({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=Bl({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:En([i,h.pathname]),pathnameBase:nS(En([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=En([i,h.pathnameBase]))}return o}function Bl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Yk(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=a[h];return m&&!x?c[f]=void 0:c[f]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Yk(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ox(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Xk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ox(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function eS(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ci(e):e;return{pathname:r?r.startsWith("/")?r:tS(r,t):t,search:sS(n),hash:iS(s)}}function tS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Cu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rS(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Sf(e,t){let r=rS(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function jf(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ci(e):(s=Wo({},e),De(!s.pathname||!s.pathname.includes("?"),Cu("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),Cu("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),Cu("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=eS(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const En=e=>e.join("/").replace(/\/\/+/g,"/"),nS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cx=["post","put","patch","delete"];new Set(cx);const aS=["get",...cx];new Set(aS);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ho.apply(this,arguments)}const Pc=b.createContext(null),ux=b.createContext(null),Qr=b.createContext(null),Ac=b.createContext(null),Yr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),dx=b.createContext(null);function lS(e,t){let{relative:r}=t===void 0?{}:t;Ti()||De(!1);let{basename:n,navigator:s}=b.useContext(Qr),{hash:i,pathname:o,search:a}=Rc(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:En([n,o])),s.createHref({pathname:l,search:a,hash:i})}function Ti(){return b.useContext(Ac)!=null}function Ei(){return Ti()||De(!1),b.useContext(Ac).location}function hx(e){b.useContext(Qr).static||b.useLayoutEffect(e)}function Fn(){let{isDataRoute:e}=b.useContext(Yr);return e?kS():cS()}function cS(){Ti()||De(!1);let e=b.useContext(Pc),{basename:t,future:r,navigator:n}=b.useContext(Qr),{matches:s}=b.useContext(Yr),{pathname:i}=Ei(),o=JSON.stringify(Sf(s,r.v7_relativeSplatPath)),a=b.useRef(!1);return hx(()=>{a.current=!0}),b.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=jf(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:En([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const uS=b.createContext(null);function dS(e){let t=b.useContext(Yr).outlet;return t&&b.createElement(uS.Provider,{value:e},t)}function Rc(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Qr),{matches:s}=b.useContext(Yr),{pathname:i}=Ei(),o=JSON.stringify(Sf(s,n.v7_relativeSplatPath));return b.useMemo(()=>jf(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function hS(e,t){return fS(e,t)}function fS(e,t,r,n){Ti()||De(!1);let{navigator:s,static:i}=b.useContext(Qr),{matches:o}=b.useContext(Yr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Ei(),h;if(t){var f;let g=typeof t=="string"?Ci(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||De(!1),h=g}else h=d;let m=h.pathname||"/",x=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=!i&&r&&r.matches&&r.matches.length>0?r.matches:Fk(e,{pathname:x}),_=vS(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:En([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:En([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,r,n);return t&&_?b.createElement(Ac.Provider,{value:{location:Ho({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:xn.Pop}},_):_}function pS(){let e=_S(),t=oS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const mS=b.createElement(pS,null);class gS extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(Yr.Provider,{value:this.props.routeContext},b.createElement(dx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yS(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(Pc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Yr.Provider,{value:t},n)}function vS(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);d>=0||De(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=r,x=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,x=!1,v=null,_=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||mS,l&&(c<0&&f===0?(x=!0,_=null):c===f&&(x=!0,_=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),p=()=>{let y;return m?y=v:x?y=_:h.route.Component?y=b.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,b.createElement(yS,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(gS,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var fx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fx||{}),Wl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wl||{});function xS(e){let t=b.useContext(Pc);return t||De(!1),t}function wS(e){let t=b.useContext(ux);return t||De(!1),t}function bS(e){let t=b.useContext(Yr);return t||De(!1),t}function px(e){let t=bS(),r=t.matches[t.matches.length-1];return r.route.id||De(!1),r.route.id}function _S(){var e;let t=b.useContext(dx),r=wS(Wl.UseRouteError),n=px(Wl.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function kS(){let{router:e}=xS(fx.UseNavigateStable),t=px(Wl.UseNavigateStable),r=b.useRef(!1);return hx(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ho({fromRouteId:t},i)))},[e,t])}function SS(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Hl(e){let{to:t,replace:r,state:n,relative:s}=e;Ti()||De(!1);let{future:i,static:o}=b.useContext(Qr),{matches:a}=b.useContext(Yr),{pathname:l}=Ei(),c=Fn(),d=jf(t,Sf(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return b.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function mx(e){return dS(e.context)}function $t(e){De(!1)}function jS(e){let{basename:t="/",children:r=null,location:n,navigationType:s=xn.Pop,navigator:i,static:o=!1,future:a}=e;Ti()&&De(!1);let l=t.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:i,static:o,future:Ho({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Ci(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:x="default"}=n,v=b.useMemo(()=>{let _=fi(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:m,key:x},navigationType:s}},[l,d,h,f,m,x,s]);return v==null?null:b.createElement(Qr.Provider,{value:c},b.createElement(Ac.Provider,{children:r,value:v}))}function CS(e){let{children:t,location:r}=e;return hS(Hd(t),r)}new Promise(()=>{});function Hd(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,Hd(n.props.children,i));return}n.type!==$t&&De(!1),!n.props.index||!n.props.children||De(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Hd(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl.apply(this,arguments)}function gx(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function TS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ES(e,t){return e.button===0&&(!t||t==="_self")&&!TS(e)}const NS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],AS="6";try{window.__reactRouterVersion=AS}catch{}const RS=b.createContext({isTransitioning:!1}),LS="startTransition",Fm=j_[LS];function OS(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=Mk({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=b.useCallback(h=>{c&&Fm?Fm(()=>l(h)):l(h)},[l,c]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>SS(n),[n]),b.createElement(jS,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const DS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MS=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=t,f=gx(t,NS),{basename:m}=b.useContext(Qr),x,v=!1;if(typeof c=="string"&&IS.test(c)&&(x=c,DS))try{let y=new URL(window.location.href),S=c.startsWith("//")?new URL(y.protocol+c):new URL(c),w=fi(S.pathname,m);S.origin===y.origin&&w!=null?c=w+S.search+S.hash:v=!0}catch{}let _=lS(c,{relative:s}),g=$S(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function p(y){n&&n(y),y.defaultPrevented||g(y)}return b.createElement("a",Zl({},f,{href:x||_,onClick:v||i?n:p,ref:r,target:l}))}),Um=b.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:c,children:d}=t,h=gx(t,PS),f=Rc(l,{relative:h.relative}),m=Ei(),x=b.useContext(ux),{navigator:v,basename:_}=b.useContext(Qr),g=x!=null&&FS(f)&&c===!0,p=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=m.pathname,S=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(y=y.toLowerCase(),S=S?S.toLowerCase():null,p=p.toLowerCase()),S&&_&&(S=fi(S,_)||S);const w=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let E=y===p||!o&&y.startsWith(p)&&y.charAt(w)==="/",P=S!=null&&(S===p||!o&&S.startsWith(p)&&S.charAt(p.length)==="/"),j={isActive:E,isPending:P,isTransitioning:g},C=E?n:void 0,A;typeof i=="function"?A=i(j):A=[i,E?"active":null,P?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let B=typeof a=="function"?a(j):a;return b.createElement(MS,Zl({},h,{"aria-current":C,className:A,ref:r,style:B,to:l,viewTransition:c}),typeof d=="function"?d(j):d)});var Zd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zd||(Zd={}));var zm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zm||(zm={}));function VS(e){let t=b.useContext(Pc);return t||De(!1),t}function $S(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Fn(),c=Ei(),d=Rc(e,{relative:o});return b.useCallback(h=>{if(ES(h,r)){h.preventDefault();let f=n!==void 0?n:zl(c)===zl(d);l(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,n,s,r,e,i,o,a])}function FS(e,t){t===void 0&&(t={});let r=b.useContext(RS);r==null&&De(!1);let{basename:n}=VS(Zd.useViewTransitionState),s=Rc(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=fi(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=fi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Bl(s.pathname,o)!=null||Bl(s.pathname,i)!=null}const US={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FASTAPI_URL:"https://api.provence-courses.fr",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyBSadeL9368ZzhSIi0jPcHu1txhwVZKjmc",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrbWljZW1jZ29oZmxvbGVtYmJiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYyMzQ3MDMsImV4cCI6MjA2MTgxMDcwM30.CsxmVgBJDY0OOKEcLmuR3_42JDoQcEY9-gFKBmgpJp4",VITE_SUPABASE_URL:"https://akmicemcgohflolembbb.supabase.co"},Bm=e=>{let t;const r=new Set,n=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(x=>x(t,m))}},s=()=>t,l={setState:n,getState:s,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(US?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,s,l);return l},zS=e=>e?Bm(e):Bm;var yx={exports:{}},vx={},xx={exports:{}},wx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=b;function BS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WS=typeof Object.is=="function"?Object.is:BS,HS=pi.useState,ZS=pi.useEffect,qS=pi.useLayoutEffect,KS=pi.useDebugValue;function GS(e,t){var r=t(),n=HS({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return qS(function(){s.value=r,s.getSnapshot=t,Tu(s)&&i({inst:s})},[e,r,t]),ZS(function(){return Tu(s)&&i({inst:s}),e(function(){Tu(s)&&i({inst:s})})},[e]),KS(r),r}function Tu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!WS(e,r)}catch{return!0}}function JS(e,t){return t()}var QS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JS:GS;wx.useSyncExternalStore=pi.useSyncExternalStore!==void 0?pi.useSyncExternalStore:QS;xx.exports=wx;var YS=xx.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lc=b,XS=YS;function ej(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tj=typeof Object.is=="function"?Object.is:ej,rj=XS.useSyncExternalStore,nj=Lc.useRef,sj=Lc.useEffect,ij=Lc.useMemo,oj=Lc.useDebugValue;vx.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=nj(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ij(function(){function l(m){if(!c){if(c=!0,d=m,m=n(m),s!==void 0&&o.hasValue){var x=o.value;if(s(x,m))return h=x}return h=m}if(x=h,tj(d,m))return x;var v=n(m);return s!==void 0&&s(x,v)?(d=m,x):(d=m,h=v)}var c=!1,d,h,f=r===void 0?null:r;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,r,n,s]);var a=rj(e,i[0],i[1]);return sj(function(){o.hasValue=!0,o.value=a},[a]),oj(a),a};yx.exports=vx;var aj=yx.exports;const lj=qy(aj),bx={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FASTAPI_URL:"https://api.provence-courses.fr",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyBSadeL9368ZzhSIi0jPcHu1txhwVZKjmc",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrbWljZW1jZ29oZmxvbGVtYmJiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYyMzQ3MDMsImV4cCI6MjA2MTgxMDcwM30.CsxmVgBJDY0OOKEcLmuR3_42JDoQcEY9-gFKBmgpJp4",VITE_SUPABASE_URL:"https://akmicemcgohflolembbb.supabase.co"},{useDebugValue:cj}=ge,{useSyncExternalStoreWithSelector:uj}=lj;let Wm=!1;const dj=e=>e;function hj(e,t=dj,r){(bx?"production":void 0)!=="production"&&r&&!Wm&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Wm=!0);const n=uj(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return cj(n),n}const Hm=e=>{(bx?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?zS(e):e,r=(n,s)=>hj(t,n,s);return Object.assign(r,t),r},Cf=e=>e?Hm(e):Hm,fj="modulepreload",pj=function(e){return"/"+e},Zm={},ps=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=Promise.allSettled(r.map(l=>{if(l=pj(l),l in Zm)return;Zm[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":fj,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},mj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ps(async()=>{const{default:n}=await Promise.resolve().then(()=>Ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Tf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class gj extends Tf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yj extends Tf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vj extends Tf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qd||(qd={}));var xj=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class wj{constructor(t,{headers:r={},customFetch:n,region:s=qd.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=mj(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return xj(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(x=>{throw new gj(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new yj(d);if(!d.ok)throw new vj(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var wt={},Ef={},Oc={},ya={},Dc={},Ic={},bj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mi=bj();const _j=mi.fetch,_x=mi.fetch.bind(mi),kx=mi.Headers,kj=mi.Request,Sj=mi.Response,Ni=Object.freeze(Object.defineProperty({__proto__:null,Headers:kx,Request:kj,Response:Sj,default:_x,fetch:_j},Symbol.toStringTag,{value:"Module"})),jj=c_(Ni);var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});let Cj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Mc.default=Cj;var Sx=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ic,"__esModule",{value:!0});const Tj=Sx(jj),Ej=Sx(Mc);let Nj=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Tj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{c=JSON.parse(v),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,m="OK")}catch{i.status===404&&v===""?(f=204,m="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,m="OK"),c&&this.shouldThrowOnError)throw new Ej.default(c)}return{error:c,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Ic.default=Nj;var Pj=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dc,"__esModule",{value:!0});const Aj=Pj(Ic);let Rj=class extends Aj.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Dc.default=Rj;var Lj=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ya,"__esModule",{value:!0});const Oj=Lj(Dc);let Dj=class extends Oj.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ya.default=Dj;var Ij=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oc,"__esModule",{value:!0});const Wi=Ij(ya);let Mj=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Wi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Wi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Wi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Wi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Wi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Oc.default=Mj;var Vc={},$c={};Object.defineProperty($c,"__esModule",{value:!0});$c.version=void 0;$c.version="0.0.0-automated";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.DEFAULT_HEADERS=void 0;const Vj=$c;Vc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Vj.version}`};var jx=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ef,"__esModule",{value:!0});const $j=jx(Oc),Fj=jx(ya),Uj=Vc;let zj=class Cx{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Uj.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new $j.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Cx(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Fj.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ef.default=zj;var Pi=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wt,"__esModule",{value:!0});wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const Tx=Pi(Ef);wt.PostgrestClient=Tx.default;const Ex=Pi(Oc);wt.PostgrestQueryBuilder=Ex.default;const Nx=Pi(ya);wt.PostgrestFilterBuilder=Nx.default;const Px=Pi(Dc);wt.PostgrestTransformBuilder=Px.default;const Ax=Pi(Ic);wt.PostgrestBuilder=Ax.default;const Rx=Pi(Mc);wt.PostgrestError=Rx.default;var Bj=wt.default={PostgrestClient:Tx.default,PostgrestQueryBuilder:Ex.default,PostgrestFilterBuilder:Nx.default,PostgrestTransformBuilder:Px.default,PostgrestBuilder:Ax.default,PostgrestError:Rx.default};const{PostgrestClient:Wj,PostgrestQueryBuilder:GO,PostgrestFilterBuilder:JO,PostgrestTransformBuilder:QO,PostgrestBuilder:YO,PostgrestError:XO}=Bj,Hj="2.11.2",Zj={"X-Client-Info":`realtime-js/${Hj}`},qj="1.0.0",Lx=1e4,Kj=1e3;var ni;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ni||(ni={}));var Tt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tt||(Tt={}));var er;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(er||(er={}));var Kd;(function(e){e.websocket="websocket"})(Kd||(Kd={}));var Yn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yn||(Yn={}));class Gj{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}let Ox=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const qm=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Jj(o,e,t,s),i),{})},Jj=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s?.type,o=r[e];return i&&!n.includes(i)?Dx(i,o):Gd(o)},Dx=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return eC(t,r)}switch(e){case _e.bool:return Qj(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return Yj(t);case _e.json:case _e.jsonb:return Xj(t);case _e.timestamp:return tC(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return Gd(t);default:return Gd(t)}},Gd=e=>e,Qj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Yj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Xj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eC=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Dx(t,a))}return e},tC=e=>typeof e=="string"?e.replace(" ","T"):e,Ix=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Eu{constructor(t,r,n={},s=Lx){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Km;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Km||(Km={}));class yo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yo.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=yo.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yo.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(_=>_.presence_ref),m=h.map(_=>_.presence_ref),x=d.filter(_=>m.indexOf(_.presence_ref)<0),v=h.filter(_=>f.indexOf(_.presence_ref)<0);x.length>0&&(a[c]=x),v.length>0&&(l[c]=v)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gm||(Gm={}));var Jm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jm||(Jm={}));var Dr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dr||(Dr={}));class Nf{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Eu(this,er.join,this.params,this.timeout),this.rejoinTimer=new Ox(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(er.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new yo(this),this.broadcastEndpointURL=Ix(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t?.(Dr.CHANNEL_ERROR,d)),this._onClose(()=>t?.(Dr.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t?.(Dr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f?.length)!==null&&h!==void 0?h:0,x=[];for(let v=0;v<m;v++){const _=f[v],{filter:{event:g,schema:p,table:y,filter:S}}=_,w=d&&d[v];if(w&&w.event===g&&w.schema===p&&w.table===y&&w.filter===S)x.push(Object.assign(Object.assign({},_),{id:w.id}));else{this.unsubscribe(),t?.(Dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Dr.SUBSCRIBED);return}}).receive("error",d=>{t?.(Dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t?.(Dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(er.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Eu(this,er.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Eu(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=er;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,v,_;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(v=m.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var x,v,_,g,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,w=(x=m.filter)===null||x===void 0?void 0:x.event;return S&&((v=r.ids)===null||v===void 0?void 0:v.includes(S))&&(w==="*"||w?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const S=(p=(g=m?.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return S==="*"||S===((y=r?.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:v,table:_,commit_timestamp:g,type:p,errors:y}=x;f=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:g,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(x))}m.callback(f,n)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Nf.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(er.close,{},t)}_onError(t){this._on(er.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=qm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=qm(t.columns,t.old_record)),r}}const rC=()=>{},nC=typeof WebSocket<"u",sC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iC{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Zj,this.params={},this.timeout=Lx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=rC,this.conn=null,this.sendBuffer=[],this.serializer=new Gj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ps(async()=>{const{default:l}=await Promise.resolve().then(()=>Ni);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Kd.websocket}`,this.httpEndpoint=Ix(t),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r?.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ox(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(nC){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new oC(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ps(async()=>{const{default:t}=await import("./browser-Cpj9kel4.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qj}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ni.connecting:return Yn.Connecting;case ni.open:return Yn.Open;case ni.closing:return Yn.Closing;default:return Yn.Closed}}isConnected(){return this.connectionState()===Yn.Open}channel(t,r={config:{}}){const n=new Nf(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(er.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Kj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(er.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([sC],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class oC{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ni.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Pf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class aC extends Pf{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jd extends Pf{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var lC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Mx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ps(async()=>{const{default:n}=await Promise.resolve().then(()=>Ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},cC=()=>lC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ps(()=>Promise.resolve().then(()=>Ni),void 0)).Response:Response}),Qd=e=>{if(Array.isArray(e))return e.map(r=>Qd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Qd(n)}),t};var _s=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Nu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uC=(e,t,r)=>_s(void 0,void 0,void 0,function*(){const n=yield cC();e instanceof n&&!r?.noResolveJson?e.json().then(s=>{t(new aC(Nu(s),e.status||500))}).catch(s=>{t(new Jd(Nu(s),s))}):t(new Jd(Nu(e),e))}),dC=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function va(e,t,r,n,s,i){return _s(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,dC(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>uC(l,a,n))})})}function ql(e,t,r,n){return _s(this,void 0,void 0,function*(){return va(e,"GET",t,r,n)})}function dn(e,t,r,n,s){return _s(this,void 0,void 0,function*(){return va(e,"POST",t,n,s,r)})}function hC(e,t,r,n,s){return _s(this,void 0,void 0,function*(){return va(e,"PUT",t,n,s,r)})}function fC(e,t,r,n){return _s(this,void 0,void 0,function*(){return va(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Vx(e,t,r,n,s){return _s(this,void 0,void 0,function*(){return va(e,"DELETE",t,n,s,r)})}var vt=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const pC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mC{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Mx(s)}uploadOrUpdate(t,r,n,s){return vt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Qm),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s?.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o?.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}upload(t,r,n){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return vt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Qm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return vt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r?.upsert&&(s["x-upsert"]="true");const i=yield dn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Pf("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}update(t,r,n){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return vt(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}copy(t,r,n){return vt(this,void 0,void 0,function*(){try{return{data:{path:(yield dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return vt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield dn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return vt(this,void 0,void 0,function*(){try{const s=yield dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}download(t,r){return vt(this,void 0,void 0,function*(){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ql(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}info(t){return vt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ql(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qd(n),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}exists(t){return vt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield fC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ge(n)&&n instanceof Jd){const s=n.originalError;if([400,404].includes(s?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return vt(this,void 0,void 0,function*(){try{return{data:yield Vx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}list(t,r,n){return vt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},pC),r),{prefix:t||""});return{data:yield dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const gC="2.7.1",yC={"X-Client-Info":`storage-js/${gC}`};var Cs=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class vC{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},yC),r),this.fetch=Mx(n)}listBuckets(){return Cs(this,void 0,void 0,function*(){try{return{data:yield ql(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}getBucket(t){return Cs(this,void 0,void 0,function*(){try{return{data:yield ql(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Cs(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Cs(this,void 0,void 0,function*(){try{return{data:yield hC(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Cs(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Cs(this,void 0,void 0,function*(){try{return{data:yield Vx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}}class xC extends vC{constructor(t,r={},n){super(t,r,n)}from(t){return new mC(this.url,this.headers,t,this.fetch)}}const wC="2.49.4";let to="";typeof Deno<"u"?to="deno":typeof document<"u"?to="web":typeof navigator<"u"&&navigator.product==="ReactNative"?to="react-native":to="node";const bC={"X-Client-Info":`supabase-js-${to}/${wC}`},_C={headers:bC},kC={schema:"public"},SC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jC={};var CC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const TC=e=>{let t;return e?t=e:typeof fetch>"u"?t=_x:t=fetch,(...r)=>t(...r)},EC=()=>typeof Headers>"u"?kx:Headers,NC=(e,t,r)=>{const n=TC(r),s=EC();return(i,o)=>CC(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var PC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function AC(e){return e.replace(/\/$/,"")}function RC(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>PC(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const $x="2.69.1",Ps=30*1e3,Yd=3,Pu=Yd*Ps,LC="http://localhost:9999",OC="supabase.auth.token",DC={"X-Client-Info":`gotrue-js/${$x}`},Xd="X-Supabase-Api-Version",Fx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MC=6e5;class Af extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class VC extends Af{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $C(e){return ne(e)&&e.name==="AuthApiError"}class Ux extends Af{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Un extends Af{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class on extends Un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FC(e){return ne(e)&&e.name==="AuthSessionMissingError"}class Au extends Un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ba extends Un{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Wa extends Un{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UC(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ym extends Un{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eh extends Un{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ru(e){return ne(e)&&e.name==="AuthRetryableFetchError"}class Xm extends Un{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class vo extends Un{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const eg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tg=` 	
\r=`.split(""),zC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tg.length;t+=1)e[tg[t].charCodeAt(0)]=-2;for(let t=0;t<eg.length;t+=1)e[eg[t].charCodeAt(0)]=t;return e})();function zx(e,t,r){const n=zC[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rg(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{HC(o,n,r)};for(let o=0;o<e.length;o+=1)zx(e.charCodeAt(o),s,i);return t.join("")}function BC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WC(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}BC(n,t)}}function HC(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ZC(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)zx(e.charCodeAt(s),r,n);return new Uint8Array(t)}function qC(e){const t=[];return WC(e,r=>t.push(r)),new Uint8Array(t)}function KC(e){return Math.round(Date.now()/1e3)+e}function GC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const hr=()=>typeof window<"u"&&typeof document<"u",Hn={tested:!1,writable:!1},xo=()=>{if(!hr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hn.tested)return Hn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hn.tested=!0,Hn.writable=!0}catch{Hn.tested=!0,Hn.writable=!1}return Hn.writable};function JC(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Bx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ps(async()=>{const{default:n}=await Promise.resolve().then(()=>Ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},QC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Wx=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ha=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Za=async(e,t)=>{await e.removeItem(t)};class Fc{constructor(){this.promise=new Fc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Fc.promiseConstructor=Promise;function Lu(e){const t=e.split(".");if(t.length!==3)throw new vo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!IC.test(t[n]))throw new vo("JWT not in base64url format");return{header:JSON.parse(rg(t[0])),payload:JSON.parse(rg(t[1])),signature:ZC(t[2]),raw:{header:t[0],payload:t[1]}}}async function YC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XC(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function eT(e){return("0"+e.toString(16)).substr(-2)}function tT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,eT).join("")}async function rT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function nT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await rT(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ts(e,t,r=!1){const n=tT();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Wx(e,`${t}-code-verifier`,s);const i=await nT(n);return[i,n===i?"plain":"s256"]}const sT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iT(e){const t=e.headers.get(Xd);if(!t||!t.match(sT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function oT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function aT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var lT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Gn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cT=[502,503,504];async function ng(e){var t;if(!QC(e))throw new eh(Gn(e),0);if(cT.includes(e.status))throw new eh(Gn(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ux(Gn(i),i)}let n;const s=iT(e);if(s&&s.getTime()>=Fx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Xm(Gn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new on}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Xm(Gn(r),e.status,r.weak_password.reasons);throw new VC(Gn(r),e.status||500,n)}const uT=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ae(e,t,r,n){var s;const i=Object.assign({},n?.headers);i[Xd]||(i[Xd]=Fx["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n?.query)!==null&&s!==void 0?s:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await dT(e,t,r+a,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function dT(e,t,r,n,s,i){const o=uT(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new eh(Gn(l),0)}if(a.ok||await ng(a),n?.noResolveJson)return a;try{return await a.json()}catch(l){await ng(l)}}function an(e){var t;let r=null;mT(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=KC(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function sg(e){const t=an(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hT(e){return{data:e,error:null}}function fT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=lT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function pT(e){return e}function mT(e){return e.access_token&&e.refresh_token&&e.expires_in}var gT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class yT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Bx(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pn})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=gT(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n?.newEmail,delete s.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:fT,redirectTo:r?.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:pT});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);c[`${_}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(ne(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:pn})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:pn})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}}const vT={getItem:e=>xo()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{xo()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{xo()&&globalThis.localStorage.removeItem(e)}};function ig(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function xT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Es={debug:!!(globalThis&&xo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wT extends Hx{}async function bT(e,t,r){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Es.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}xT();const _T={url:LC,storageKey:OC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function og(e,t,r){return await r()}class Zo{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zo.nextInstanceID,Zo.nextInstanceID+=1,this.instanceID>0&&hr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},_T),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new yT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Bx(s.fetch),this.lock=s.lock||og,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:hr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=bT:this.lock=og,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:xo()?this.storage=vT:(this.memoryStorage={},this.storage=ig(this.memoryStorage)):(this.memoryStorage={},this.storage=ig(this.memoryStorage)),hr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$x}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=JC(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),hr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),UC(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?{error:r}:{error:new Ux("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:an}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Ts(this.storage,this.storageKey)),i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:x},xform:an})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f?.data)!==null&&n!==void 0?n:{},channel:(s=f?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:an})}else throw new Ba("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:sg})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:sg})}else throw new Ba("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Au}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Ha(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:an});if(await Za(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Au}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ne(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:an}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Au}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ts(this.storage,this.storageKey));const{error:h}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new Ba("You must provide either an email or phone number.")}catch(a){if(ne(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:an});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ts(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:hT})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new on;const{error:s}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Ba("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Pu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pn}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new on}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:pn})})}catch(r){if(ne(r))return FC(r)&&(await this._removeSession(),await Za(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new on;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ts(this.storage,this.storageKey));const{data:c,error:d}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:pn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new on;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Lu(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ne(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new on;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!hr())throw new Wa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ym("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ym("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Wa("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=Ps&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:v,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(ne(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ha(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!($C(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Za(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=GC(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ts(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return hr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(ne(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XC(async s=>(s>0&&await YC(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:an})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ru(i)&&Date.now()+o-n<Ps})}catch(n){if(this._debug(r,"error",n),ne(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),hr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ha(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Pu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Pu}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ru(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new on;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Fc;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new on;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ne(i)){const o={session:null,error:i};return Ru(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Wx(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Za(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ps);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ps);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ps}ms, refresh threshold is ${Yd} ticks`),s<=Yd&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Hx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ts(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l?.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Lu(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+MC>Date.now()))return n;const{data:s,error:i}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new vo("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new vo("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Lu(n);if(oT(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const c=aT(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,qC(`${a}.${l}`)))throw new vo("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}}Zo.nextInstanceID=0;const kT=Zo;class ST extends kT{constructor(t){super(t)}}var jT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class CT{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=AC(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:kC,realtime:jC,auth:Object.assign(Object.assign({},SC),{storageKey:l}),global:_C},d=RC(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=NC(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Wj(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new wj(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xC(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return jT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ST({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new iC(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const TT=(e,t,r)=>new CT(e,t,r),ET="https://akmicemcgohflolembbb.supabase.co",NT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrbWljZW1jZ29oZmxvbGVtYmJiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYyMzQ3MDMsImV4cCI6MjA2MTgxMDcwM30.CsxmVgBJDY0OOKEcLmuR3_42JDoQcEY9-gFKBmgpJp4",le=TT(ET,NT,{auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),PT=async()=>{try{const{data:e,error:t}=await le.auth.getSession();if(t)throw t;return e.session}catch(e){return console.error("Erreur lors de la vrification de la session:",e),null}},AT=async(e,t)=>{try{const{data:r,error:n}=await le.auth.signInWithPassword({email:e,password:t});if(n)throw n;return r}catch(r){throw console.error("Erreur lors de la connexion:",r),r}},ag=async()=>{try{const{error:e}=await le.auth.signOut({scope:"local"});if(e&&e.name!=="AuthSessionMissingError")throw e;if(typeof window<"u"){localStorage.removeItem("supabase.auth.token");for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);r&&(r.includes("supabase")||r.includes("sb-"))&&localStorage.removeItem(r)}}return!0}catch(e){return console.error("Erreur lors de la dconnexion:",e),!0}},lg=async()=>{try{if(sessionStorage.getItem("buckets_checked"))return console.log("Buckets dj vrifis dans cette session"),!0;console.log("Vrification et cration des buckets ncessaires...");const{data:t,error:r}=await le.storage.listBuckets();if(r)return console.error("Erreur lors de la rcupration des buckets:",r),console.log("Impossible de vrifier les buckets existants, on suppose qu'ils existent dj"),sessionStorage.setItem("buckets_checked","true"),!0;const n=[{name:"locations",public:!0,fileSizeLimit:5242880},{name:"photos-delivery",public:!0,fileSizeLimit:5242880}];for(const s of n)if(t?.some(o=>o.name===s.name))console.log(`Le bucket ${s.name} existe dj`);else{console.log(`Tentative de cration du bucket ${s.name}...`);try{const{error:o}=await le.storage.createBucket(s.name,{public:s.public,fileSizeLimit:s.fileSizeLimit});if(o){o.message.includes("violates row-level security policy")||o.message.includes("already exists")?console.log(`Le bucket ${s.name} existe probablement dj ou n'est pas accessible`):console.error(`Erreur lors de la cration du bucket ${s.name}:`,o);continue}console.log(`Bucket ${s.name} cr avec succs`)}catch(o){console.error(`Exception lors de la cration du bucket ${s.name}:`,o)}}return sessionStorage.setItem("buckets_checked","true"),!0}catch(e){return console.error("Erreur lors de la cration des buckets:",e),sessionStorage.setItem("buckets_checked","true"),!0}},Be=Cf(e=>({user:null,isLoading:!1,error:null,initialized:!1,login:async(t,r)=>{e({isLoading:!0,error:null});try{cg();const{session:n,user:s}=await AT(t,r);if(!n||!s)throw new Error("chec de la connexion");const{data:i}=await le.from("laboratories").select("*").eq("user_id",s.id).single();if(!i)throw new Error("Compte laboratoire non trouv. Seuls les laboratoires peuvent se connecter.");const o={id:s.id,email:s.email||"",role:"laboratory",firstName:s.user_metadata?.first_name,lastName:s.user_metadata?.last_name,avatar_url:s.user_metadata?.avatar_url,created_at:s.created_at};e({user:o,isLoading:!1});try{await lg(),console.log("Buckets de stockage initialiss avec succs")}catch(a){console.error("Erreur lors de l'initialisation des buckets:",a)}}catch(n){console.error("Login error:",n);const s=n instanceof Error?n.message:"Une erreur est survenue lors de la connexion";e({error:s,isLoading:!1,user:null})}},logout:async()=>{e({isLoading:!0});try{await ag(),e({user:null,isLoading:!1}),cg()}catch(t){console.error("Logout error:",t),e({error:"Une erreur est survenue lors de la dconnexion",isLoading:!1})}},checkSession:async()=>{e({isLoading:!0});try{const t=await PT();if(t&&t.user){const{data:r}=await le.from("laboratories").select("*").eq("user_id",t.user.id).single();if(!r){await ag(),e({user:null,isLoading:!1,initialized:!0});return}const n={id:t.user.id,email:t.user.email||"",role:"laboratory",firstName:t.user.user_metadata?.first_name,lastName:t.user.user_metadata?.last_name,avatar_url:t.user.user_metadata?.avatar_url,created_at:t.user.created_at};e({user:n,isLoading:!1,initialized:!0});try{await lg(),console.log("Buckets de stockage initialiss avec succs")}catch(s){console.error("Erreur lors de l'initialisation des buckets:",s)}}else e({user:null,isLoading:!1,initialized:!0})}catch(t){console.error("Check session error:",t),e({user:null,isLoading:!1,initialized:!0,error:"Une erreur est survenue lors de la vrification de la session"})}},clearError:()=>e({error:null})})),cg=()=>{try{const{useDataStore:e}=require("./data-store");e.getState().clearAllCache()}catch(e){console.warn("Impossible de nettoyer data-store:",e)}try{const{useLaboratoryCentralStore:e}=require("./laboratory-central-store"),t=e.getState();t.clearCache(),t.cleanupRealtimeListeners()}catch(e){console.warn("Impossible de nettoyer laboratory-central-store:",e)}try{const{useDriverRoutesStore:e}=require("./driver-routes-store");e.getState().cleanupRealtimeListeners(),e.setState({routes:[],selectedRoute:null,isLoading:!1,isOptimizing:!1,optimizingRouteId:null,error:null,filters:{date:new Date().toISOString().split("T")[0],status:"all",searchTerm:void 0}})}catch(e){console.warn("Impossible de nettoyer driver-routes-store:",e)}try{const{useUIStore:e}=require("./ui-store");e.getState().clearNotifications(),e.setState({modals:{},globalLoading:!1,pageLoading:{},componentLoading:{},currentPage:"",breadcrumbs:[],notifications:[]})}catch(e){console.warn("Impossible de nettoyer ui-store:",e)}try{const{useDriversStore:e}=require("./drivers-store");e.setState({drivers:[],isLoading:!1,error:null})}catch(e){console.warn("Impossible de nettoyer drivers-store:",e)}try{const{useLaboratoriesStore:e}=require("./laboratories-store");e.setState({laboratories:[],isLoading:!1,error:null})}catch(e){console.warn("Impossible de nettoyer laboratories-store:",e)}try{const{useDriverRouteShipmentsStore:e}=require("./driver-route-shipments-store");e.setState({shipments:[],isLoading:!1,error:null,filters:{date:new Date().toISOString().split("T")[0],status:"all",searchTerm:void 0}})}catch(e){console.warn("Impossible de nettoyer driver-route-shipments-store:",e)}try{const{useHistoryStore:e}=require("./history-store")}catch(e){console.warn("Impossible de nettoyer history-store:",e)}console.log(" Tous les stores ont t nettoys lors de la dconnexion")};let RT={data:""},LT=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||RT,OT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,DT=/\/\*[^]*?\*\/|  +/g,ug=/\n+/g,mn=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?mn(o,i):i+"{"+mn(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=mn(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=mn.p?mn.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Tr={},Zx=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Zx(e[r]);return t}return e},IT=(e,t,r,n,s)=>{let i=Zx(e),o=Tr[i]||(Tr[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!Tr[o]){let l=i!==e?e:(c=>{let d,h,f=[{}];for(;d=OT.exec(c.replace(DT,""));)d[4]?f.shift():d[3]?(h=d[3].replace(ug," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(ug," ").trim();return f[0]})(e);Tr[o]=mn(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&Tr.g?Tr.g:null;return r&&(Tr.g=Tr[o]),((l,c,d,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(Tr[o],t,n,a),o},MT=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":mn(a,""):a===!1?"":a}return n+s+(o??"")},"");function Uc(e){let t=this||{},r=e.call?e(t.p):e;return IT(r.unshift?r.raw?MT(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,LT(t.target),t.g,t.o,t.k)}let qx,th,rh;Uc.bind({g:1});let qr=Uc.bind({k:1});function VT(e,t,r,n){mn.p=t,qx=e,th=r,rh=n}function zn(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:th&&th()},a),r.o=/ *go\d+/.test(l),a.className=Uc.apply(r,n)+(l?" "+l:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),rh&&c[0]&&rh(a),qx(c,a)}return s}}var $T=e=>typeof e=="function",Kl=(e,t)=>$T(e)?e(t):e,FT=(()=>{let e=0;return()=>(++e).toString()})(),Kx=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),UT=20,Gx=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,UT)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return Gx(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},hl=[],rs={toasts:[],pausedAt:void 0},ks=e=>{rs=Gx(rs,e),hl.forEach(t=>{t(rs)})},zT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},BT=(e={})=>{let[t,r]=b.useState(rs),n=b.useRef(rs);b.useEffect(()=>(n.current!==rs&&r(rs),hl.push(r),()=>{let i=hl.indexOf(r);i>-1&&hl.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,a,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||e?.removeDelay,duration:i.duration||((a=e[i.type])==null?void 0:a.duration)||e?.duration||zT[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},WT=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||FT()}),xa=e=>(t,r)=>{let n=WT(t,e,r);return ks({type:2,toast:n}),n.id},ke=(e,t)=>xa("blank")(e,t);ke.error=xa("error");ke.success=xa("success");ke.loading=xa("loading");ke.custom=xa("custom");ke.dismiss=e=>{ks({type:3,toastId:e})};ke.remove=e=>ks({type:4,toastId:e});ke.promise=(e,t,r)=>{let n=ke.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Kl(t.success,s):void 0;return i?ke.success(i,{id:n,...r,...r?.success}):ke.dismiss(n),s}).catch(s=>{let i=t.error?Kl(t.error,s):void 0;i?ke.error(i,{id:n,...r,...r?.error}):ke.dismiss(n)}),e};var HT=(e,t)=>{ks({type:1,toast:{id:e,height:t}})},ZT=()=>{ks({type:5,time:Date.now()})},wo=new Map,qT=1e3,KT=(e,t=qT)=>{if(wo.has(e))return;let r=setTimeout(()=>{wo.delete(e),ks({type:4,toastId:e})},t);wo.set(e,r)},GT=e=>{let{toasts:t,pausedAt:r}=BT(e);b.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&ke.dismiss(a.id);return}return setTimeout(()=>ke.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,r]);let n=b.useCallback(()=>{r&&ks({type:6,time:Date.now()})},[r]),s=b.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},d=t.filter(m=>(m.position||c)===(i.position||c)&&m.height),h=d.findIndex(m=>m.id===i.id),f=d.filter((m,x)=>x<h&&m.visible).length;return d.filter(m=>m.visible).slice(...a?[f+1]:[0,f]).reduce((m,x)=>m+(x.height||0)+l,0)},[t]);return b.useEffect(()=>{t.forEach(i=>{if(i.dismissed)KT(i.id,i.removeDelay);else{let o=wo.get(i.id);o&&(clearTimeout(o),wo.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:HT,startPause:ZT,endPause:n,calculateOffset:s}}},JT=qr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,QT=qr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YT=qr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,XT=zn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${JT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${QT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${YT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,eE=qr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,tE=zn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${eE} 1s linear infinite;
`,rE=qr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nE=qr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,sE=zn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${rE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nE} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,iE=zn("div")`
  position: absolute;
`,oE=zn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,aE=qr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lE=zn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${aE} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,cE=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?b.createElement(lE,null,t):t:r==="blank"?null:b.createElement(oE,null,b.createElement(tE,{...n}),r!=="loading"&&b.createElement(iE,null,r==="error"?b.createElement(XT,{...n}):b.createElement(sE,{...n})))},uE=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,dE=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,hE="0%{opacity:0;} 100%{opacity:1;}",fE="0%{opacity:1;} 100%{opacity:0;}",pE=zn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,mE=zn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,gE=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Kx()?[hE,fE]:[uE(r),dE(r)];return{animation:t?`${qr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},yE=b.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?gE(e.position||t||"top-center",e.visible):{opacity:0},i=b.createElement(cE,{toast:e}),o=b.createElement(mE,{...e.ariaProps},Kl(e.message,e));return b.createElement(pE,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):b.createElement(b.Fragment,null,i,o))});VT(b.createElement);var vE=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=b.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return b.createElement("div",{ref:i,className:t,style:r},s)},xE=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Kx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},wE=Uc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qa=16,bE=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=GT(r);return b.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:qa,left:qa,right:qa,bottom:qa,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||t,h=l.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),f=xE(d,h);return b.createElement(vE,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?wE:"",style:f},c.type==="custom"?Kl(c.message,c):s?s(c):b.createElement(yE,{toast:c,position:d}))}))},rn=ke;const _E=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!1);b.useEffect(()=>(window.addEventListener("beforeinstallprompt",i=>{i.preventDefault(),t(i),n(!0)}),window.addEventListener("appinstalled",()=>{ke.success("Application installe avec succs!"),n(!1)}),window.matchMedia("(display-mode: standalone)").matches&&n(!1),document.addEventListener("sw-offline-ready",()=>{ke.success("Application prte pour une utilisation hors ligne")}),document.addEventListener("sw-update-found",()=>{ke("Une mise  jour est disponible. Rechargez la page pour l'installer.")}),()=>{window.removeEventListener("beforeinstallprompt",()=>{}),window.removeEventListener("appinstalled",()=>{}),document.removeEventListener("sw-offline-ready",()=>{}),document.removeEventListener("sw-update-found",()=>{})}),[]);const s=async()=>{if(!e)return;e.prompt();const{outcome:i}=await e.userChoice;t(null),i==="accepted"?ke.success("Merci d'avoir install notre application!"):ke("Vous pouvez installer l'application plus tard depuis le menu du navigateur")};return b.useEffect(()=>{if(r){const i=setTimeout(()=>{ke(o=>u.jsxs("div",{children:[u.jsx("p",{children:"Installez cette application sur votre appareil"}),u.jsx("button",{onClick:()=>{s(),ke.dismiss(o.id)},className:"px-4 py-2 mt-2 bg-blue-500 text-white rounded",children:"Installer"})]}),{duration:1e4})},1e4);return()=>clearTimeout(i)}},[r]),null},kE=()=>{const{user:e,isLoading:t,initialized:r}=Be();return r&&!t&&e?u.jsx(Hl,{to:"/laboratory",replace:!0}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 flex flex-col",children:[u.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"text-center mb-8",children:u.jsx("div",{className:"flex justify-center mb-2",children:u.jsx("div",{className:"w-96 h-48 flex items-center justify-center",children:u.jsx("img",{src:"/provence-courses-logo.png",alt:"Provence Courses Logo",className:"w-96 h-48 object-contain"})})})}),u.jsx("div",{className:"w-full max-w-md",children:u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/50 p-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Connexion"}),u.jsx("p",{className:"text-gray-600",children:"Accdez  votre espace laboratoire"})]}),u.jsx(mx,{})]})})]}),u.jsxs("div",{className:"text-center py-6",children:[u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Version laboratoire  Accs scuris"}),u.jsx("p",{className:"text-xs text-gray-400",children:" 2024 Provence Courses  Application de livraison"})]})]})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>b.createElement("svg",{ref:d,...SE,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${jE(e)}`,a].join(" "),...c},[...t.map(([h,f])=>b.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=he("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=he("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=he("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=he("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=he("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=he("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=he("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=he("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=he("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=he("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=he("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=he("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=he("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=he("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=he("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function tw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=tw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ME(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=tw(e))&&(n&&(n+=" "),n+=t);return n}const Of="-",VE=e=>{const t=FE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(Of);return a[0]===""&&a.length!==1&&a.shift(),rw(a,t)||$E(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},rw=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?rw(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Of);return t.validators.find(({validator:o})=>o(i))?.classGroupId},fg=/^\[(.+)\]$/,$E=e=>{if(fg.test(e)){const t=fg.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},FE=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return zE(Object.entries(e.classGroups),r).forEach(([i,o])=>{oh(o,n,i,t)}),n},oh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:pg(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(UE(s)){oh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{oh(o,pg(t,i),r,n)})})},pg=(e,t)=>{let r=e;return t.split(Of).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},UE=e=>e.isThemeGetter,zE=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,BE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},nw="!",WE=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,d=0,h;for(let _=0;_<a.length;_++){let g=a[_];if(c===0){if(g===s&&(n||a.slice(_,_+i)===t)){l.push(a.slice(d,_)),d=_+i;continue}if(g==="/"){h=_;continue}}g==="["?c++:g==="]"&&c--}const f=l.length===0?a:a.substring(d),m=f.startsWith(nw),x=m?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:v}};return r?a=>r({className:a,parseClassName:o}):o},HE=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ZE=e=>({cache:BE(e.cacheSize),parseClassName:WE(e),...VE(e)}),qE=/\s+/,KE=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(qE);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(c);let x=!!m,v=n(x?f.substring(0,m):f);if(!v){if(!x){a=c+(a.length>0?" "+a:a);continue}if(v=n(f),!v){a=c+(a.length>0?" "+a:a);continue}x=!1}const _=HE(d).join(":"),g=h?_+nw:_,p=g+v;if(i.includes(p))continue;i.push(p);const y=s(v,x);for(let S=0;S<y.length;++S){const w=y[S];i.push(g+w)}a=c+(a.length>0?" "+a:a)}return a};function GE(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=sw(t))&&(n&&(n+=" "),n+=r);return n}const sw=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=sw(e[n]))&&(r&&(r+=" "),r+=t);return r};function JE(e,...t){let r,n,s,i=o;function o(l){const c=t.reduce((d,h)=>h(d),e());return r=ZE(c),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const c=n(l);if(c)return c;const d=KE(l,r);return s(l,d),d}return function(){return i(GE.apply(null,arguments))}}const je=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},iw=/^\[(?:([a-z-]+):)?(.+)\]$/i,QE=/^\d+\/\d+$/,YE=new Set(["px","full","screen"]),XE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Er=e=>si(e)||YE.has(e)||QE.test(e),nn=e=>Ri(e,"length",dN),si=e=>!!e&&!Number.isNaN(Number(e)),Ou=e=>Ri(e,"number",si),Hi=e=>!!e&&Number.isInteger(Number(e)),sN=e=>e.endsWith("%")&&si(e.slice(0,-1)),re=e=>iw.test(e),sn=e=>XE.test(e),iN=new Set(["length","size","percentage"]),oN=e=>Ri(e,iN,ow),aN=e=>Ri(e,"position",ow),lN=new Set(["image","url"]),cN=e=>Ri(e,lN,fN),uN=e=>Ri(e,"",hN),Zi=()=>!0,Ri=(e,t,r)=>{const n=iw.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},dN=e=>eN.test(e)&&!tN.test(e),ow=()=>!1,hN=e=>rN.test(e),fN=e=>nN.test(e),pN=()=>{const e=je("colors"),t=je("spacing"),r=je("blur"),n=je("brightness"),s=je("borderColor"),i=je("borderRadius"),o=je("borderSpacing"),a=je("borderWidth"),l=je("contrast"),c=je("grayscale"),d=je("hueRotate"),h=je("invert"),f=je("gap"),m=je("gradientColorStops"),x=je("gradientColorStopPositions"),v=je("inset"),_=je("margin"),g=je("opacity"),p=je("padding"),y=je("saturate"),S=je("scale"),w=je("sepia"),E=je("skew"),P=je("space"),j=je("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",re,t],R=()=>[re,t],$=()=>["",Er,nn],se=()=>["auto",si,re],ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],me=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",re],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[si,re];return{cacheSize:500,separator:":",theme:{colors:[Zi],spacing:[Er,nn],blur:["none","",sn,re],brightness:te(),borderColor:[e],borderRadius:["none","","full",sn,re],borderSpacing:R(),borderWidth:$(),contrast:te(),grayscale:W(),hueRotate:te(),invert:W(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[sN,nn],inset:B(),margin:B(),opacity:te(),padding:R(),saturate:te(),scale:te(),sepia:W(),skew:te(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",re]}],container:["container"],columns:[{columns:[sn]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ve(),re]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hi,re]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",re]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Hi,re]}],"grid-cols":[{"grid-cols":[Zi]}],"col-start-end":[{col:["auto",{span:["full",Hi,re]},re]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[Zi]}],"row-start-end":[{row:["auto",{span:[Hi,re]},re]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",re]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",re,t]}],"min-w":[{"min-w":[re,t,"min","max","fit"]}],"max-w":[{"max-w":[re,t,"none","full","min","max","fit","prose",{screen:[sn]},sn]}],h:[{h:[re,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[re,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sn,nn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ou]}],"font-family":[{font:[Zi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",re]}],"line-clamp":[{"line-clamp":["none",si,Ou]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Er,re]}],"list-image":[{"list-image":["none",re]}],"list-style-type":[{list:["none","disc","decimal",re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Er,nn]}],"underline-offset":[{"underline-offset":["auto",Er,re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ve(),aN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...me(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:me()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...me()]}],"outline-offset":[{"outline-offset":[Er,re]}],"outline-w":[{outline:[Er,nn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Er,nn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sn,uN]}],"shadow-color":[{shadow:[Zi]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",sn,re]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",re]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",re]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Hi,re]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Er,nn,Ou]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mN=JE(pN);function Bn(...e){return mN(ME(e))}const pe=ge.forwardRef(({className:e,children:t,variant:r="primary",size:n="md",isLoading:s=!1,leftIcon:i,rightIcon:o,disabled:a,...l},c)=>{const d="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",h={primary:"bg-primary-500 text-white hover:bg-primary-600 focus-visible:ring-primary-500",secondary:"bg-secondary-500 text-white hover:bg-secondary-600 focus-visible:ring-secondary-500",accent:"bg-accent-500 text-white hover:bg-accent-600 focus-visible:ring-accent-500",outline:"border border-input bg-transparent hover:bg-accent-100 hover:text-accent-700",ghost:"hover:bg-accent-100 hover:text-accent-700 bg-transparent",link:"text-primary-500 underline-offset-4 hover:underline bg-transparent",danger:"bg-error-500 text-white hover:bg-error-600 focus-visible:ring-error-500"},f={sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-12 px-6 py-3 text-lg"};return u.jsxs("button",{className:Bn(d,h[r],f[n],s&&"opacity-70 pointer-events-none",e),disabled:a||s,ref:c,...l,children:[s&&u.jsxs("svg",{className:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!s&&i&&u.jsx("span",{className:"mr-2",children:i}),t,!s&&o&&u.jsx("span",{className:"ml-2",children:o})]})});pe.displayName="Button";const gN=async e=>{try{const{error:t}=await le.from("laboratory_clients").delete().eq("id",e);if(t)throw t;return!0}catch(t){throw console.error(`Erreur lors de la suppression du client ${e}:`,t),t}},yN=(e={})=>{const{user:t}=Be(),r=b.useRef([]),n=b.useRef(!1),{onLabTourChange:s,onLabTourStopChange:i,onLabTourShipmentChange:o,laboratoryId:a,enabled:l=!0}=e,c=()=>{if(n.current||!t||!l)return;console.log(" Configuration des listeners temps rel pour les lab tours..."),d();const h=[],f=le.channel("lab-tours-realtime").on("postgres_changes",{event:"*",schema:"public",table:"lab_tours",filter:a?`laboratory_id=eq.${a}`:void 0},v=>{const _=v.new&&typeof v.new=="object"&&"id"in v.new?v.new.id:"unknown";console.log(" Changement dtect sur lab_tours:",v.eventType,_),s&&s(v.eventType,v)}).subscribe();h.push(f);const m=le.channel("lab-tour-stops-realtime").on("postgres_changes",{event:"*",schema:"public",table:"lab_tour_stops"},v=>{const _=v.new&&typeof v.new=="object"&&"id"in v.new?v.new.id:"unknown";console.log(" Changement dtect sur lab_tour_stops:",v.eventType,_),i&&i(v.eventType,v)}).subscribe();h.push(m);const x=le.channel("lab-tour-shipments-realtime").on("postgres_changes",{event:"*",schema:"public",table:"lab_tour_shipments"},v=>{const _=v.new&&typeof v.new=="object"&&"id"in v.new?v.new.id:"unknown";console.log(" Changement dtect sur lab_tour_shipments:",v.eventType,_),o&&o(v.eventType,v)}).subscribe();h.push(x),r.current=h,n.current=!0,console.log(" Listeners temps rel configurs avec succs")},d=()=>{r.current.length>0&&(console.log(" Nettoyage des listeners temps rel..."),r.current.forEach(h=>{le.removeChannel(h)}),r.current=[],n.current=!1,console.log(" Listeners temps rel nettoys"))};return b.useEffect(()=>(l&&t?c():d(),()=>{d()}),[t?.id,l,a]),{setupRealtimeListeners:c,cleanupRealtimeListeners:d,isSetup:n.current}},vN=2*60*1e3,Ga=e=>Date.now()-e<vN,zc=Cf((e,t)=>({laboratoryInfo:null,clients:[],todayTour:null,tours:[],isLoading:!1,error:null,lastFetch:{laboratoryInfo:0,clients:0,todayTour:0,tours:0},currentUserId:null,fetchLaboratoryInfo:async(r=!1)=>{const n=t(),{user:s}=Be.getState();if(n.currentUserId!==s?.id&&(r=!0),!(!r&&n.laboratoryInfo&&Ga(n.lastFetch.laboratoryInfo))){if(!s){e({error:"Utilisateur non connect"});return}e({isLoading:!0,error:null});try{const{data:i,error:o}=await le.from("laboratories").select(`
          *,
          locations (
            id,
            formatted_address,
            latitude,
            longitude,
            delivery_instructions,
            place_id
          )
        `).eq("user_id",s.id).single();if(o)throw o;const a={id:i.id,name:i.name,email:i.email||"",address:i.locations.formatted_address,latitude:i.locations.latitude,longitude:i.locations.longitude,location_id:i.location_id,user_id:i.user_id};e({laboratoryInfo:a,lastFetch:{...n.lastFetch,laboratoryInfo:Date.now()},currentUserId:s.id,isLoading:!1})}catch(i){e({error:i.message||"Erreur lors du chargement des informations du laboratoire",isLoading:!1})}}},fetchClients:async(r=!1)=>{const n=t();if(!r&&n.clients.length>0&&Ga(n.lastFetch.clients))return;const{user:s}=Be.getState();if(!s){e({error:"Utilisateur non connect"});return}e({isLoading:!0,error:null});try{const{data:i,error:o}=await le.from("laboratories").select("id").eq("user_id",s.id).single();if(o)throw o;const{data:a,error:l}=await le.from("laboratory_clients").select(`
          *,
          locations (
            id,
            formatted_address,
            latitude,
            longitude,
            delivery_instructions,
            place_id,
            location_photos (
              id,
              photo_url,
              description
            )
          )
        `).eq("laboratory_id",i.id);if(l)throw l;const c=a.map(d=>({id:d.id,name:d.name||"Client sans nom",laboratory_id:d.laboratory_id,client_type:d.client_type,driver_id:d.driver_id,location:{id:d.locations.id,formatted_address:d.locations.formatted_address,latitude:d.locations.latitude,longitude:d.locations.longitude,delivery_instructions:d.locations.delivery_instructions||void 0,place_id:d.locations.place_id||void 0},depot_actions:{is_pickup_depot:d.is_pickup_depot,is_return_depot:d.is_return_depot,is_return_next_day:d.is_return_next_day,is_depot_interaction:d.is_depot_interaction},photos:d.locations.location_photos?.map(h=>({id:h.id,url:h.photo_url,description:h.description||void 0}))||[],created_at:d.created_at}));e({clients:c,lastFetch:{...n.lastFetch,clients:Date.now()},isLoading:!1})}catch(i){e({error:i.message||"Erreur lors du chargement des clients",isLoading:!1})}},deleteClient:async r=>{e({isLoading:!0,error:null});try{await gN(r),await t().fetchClients(!0),e({isLoading:!1})}catch(n){throw e({error:n.message||"Erreur lors de la suppression du client",isLoading:!1}),n}},fetchTodayTour:async(r=!1)=>{const n=t();if(!r&&n.todayTour&&Ga(n.lastFetch.todayTour))return;const{user:s}=Be.getState();if(!s){e({error:"Utilisateur non connect"});return}e({isLoading:!0,error:null});try{const{data:i,error:o}=await le.from("laboratories").select("id").eq("user_id",s.id).single();if(o)throw o;const a=new Date().toISOString().split("T")[0],{data:l,error:c}=await le.from("lab_tours").select(`
          *,
          lab_tour_stops (
            id,
            tour_id,
            client_id,
            has_delivery,
            has_pickup,
            created_at
          )
        `).eq("laboratory_id",i.id).eq("date",a).single();if(c&&c.code!=="PGRST116")throw c;const d=l?{id:l.id,laboratory_id:l.laboratory_id,date:l.date,status:l.status,submission_time:l.submission_time,pickup_time:l.pickup_time,return_time:l.return_time,rejection_reason:l.rejection_reason,created_at:l.created_at,stops:l.lab_tour_stops||[]}:null;e({todayTour:d,lastFetch:{...n.lastFetch,todayTour:Date.now()},isLoading:!1})}catch(i){e({error:i.message||"Erreur lors du chargement de la tourne du jour",isLoading:!1})}},fetchTours:async(r=!1)=>{const n=t();if(!r&&n.tours.length>0&&Ga(n.lastFetch.tours))return;const{user:s}=Be.getState();if(!s){e({error:"Utilisateur non connect"});return}e({isLoading:!0,error:null});try{const{data:i,error:o}=await le.from("laboratories").select("id").eq("user_id",s.id).single();if(o)throw o;const{data:a,error:l}=await le.from("lab_tours").select(`
          *,
          lab_tour_stops (
            id,
            tour_id,
            client_id,
            has_delivery,
            has_pickup,
            created_at
          )
        `).eq("laboratory_id",i.id).order("created_at",{ascending:!1});if(l)throw l;const c=a.map(d=>({id:d.id,laboratory_id:d.laboratory_id,date:d.date,status:d.status,submission_time:d.submission_time,pickup_time:d.pickup_time,return_time:d.return_time,rejection_reason:d.rejection_reason,created_at:d.created_at,stops:d.lab_tour_stops||[]}));e({tours:c,lastFetch:{...n.lastFetch,tours:Date.now()},isLoading:!1})}catch(i){e({error:i.message||"Erreur lors du chargement des tournes",isLoading:!1})}},createTour:async r=>{const{user:n}=Be.getState();if(!n)throw new Error("Utilisateur non connect");e({isLoading:!0,error:null});try{const{data:s,error:i}=await le.from("laboratories").select("id").eq("user_id",n.id).single();if(i)throw i;const o=new Date().toISOString().split("T")[0],{data:a,error:l}=await le.from("lab_tours").insert({laboratory_id:s.id,date:o,status:"submitted",submission_time:new Date().toISOString()}).select().single();if(l)throw l;if(r.length>0){const{error:c}=await le.from("lab_tour_stops").insert(r.map(d=>({tour_id:a.id,client_id:d.client_id,has_delivery:d.has_delivery,has_pickup:d.has_pickup})));if(c)throw c}return t().fetchTodayTour(!0),t().fetchTours(!0),e({isLoading:!1}),a.id}catch(s){throw e({error:s.message||"Erreur lors de la cration de la tourne",isLoading:!1}),s}},updateTourStops:async(r,n)=>{e({isLoading:!0,error:null});try{const{error:s}=await le.from("lab_tour_stops").delete().eq("tour_id",r);if(s)throw s;if(n.length>0){const{error:i}=await le.from("lab_tour_stops").insert(n.map(o=>({tour_id:r,client_id:o.client_id,has_delivery:o.has_delivery,has_pickup:o.has_pickup})));if(i)throw i}t().fetchTodayTour(!0),t().fetchTours(!0),e({isLoading:!1})}catch(s){throw e({error:s.message||"Erreur lors de la mise  jour des arrts",isLoading:!1}),s}},setTourToEditable:async r=>{e({isLoading:!0,error:null});try{const{error:n}=await le.from("lab_tours").update({status:"pending_changes"}).eq("id",r);if(n)throw n;t().fetchTodayTour(!0),t().fetchTours(!0),e({isLoading:!1})}catch(n){throw e({error:n.message||"Erreur lors de la modification du statut",isLoading:!1}),n}},clearCache:()=>{e({laboratoryInfo:null,clients:[],todayTour:null,tours:[],currentUserId:null,lastFetch:{laboratoryInfo:0,clients:0,todayTour:0,tours:0}})},clearError:()=>{e({error:null})},checkIfDriverRoutesValidated:async()=>{try{const r=new Date().toISOString().split("T")[0],{data:n,error:s}=await le.from("driver_routes").select("id").eq("date",r).in("status",["validated","in_progress","completed"]).limit(1);if(s)throw console.error("Erreur lors de la vrification des driver_routes:",s),s;const i=n&&n.length>0;return console.log(` Driver routes valides/en cours/termines aujourd'hui: ${i?"OUI":"NON"}`),i}catch(r){throw console.error("Erreur lors de la vrification des routes valides:",r),r}},getUnscheduledClients:async()=>{t();const{user:r}=Be.getState();if(!r)throw new Error("Utilisateur non connect");try{const{data:n,error:s}=await le.from("laboratories").select("id").eq("user_id",r.id).single();if(s)throw s;const i=new Date().toISOString().split("T")[0],{data:o,error:a}=await le.from("lab_tours").select(`
          id,
          lab_tour_stops (client_id)
        `).eq("laboratory_id",n.id).eq("date",i).single();let l=[];o&&!a&&(l=o.lab_tour_stops?.map(m=>m.client_id)||[]),console.log(` Clients programms aujourd'hui: ${l.length}`);const{data:c,error:d}=await le.from("laboratory_clients").select(`
          *,
          locations (
            id,
            formatted_address,
            latitude,
            longitude,
            delivery_instructions,
            place_id,
            location_photos (
              id,
              photo_url,
              description
            )
          )
        `).eq("laboratory_id",n.id).neq("client_type","depot");if(d)throw d;const h=c.filter(m=>!l.includes(m.id));return console.log(` Clients non programms: ${h.length}`),h.map(m=>({id:m.id,name:m.name||"Client sans nom",laboratory_id:m.laboratory_id,client_type:m.client_type,driver_id:m.driver_id,location:{id:m.locations.id,formatted_address:m.locations.formatted_address,latitude:m.locations.latitude,longitude:m.locations.longitude,delivery_instructions:m.locations.delivery_instructions||void 0,place_id:m.locations.place_id||void 0},depot_actions:{is_pickup_depot:m.is_pickup_depot,is_return_depot:m.is_return_depot,is_return_next_day:m.is_return_next_day,is_depot_interaction:m.is_depot_interaction},photos:m.locations.location_photos?.map(x=>({id:x.id,url:x.photo_url,description:x.description||void 0}))||[],created_at:m.created_at}))}catch(n){throw console.error("Erreur lors de la rcupration des clients non programms:",n),n}},createLateStopRequest:async r=>{const{user:n}=Be.getState();if(!n)throw new Error("Utilisateur non connect");try{const{data:s,error:i}=await le.from("laboratories").select("id").eq("user_id",n.id).single();if(i)throw i;const o=new Date().toISOString().split("T")[0],{data:a,error:l}=await le.from("lab_tours").select("id").eq("laboratory_id",s.id).eq("date",o).single();if(l)throw new Error("Aucune tourne trouve pour aujourd'hui");const{data:c,error:d}=await le.from("lab_tour_late_stops").insert({lab_tour_id:a.id,client_id:r.client_id,has_pickup:r.has_pickup,has_delivery:r.has_delivery,urgent_instructions:r.urgent_instructions||null}).select("id").single();if(d)throw d;return console.log(` Demande de dernire minute cre: ${c.id}`),c.id}catch(s){throw console.error("Erreur lors de la cration de la demande de dernire minute:",s),s}},getLateStopRequests:async()=>{const{user:r}=Be.getState();if(!r)throw new Error("Utilisateur non connect");try{const{data:n,error:s}=await le.from("laboratories").select("id").eq("user_id",r.id).single();if(s)throw s;const{data:i,error:o}=await le.from("lab_tour_late_stops").select(`
          *,
          lab_tours!inner (
            id,
            laboratory_id,
            date
          ),
          laboratory_clients (
            id,
            name,
            client_type,
            locations (
              formatted_address
            )
          )
        `).eq("lab_tours.laboratory_id",n.id).order("requested_at",{ascending:!1});if(o)throw o;return console.log(` ${i?.length||0} demandes de dernire minute rcupres`),i||[]}catch(n){throw console.error("Erreur lors de la rcupration des demandes de dernire minute:",n),n}},getClientById:r=>t().clients.find(n=>n.id===r),getTourById:r=>t().tours.find(n=>n.id===r),setupRealtimeListeners:()=>{console.log("  setupRealtimeListeners doit tre appele via useLabToursRealtime dans un composant")},cleanupRealtimeListeners:()=>{console.log("  cleanupRealtimeListeners doit tre appele via useLabToursRealtime dans un composant")}})),xN=()=>{const e=zc();return{laboratoryInfo:e.laboratoryInfo,fetchLaboratoryInfo:e.fetchLaboratoryInfo,isLoading:e.isLoading,error:e.error}},wN=()=>{const{user:e}=Be(),{fetchLaboratoryInfo:t,fetchClients:r,fetchTodayTour:n,fetchTours:s}=zc();ge.useEffect(()=>{e&&(t(!0),r(!0),n(!0),s(!0))},[e?.id,t,r,n,s])},Bc=()=>{const e=zc(),{user:t}=Be(),r=ge.useCallback((l,c)=>{switch(console.log(" Mise  jour temps rel - lab_tours:",l),l){case"INSERT":case"UPDATE":c.new?.date===new Date().toISOString().split("T")[0]&&e.fetchTodayTour(!0),e.fetchTours(!0);break;case"DELETE":e.fetchTodayTour(!0),e.fetchTours(!0);break}},[e]),n=ge.useCallback((l,c)=>{console.log(" Mise  jour temps rel - lab_tour_stops:",l);const d=c.new?.tour_id||c.old?.tour_id;if(d){const h=e.todayTour;h&&h.id===d&&e.fetchTodayTour(!0),e.fetchTours(!0)}},[e]),s=ge.useCallback((l,c)=>{console.log(" Mise  jour temps rel - lab_tour_shipments:",l);const d=c.new?.lab_tour_id||c.old?.lab_tour_id;if(d){const h=e.todayTour;h&&h.id===d&&e.fetchTodayTour(!0),e.fetchTours(!0)}},[e]),{setupRealtimeListeners:i,cleanupRealtimeListeners:o,isSetup:a}=yN({onLabTourChange:r,onLabTourStopChange:n,onLabTourShipmentChange:s,laboratoryId:e.laboratoryInfo?.id,enabled:!!t});return{...e,setupRealtimeListeners:i,cleanupRealtimeListeners:o,isRealtimeSetup:a}},Df=b.createContext({});function If(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wc=b.createContext(null),Mf=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class bN extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _N({children:e,isPresent:t}){const r=b.useId(),n=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=b.useContext(Mf);return b.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(t||!n.current||!o||!a)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),u.jsx(bN,{isPresent:t,childRef:n,sizeRef:s,children:b.cloneElement(e,{ref:n})})}const kN=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=If(SN),l=b.useId(),c=b.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;n&&n()},[a,n]),d=b.useMemo(()=>({id:l,initial:t,isPresent:r,custom:s,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),c]:[r,c]);return b.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[r]),b.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(e=u.jsx(_N,{isPresent:r,children:e})),u.jsx(Wc.Provider,{value:d,children:e})};function SN(){return new Map}function aw(e=!0){const t=b.useContext(Wc);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=b.useId();b.useEffect(()=>{e&&s(i)},[e]);const o=b.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const Ja=e=>e.key||"";function mg(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const Vf=typeof window<"u",lw=Vf?b.useLayoutEffect:b.useEffect,Wt=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=aw(o),c=b.useMemo(()=>mg(e),[e]),d=o&&!a?[]:c.map(Ja),h=b.useRef(!0),f=b.useRef(c),m=If(()=>new Map),[x,v]=b.useState(c),[_,g]=b.useState(c);lw(()=>{h.current=!1,f.current=c;for(let S=0;S<_.length;S++){const w=Ja(_[S]);d.includes(w)?m.delete(w):m.get(w)!==!0&&m.set(w,!1)}},[_,d.length,d.join("-")]);const p=[];if(c!==x){let S=[...c];for(let w=0;w<_.length;w++){const E=_[w],P=Ja(E);d.includes(P)||(S.splice(w,0,E),p.push(E))}i==="wait"&&p.length&&(S=p),g(mg(S)),v(c);return}const{forceRender:y}=b.useContext(Df);return u.jsx(u.Fragment,{children:_.map(S=>{const w=Ja(S),E=o&&!a?!1:c===_||d.includes(w),P=()=>{if(m.has(w))m.set(w,!0);else return;let j=!0;m.forEach(C=>{C||(j=!1)}),j&&(y?.(),g(f.current),o&&l?.(),n&&n())};return u.jsx(kN,{isPresent:E,initial:!h.current||r?void 0:!1,custom:E?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:E?void 0:P,children:S},w)})})},Rt=e=>e;let ah=Rt;function $f(e){let t;return()=>(t===void 0&&(t=e()),t)}const yi=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Ur=e=>e*1e3,zr=e=>e/1e3,jN={skipAnimations:!1,useManualTiming:!1};function CN(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),e()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const m=h&&n?t:r;return d&&i.add(c),m.has(c)||m.add(c),c},cancel:c=>{r.delete(c),i.delete(c)},process:c=>{if(o=c,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(a),t.clear(),n=!1,s&&(s=!1,l.process(c))}};return l}const Qa=["read","resolveKeyframes","update","preRender","render","postRender"],TN=40;function cw(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Qa.reduce((g,p)=>(g[p]=CN(i),g),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:f}=o,m=()=>{const g=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(g-s.timestamp,TN),1),s.timestamp=g,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(m))},x=()=>{r=!0,n=!0,s.isProcessing||e(m)};return{schedule:Qa.reduce((g,p)=>{const y=o[p];return g[p]=(S,w=!1,E=!1)=>(r||x(),y.schedule(S,w,E)),g},{}),cancel:g=>{for(let p=0;p<Qa.length;p++)o[Qa[p]].cancel(g)},state:s,steps:o}}const{schedule:Ee,cancel:An,state:Xe,steps:Du}=cw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rt,!0),uw=b.createContext({strict:!1}),gg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vi={};for(const e in gg)vi[e]={isEnabled:t=>gg[e].some(r=>!!t[r])};function EN(e){for(const t in e)vi[t]={...vi[t],...e[t]}}const NN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||NN.has(e)}let dw=e=>!Jl(e);function PN(e){e&&(dw=t=>t.startsWith("on")?!Jl(t):e(t))}try{PN(require("@emotion/is-prop-valid").default)}catch{}function AN(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(dw(s)||r===!0&&Jl(s)||!t&&!Jl(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function RN(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Hc=b.createContext({});function Ko(e){return typeof e=="string"||Array.isArray(e)}function Zc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Ff=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uf=["initial",...Ff];function qc(e){return Zc(e.animate)||Uf.some(t=>Ko(e[t]))}function hw(e){return!!(qc(e)||e.variants)}function LN(e,t){if(qc(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ko(r)?r:void 0,animate:Ko(n)?n:void 0}}return e.inherit!==!1?t:{}}function ON(e){const{initial:t,animate:r}=LN(e,b.useContext(Hc));return b.useMemo(()=>({initial:t,animate:r}),[yg(t),yg(r)])}function yg(e){return Array.isArray(e)?e.join(" "):e}const DN=Symbol.for("motionComponentSymbol");function Hs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function IN(e,t,r){return b.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Hs(r)&&(r.current=n))},[t])}const zf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),MN="framerAppearId",fw="data-"+zf(MN),{schedule:Bf,cancel:tD}=cw(queueMicrotask,!1),pw=b.createContext({});function VN(e,t,r,n,s){var i,o;const{visualElement:a}=b.useContext(Hc),l=b.useContext(uw),c=b.useContext(Wc),d=b.useContext(Mf).reducedMotion,h=b.useRef(null);n=n||l.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:a,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=b.useContext(pw);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&$N(h.current,r,s,m);const x=b.useRef(!1);b.useInsertionEffect(()=>{f&&x.current&&f.update(r,c)});const v=r[fw],_=b.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return lw(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Bf.render(f.render),_.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!_.current&&f.animationState&&f.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,v)}),_.current=!1))}),f}function $N(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:mw(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Hs(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}function mw(e){if(e)return e.options.allowProjection!==!1?e.projection:mw(e.parent)}function FN({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var i,o;e&&EN(e);function a(c,d){let h;const f={...b.useContext(Mf),...c,layoutId:UN(c)},{isStatic:m}=f,x=ON(c),v=n(c,m);if(!m&&Vf){zN();const _=BN(f);h=_.MeasureLayout,x.visualElement=VN(s,v,f,t,_.ProjectionNode)}return u.jsxs(Hc.Provider,{value:x,children:[h&&x.visualElement?u.jsx(h,{visualElement:x.visualElement,...f}):null,r(s,c,IN(v,x.visualElement,d),v,m,x.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=b.forwardRef(a);return l[DN]=s,l}function UN({layoutId:e}){const t=b.useContext(Df).id;return t&&e!==void 0?t+"-"+e:e}function zN(e,t){b.useContext(uw).strict}function BN(e){const{drag:t,layout:r}=vi;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const WN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wf(e){return typeof e!="string"||e.includes("-")?!1:!!(WN.indexOf(e)>-1||/[A-Z]/u.test(e))}function vg(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Hf(e,t,r,n){if(typeof t=="function"){const[s,i]=vg(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=vg(n);t=t(r!==void 0?r:e.custom,s,i)}return t}const lh=e=>Array.isArray(e),HN=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),ZN=e=>lh(e)?e[e.length-1]||0:e,lt=e=>!!(e&&e.getVelocity);function pl(e){const t=lt(e)?e.get():e;return HN(t)?t.toValue():t}function qN({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,i){const o={latestValues:KN(n,s,i,e),renderState:t()};return r&&(o.onMount=a=>r({props:n,current:a,...o}),o.onUpdate=a=>r(a)),o}const gw=e=>(t,r)=>{const n=b.useContext(Hc),s=b.useContext(Wc),i=()=>qN(e,t,n,s);return r?i():If(i)};function KN(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=pl(i[f]);let{initial:o,animate:a}=e;const l=qc(e),c=hw(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Zc(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const x=Hf(e,f[m]);if(x){const{transitionEnd:v,transition:_,...g}=x;for(const p in g){let y=g[p];if(Array.isArray(y)){const S=d?y.length-1:0;y=y[S]}y!==null&&(s[p]=y)}for(const p in v)s[p]=v[p]}}}return s}const Li=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ss=new Set(Li),yw=e=>t=>typeof t=="string"&&t.startsWith(e),vw=yw("--"),GN=yw("var(--"),Zf=e=>GN(e)?JN.test(e.split("/*")[0].trim()):!1,JN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Kr=(e,t,r)=>r>t?t:r<e?e:r,Oi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Go={...Oi,transform:e=>Kr(0,1,e)},Ya={...Oi,default:1},wa=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ln=wa("deg"),wr=wa("%"),Q=wa("px"),QN=wa("vh"),YN=wa("vw"),xg={...wr,parse:e=>wr.parse(e)/100,transform:e=>wr.transform(e*100)},XN={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,backgroundPositionX:Q,backgroundPositionY:Q},e2={rotate:ln,rotateX:ln,rotateY:ln,rotateZ:ln,scale:Ya,scaleX:Ya,scaleY:Ya,scaleZ:Ya,skew:ln,skewX:ln,skewY:ln,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:Go,originX:xg,originY:xg,originZ:Q},wg={...Oi,transform:Math.round},qf={...XN,...e2,zIndex:wg,size:Q,fillOpacity:Go,strokeOpacity:Go,numOctaves:wg},t2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},r2=Li.length;function n2(e,t,r){let n="",s=!0;for(let i=0;i<r2;i++){const o=Li[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){const c=xw(a,qf[o]);if(!l){s=!1;const d=t2[o]||o;n+=`${d}(${c}) `}r&&(t[o]=c)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Kf(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Ss.has(l)){o=!0;continue}else if(vw(l)){s[l]=c;continue}else{const d=xw(c,qf[l]);l.startsWith("origin")?(a=!0,i[l]=d):n[l]=d}}if(t.transform||(o||r?n.transform=n2(t,e.transform,r):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;n.transformOrigin=`${l} ${c} ${d}`}}const s2={offset:"stroke-dashoffset",array:"stroke-dasharray"},i2={offset:"strokeDashoffset",array:"strokeDasharray"};function o2(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?s2:i2;e[i.offset]=Q.transform(-n);const o=Q.transform(t),a=Q.transform(r);e[i.array]=`${o} ${a}`}function bg(e,t,r){return typeof e=="string"?e:Q.transform(t+r*e)}function a2(e,t,r){const n=bg(t,e.x,e.width),s=bg(r,e.y,e.height);return`${n} ${s}`}function Gf(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(Kf(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:x}=e;f.transform&&(x&&(m.transform=f.transform),delete f.transform),x&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=a2(x,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&o2(f,o,a,l,!1)}const Jf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ww=()=>({...Jf(),attrs:{}}),Qf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function bw(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const _w=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kw(e,t,r,n){bw(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(_w.has(s)?s:zf(s),t.attrs[s])}const Ql={};function l2(e){Object.assign(Ql,e)}function Sw(e,{layout:t,layoutId:r}){return Ss.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Ql[e]||e==="opacity")}function Yf(e,t,r){var n;const{style:s}=e,i={};for(const o in s)(lt(s[o])||t.style&&lt(t.style[o])||Sw(o,e)||((n=r?.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function jw(e,t,r){const n=Yf(e,t,r);for(const s in e)if(lt(e[s])||lt(t[s])){const i=Li.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function c2(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const _g=["x","y","width","height","cx","cy","r"],u2={useVisualState:gw({scrapeMotionValuesFromProps:jw,createRenderState:ww,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let i=!!e.drag;if(!i){for(const a in s)if(Ss.has(a)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let a=0;a<_g.length;a++){const l=_g[a];e[l]!==t[l]&&(o=!0)}o&&Ee.read(()=>{c2(r,n),Ee.render(()=>{Gf(n,s,Qf(r.tagName),e.transformTemplate),kw(r,n)})})}})},d2={useVisualState:gw({scrapeMotionValuesFromProps:Yf,createRenderState:Jf})};function Cw(e,t,r){for(const n in t)!lt(t[n])&&!Sw(n,r)&&(e[n]=t[n])}function h2({transformTemplate:e},t){return b.useMemo(()=>{const r=Jf();return Kf(r,t,e),Object.assign({},r.vars,r.style)},[t])}function f2(e,t){const r=e.style||{},n={};return Cw(n,r,e),Object.assign(n,h2(e,t)),n}function p2(e,t){const r={},n=f2(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function m2(e,t,r,n){const s=b.useMemo(()=>{const i=ww();return Gf(i,t,Qf(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Cw(i,e.style,e),s.style={...i,...s.style}}return s}function g2(e=!1){return(r,n,s,{latestValues:i},o)=>{const l=(Wf(r)?m2:p2)(n,i,o,r),c=AN(n,typeof r=="string",e),d=r!==b.Fragment?{...c,...l,ref:s}:{},{children:h}=n,f=b.useMemo(()=>lt(h)?h.get():h,[h]);return b.createElement(r,{...d,children:f})}}function y2(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Wf(n)?u2:d2,preloadedFeatures:e,useRender:g2(s),createVisualElement:t,Component:n};return FN(o)}}function Tw(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Kc(e,t,r){const n=e.getProps();return Hf(n,t,r!==void 0?r:n.custom,e)}const v2=$f(()=>window.ScrollTimeline!==void 0);class x2{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(v2()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class w2 extends x2{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function Xf(e,t){return e?e[t]||e.default||e:void 0}const ch=2e4;function Ew(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<ch;)t+=r,n=e.next(t);return t>=ch?1/0:t}function ep(e){return typeof e=="function"}function kg(e,t){e.timeline=t,e.onfinish=null}const tp=e=>Array.isArray(e)&&typeof e[0]=="number",b2={linearEasing:void 0};function _2(e,t){const r=$f(e);return()=>{var n;return(n=b2[t])!==null&&n!==void 0?n:r()}}const Yl=_2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nw=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(yi(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function Pw(e){return!!(typeof e=="function"&&Yl()||!e||typeof e=="string"&&(e in uh||Yl())||tp(e)||Array.isArray(e)&&e.every(Pw))}const ro=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,uh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ro([0,.65,.55,1]),circOut:ro([.55,0,1,.45]),backIn:ro([.31,.01,.66,-.59]),backOut:ro([.33,1.53,.69,.99])};function Aw(e,t){if(e)return typeof e=="function"&&Yl()?Nw(e,t):tp(e)?ro(e):Array.isArray(e)?e.map(r=>Aw(r,t)||uh.easeOut):uh[e]}const Qt={x:!1,y:!1};function Rw(){return Qt.x||Qt.y}function k2(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Lw(e,t){const r=k2(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function Sg(e){return t=>{t.pointerType==="touch"||Rw()||e(t)}}function S2(e,t,r={}){const[n,s,i]=Lw(e,r),o=Sg(a=>{const{target:l}=a,c=t(a);if(typeof c!="function"||!l)return;const d=Sg(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return n.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Ow=(e,t)=>t?e===t?!0:Ow(e,t.parentElement):!1,rp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,j2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C2(e){return j2.has(e.tagName)||e.tabIndex!==-1}const no=new WeakSet;function jg(e){return t=>{t.key==="Enter"&&e(t)}}function Iu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const T2=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=jg(()=>{if(no.has(r))return;Iu(r,"down");const s=jg(()=>{Iu(r,"up")}),i=()=>Iu(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Cg(e){return rp(e)&&!Rw()}function E2(e,t,r={}){const[n,s,i]=Lw(e,r),o=a=>{const l=a.currentTarget;if(!Cg(a)||no.has(l))return;no.add(l);const c=t(a),d=(m,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Cg(m)||!no.has(l))&&(no.delete(l),typeof c=="function"&&c(m,{success:x}))},h=m=>{d(m,r.useGlobalTarget||Ow(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(a=>{!C2(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(r.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>T2(c,s),s)}),i}function N2(e){return e==="x"||e==="y"?Qt[e]?null:(Qt[e]=!0,()=>{Qt[e]=!1}):Qt.x||Qt.y?null:(Qt.x=Qt.y=!0,()=>{Qt.x=Qt.y=!1})}const Dw=new Set(["width","height","top","left","right","bottom",...Li]);let ml;function P2(){ml=void 0}const br={now:()=>(ml===void 0&&br.set(Xe.isProcessing||jN.useManualTiming?Xe.timestamp:performance.now()),ml),set:e=>{ml=e,queueMicrotask(P2)}};function np(e,t){e.indexOf(t)===-1&&e.push(t)}function sp(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class ip{constructor(){this.subscriptions=[]}add(t){return np(this.subscriptions,t),()=>sp(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Iw(e,t){return t?e*(1e3/t):0}const Tg=30,A2=e=>!isNaN(parseFloat(e));class R2{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=br.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=br.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=A2(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ip);const n=this.events[t].add(r);return t==="change"?()=>{n(),Ee.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Tg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Tg);return Iw(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jo(e,t){return new R2(e,t)}function L2(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Jo(r))}function O2(e,t){const r=Kc(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const a=ZN(i[o]);L2(e,o,a)}}function D2(e){return!!(lt(e)&&e.add)}function dh(e,t){const r=e.getValue("willChange");if(D2(r))return r.add(t)}function Mw(e){return e.props[fw]}const Vw=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,I2=1e-7,M2=12;function V2(e,t,r,n,s){let i,o,a=0;do o=t+(r-t)/2,i=Vw(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>I2&&++a<M2);return o}function ba(e,t,r,n){if(e===t&&r===n)return Rt;const s=i=>V2(i,0,1,e,r);return i=>i===0||i===1?i:Vw(s(i),t,n)}const $w=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Fw=e=>t=>1-e(1-t),Uw=ba(.33,1.53,.69,.99),op=Fw(Uw),zw=$w(op),Bw=e=>(e*=2)<1?.5*op(e):.5*(2-Math.pow(2,-10*(e-1))),ap=e=>1-Math.sin(Math.acos(e)),Ww=Fw(ap),Hw=$w(ap),Zw=e=>/^0[^.\s]+$/u.test(e);function $2(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Zw(e):!0}const bo=e=>Math.round(e*1e5)/1e5,lp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F2(e){return e==null}const U2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cp=(e,t)=>r=>!!(typeof r=="string"&&U2.test(r)&&r.startsWith(e)||t&&!F2(r)&&Object.prototype.hasOwnProperty.call(r,t)),qw=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,a]=n.match(lp);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},z2=e=>Kr(0,255,e),Mu={...Oi,transform:e=>Math.round(z2(e))},ns={test:cp("rgb","red"),parse:qw("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Mu.transform(e)+", "+Mu.transform(t)+", "+Mu.transform(r)+", "+bo(Go.transform(n))+")"};function B2(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const hh={test:cp("#"),parse:B2,transform:ns.transform},Zs={test:cp("hsl","hue"),parse:qw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+wr.transform(bo(t))+", "+wr.transform(bo(r))+", "+bo(Go.transform(n))+")"},ot={test:e=>ns.test(e)||hh.test(e)||Zs.test(e),parse:e=>ns.test(e)?ns.parse(e):Zs.test(e)?Zs.parse(e):hh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ns.transform(e):Zs.transform(e)},W2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function H2(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(lp))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(W2))===null||r===void 0?void 0:r.length)||0)>0}const Kw="number",Gw="color",Z2="var",q2="var(",Eg="${}",K2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qo(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(K2,l=>(ot.test(l)?(n.color.push(i),s.push(Gw),r.push(ot.parse(l))):l.startsWith(q2)?(n.var.push(i),s.push(Z2),r.push(l)):(n.number.push(i),s.push(Kw),r.push(parseFloat(l))),++i,Eg)).split(Eg);return{values:r,split:a,indexes:n,types:s}}function Jw(e){return Qo(e).values}function Qw(e){const{split:t,types:r}=Qo(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const a=r[o];a===Kw?i+=bo(s[o]):a===Gw?i+=ot.transform(s[o]):i+=s[o]}return i}}const G2=e=>typeof e=="number"?0:e;function J2(e){const t=Jw(e);return Qw(e)(t.map(G2))}const Rn={test:H2,parse:Jw,createTransformer:Qw,getAnimatableNone:J2},Q2=new Set(["brightness","contrast","saturate","opacity"]);function Y2(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(lp)||[];if(!n)return e;const s=r.replace(n,"");let i=Q2.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const X2=/\b([a-z-]*)\(.*?\)/gu,fh={...Rn,getAnimatableNone:e=>{const t=e.match(X2);return t?t.map(Y2).join(" "):e}},eP={...qf,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:fh,WebkitFilter:fh},up=e=>eP[e];function Yw(e,t){let r=up(e);return r!==fh&&(r=Rn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const tP=new Set(["auto","none","0"]);function rP(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!tP.has(i)&&Qo(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Yw(r,s)}const Ng=e=>e===Oi||e===Q,Pg=(e,t)=>parseFloat(e.split(", ")[t]),Ag=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return Pg(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?Pg(i[1],e):0}},nP=new Set(["x","y","z"]),sP=Li.filter(e=>!nP.has(e));function iP(e){const t=[];return sP.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const xi={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ag(4,13),y:Ag(5,14)};xi.translateX=xi.x;xi.translateY=xi.y;const as=new Set;let ph=!1,mh=!1;function Xw(){if(mh){const e=Array.from(as).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=iP(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var a;(a=n.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}mh=!1,ph=!1,as.forEach(e=>e.complete()),as.clear()}function eb(){as.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(mh=!0)})}function oP(){eb(),Xw()}class dp{constructor(t,r,n,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(as.add(this),ph||(ph=!0,Ee.read(eb),Ee.resolveKeyframes(Xw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s?.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),as.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,as.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),aP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lP(e){const t=aP.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function rb(e,t,r=1){const[n,s]=lP(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return tb(o)?parseFloat(o):o}return Zf(s)?rb(s,t,r+1):s}const nb=e=>t=>t.test(e),cP={test:e=>e==="auto",parse:e=>e},sb=[Oi,Q,wr,ln,YN,QN,cP],Rg=e=>sb.find(nb(e));class ib extends dp{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Zf(c))){const d=rb(c,r.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Dw.has(n)||t.length!==2)return;const[s,i]=t,o=Rg(s),a=Rg(i);if(o!==a)if(Ng(o)&&Ng(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)$2(t[s])&&n.push(s);n.length&&rP(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=xi[n](r.measureViewportBox(),window.getComputedStyle(r.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{r.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const Lg=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Rn.test(e)||e==="0")&&!e.startsWith("url("));function uP(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function dP(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Lg(s,t),a=Lg(i,t);return!o||!a?!1:uP(e)||(r==="spring"||ep(r))&&n}const hP=e=>e!==null;function Gc(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(hP),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const fP=40;class ob{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=br.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oP(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=br.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!dP(t,n,s,i))if(o)this.options.duration=0;else{l&&l(Gc(t,this.options,r)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Le=(e,t,r)=>e+(t-e)*r;function Vu(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function pP({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;s=Vu(l,a,e+1/3),i=Vu(l,a,e),o=Vu(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Xl(e,t){return r=>r>0?t:e}const $u=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},mP=[hh,ns,Zs],gP=e=>mP.find(t=>t.test(e));function Og(e){const t=gP(e);if(!t)return!1;let r=t.parse(e);return t===Zs&&(r=pP(r)),r}const Dg=(e,t)=>{const r=Og(e),n=Og(t);if(!r||!n)return Xl(e,t);const s={...r};return i=>(s.red=$u(r.red,n.red,i),s.green=$u(r.green,n.green,i),s.blue=$u(r.blue,n.blue,i),s.alpha=Le(r.alpha,n.alpha,i),ns.transform(s))},yP=(e,t)=>r=>t(e(r)),_a=(...e)=>e.reduce(yP),gh=new Set(["none","hidden"]);function vP(e,t){return gh.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function xP(e,t){return r=>Le(e,t,r)}function hp(e){return typeof e=="number"?xP:typeof e=="string"?Zf(e)?Xl:ot.test(e)?Dg:_P:Array.isArray(e)?ab:typeof e=="object"?ot.test(e)?Dg:wP:Xl}function ab(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>hp(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function wP(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=hp(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function bP(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(r=e.values[a])!==null&&r!==void 0?r:0;n[i]=l,s[o]++}return n}const _P=(e,t)=>{const r=Rn.createTransformer(t),n=Qo(e),s=Qo(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?gh.has(e)&&!s.values.length||gh.has(t)&&!n.values.length?vP(e,t):_a(ab(bP(n,s),s.values),r):Xl(e,t)};function lb(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Le(e,t,r):hp(e)(e,t)}const kP=5;function cb(e,t,r){const n=Math.max(t-kP,0);return Iw(r-e(n),t-n)}const Me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fu=.001;function SP({duration:e=Me.duration,bounce:t=Me.bounce,velocity:r=Me.velocity,mass:n=Me.mass}){let s,i,o=1-t;o=Kr(Me.minDamping,Me.maxDamping,o),e=Kr(Me.minDuration,Me.maxDuration,zr(e)),o<1?(s=c=>{const d=c*o,h=d*e,f=d-r,m=yh(c,o),x=Math.exp(-h);return Fu-f/m*x},i=c=>{const h=c*o*e,f=h*r+r,m=Math.pow(o,2)*Math.pow(c,2)*e,x=Math.exp(-h),v=yh(Math.pow(c,2),o);return(-s(c)+Fu>0?-1:1)*((f-m)*x)/v}):(s=c=>{const d=Math.exp(-c*e),h=(c-r)*e+1;return-Fu+d*h},i=c=>{const d=Math.exp(-c*e),h=(r-c)*(e*e);return d*h});const a=5/e,l=CP(s,i,a);if(e=Ur(e),isNaN(l))return{stiffness:Me.stiffness,damping:Me.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:e}}}const jP=12;function CP(e,t,r){let n=r;for(let s=1;s<jP;s++)n=n-e(n)/t(n);return n}function yh(e,t){return e*Math.sqrt(1-t*t)}const TP=["duration","bounce"],EP=["stiffness","damping","mass"];function Ig(e,t){return t.some(r=>e[r]!==void 0)}function NP(e){let t={velocity:Me.velocity,stiffness:Me.stiffness,damping:Me.damping,mass:Me.mass,isResolvedFromDuration:!1,...e};if(!Ig(e,EP)&&Ig(e,TP))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Kr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Me.mass,stiffness:s,damping:i}}else{const r=SP(e);t={...t,...r,mass:Me.mass},t.isResolvedFromDuration=!0}return t}function ub(e=Me.visualDuration,t=Me.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=NP({...r,velocity:-zr(r.velocity||0)}),x=f||0,v=c/(2*Math.sqrt(l*d)),_=o-i,g=zr(Math.sqrt(l/d)),p=Math.abs(_)<5;n||(n=p?Me.restSpeed.granular:Me.restSpeed.default),s||(s=p?Me.restDelta.granular:Me.restDelta.default);let y;if(v<1){const w=yh(g,v);y=E=>{const P=Math.exp(-v*g*E);return o-P*((x+v*g*_)/w*Math.sin(w*E)+_*Math.cos(w*E))}}else if(v===1)y=w=>o-Math.exp(-g*w)*(_+(x+g*_)*w);else{const w=g*Math.sqrt(v*v-1);y=E=>{const P=Math.exp(-v*g*E),j=Math.min(w*E,300);return o-P*((x+v*g*_)*Math.sinh(j)+w*_*Math.cosh(j))/w}}const S={calculatedDuration:m&&h||null,next:w=>{const E=y(w);if(m)a.done=w>=h;else{let P=0;v<1&&(P=w===0?Ur(x):cb(y,w,E));const j=Math.abs(P)<=n,C=Math.abs(o-E)<=s;a.done=j&&C}return a.value=a.done?o:E,a},toString:()=>{const w=Math.min(Ew(S),ch),E=Nw(P=>S.next(w*P).value,w,30);return w+"ms "+E}};return S}function Mg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=j=>a!==void 0&&j<a||l!==void 0&&j>l,x=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let v=r*t;const _=h+v,g=o===void 0?_:o(_);g!==_&&(v=g-h);const p=j=>-v*Math.exp(-j/n),y=j=>g+p(j),S=j=>{const C=p(j),A=y(j);f.done=Math.abs(C)<=c,f.value=f.done?g:A};let w,E;const P=j=>{m(f.value)&&(w=j,E=ub({keyframes:[f.value,x(f.value)],velocity:cb(y,j,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return P(0),{calculatedDuration:null,next:j=>{let C=!1;return!E&&w===void 0&&(C=!0,S(j),P(j)),w!==void 0&&j>=w?E.next(j-w):(!C&&S(j),f)}}}const PP=ba(.42,0,1,1),AP=ba(0,0,.58,1),db=ba(.42,0,.58,1),RP=e=>Array.isArray(e)&&typeof e[0]!="number",Vg={linear:Rt,easeIn:PP,easeInOut:db,easeOut:AP,circIn:ap,circInOut:Hw,circOut:Ww,backIn:op,backInOut:zw,backOut:Uw,anticipate:Bw},$g=e=>{if(tp(e)){ah(e.length===4);const[t,r,n,s]=e;return ba(t,r,n,s)}else if(typeof e=="string")return ah(Vg[e]!==void 0),Vg[e];return e};function LP(e,t,r){const n=[],s=r||lb,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Rt:t;a=_a(l,a)}n.push(a)}return n}function OP(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(ah(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=LP(t,n,s),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=yi(e[h],e[h+1],d);return a[h](f)};return r?d=>c(Kr(e[0],e[i-1],d)):c}function DP(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=yi(0,t,n);e.push(Le(r,1,s))}}function IP(e){const t=[0];return DP(t,e.length-1),t}function MP(e,t){return e.map(r=>r*t)}function VP(e,t){return e.map(()=>t||db).splice(0,e.length-1)}function ec({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=RP(n)?n.map($g):$g(n),i={done:!1,value:t[0]},o=MP(r&&r.length===t.length?r:IP(t),e),a=OP(o,t,{ease:Array.isArray(s)?s:VP(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const $P=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Ee.update(t,!0),stop:()=>An(t),now:()=>Xe.isProcessing?Xe.timestamp:br.now()}},FP={decay:Mg,inertia:Mg,tween:ec,keyframes:ec,spring:ub},UP=e=>e/100;class fp extends ob{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,o=s?.KeyframeResolver||dp,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=ep(r)?r:FP[r]||ec;let l,c;a!==ec&&typeof t[0]!="number"&&(l=_a(UP,lb(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});i==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Ew(d));const{calculatedDuration:h}=d,f=h+s,m=f*(n+1)-s;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:m,repeatType:x,repeatDelay:v,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,S=i;if(m){const j=Math.min(this.currentTime,d)/h;let C=Math.floor(j),A=j%1;!A&&j>=1&&(A=1),A===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(x==="reverse"?(A=1-A,v&&(A-=v/h)):x==="mirror"&&(S=o)),y=Kr(0,1,A)*h}const w=p?{done:!1,value:l[0]}:S.next(y);a&&(w.value=a(w.value));let{done:E}=w;!p&&c!==null&&(E=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return P&&s!==void 0&&(w.value=Gc(l,this.options,s)),_&&_(w.value),P&&this.finish(),w}get duration(){const{resolved:t}=this;return t?zr(t.calculatedDuration):0}get time(){return zr(this.currentTime)}set time(t){t=Ur(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=zr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=$P,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const zP=new Set(["opacity","clipPath","filter","transform"]);function BP(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[t]:r};l&&(c.offset=l);const d=Aw(a,s);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const WP=$f(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tc=10,HP=2e4;function ZP(e){return ep(e.type)||e.type==="spring"||!Pw(e.ease)}function qP(e,t){const r=new fp({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<HP;)n=r.sample(i),s.push(n.value),i+=tc;return{times:void 0,keyframes:s,duration:i-tc,ease:"linear"}}const hb={anticipate:Bw,backInOut:zw,circInOut:Hw};function KP(e){return e in hb}class Fg extends ob{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new ib(i,(o,a)=>this.onKeyframesResolved(o,a),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&Yl()&&KP(i)&&(i=hb[i]),ZP(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:x,...v}=this.options,_=qP(t,v);t=_.keyframes,t.length===1&&(t[1]=t[0]),n=_.duration,s=_.times,i=_.ease,o="keyframes"}const d=BP(a.owner.current,l,t,{...this.options,duration:n,times:s,ease:i});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(kg(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(Gc(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return zr(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return zr(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Ur(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Rt;const{animation:n}=r;kg(n,t)}return Rt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:o,times:a}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:f,...m}=this.options,x=new fp({...m,keyframes:n,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=Ur(this.time);c.setWithVelocity(x.sample(v-tc).value,x.sample(v).value,tc)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:o,type:a}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=r.owner.getProps();return WP()&&n&&zP.has(n)&&!l&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const GP={type:"spring",stiffness:500,damping:25,restSpeed:10},JP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),QP={type:"keyframes",duration:.8},YP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XP=(e,{keyframes:t})=>t.length>2?QP:Ss.has(e)?e.startsWith("scale")?JP(t[1]):GP:YP;function eA({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const pp=(e,t,r,n={},s,i)=>o=>{const a=Xf(n,e)||{},l=a.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Ur(l);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};eA(a)||(d={...d,...XP(e,d)}),d.duration&&(d.duration=Ur(d.duration)),d.repeatDelay&&(d.repeatDelay=Ur(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Gc(d.keyframes,a);if(f!==void 0)return Ee.update(()=>{d.onUpdate(f),d.onComplete()}),new w2([])}return!i&&Fg.supports(d)?new Fg(d):new fp(d)};function tA({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function fb(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(o=n);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),m=l[h];if(m===void 0||d&&tA(d,h))continue;const x={delay:r,...Xf(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const g=Mw(e);if(g){const p=window.MotionHandoffAnimation(g,h,Ee);p!==null&&(x.startTime=p,v=!0)}}dh(e,h),f.start(pp(h,f,m,e.shouldReduceMotion&&Dw.has(h)?{type:!1}:x,e,v));const _=f.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{Ee.update(()=>{a&&O2(e,a)})}),c}function vh(e,t,r={}){var n;const s=Kc(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(fb(e,s,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return rA(e,t,d+c,h,f,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(r.delay)])}function rA(e,t,r=0,n=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*n,l=s===1?(c=0)=>c*n:(c=0)=>a-c*n;return Array.from(e.variantChildren).sort(nA).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(vh(c,t,{...i,delay:r+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function nA(e,t){return e.sortNodePosition(t)}function sA(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>vh(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=vh(e,t,r);else{const s=typeof t=="function"?Kc(e,t,r.custom):t;n=Promise.all(fb(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const iA=Uf.length;function pb(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?pb(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<iA;r++){const n=Uf[r],s=e.props[n];(Ko(s)||s===!1)&&(t[n]=s)}return t}const oA=[...Ff].reverse(),aA=Ff.length;function lA(e){return t=>Promise.all(t.map(({animation:r,options:n})=>sA(e,r,n)))}function cA(e){let t=lA(e),r=Ug(),n=!0;const s=l=>(c,d)=>{var h;const f=Kc(e,d,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:x,...v}=f;c={...c,...v,...x}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,d=pb(e.parent)||{},h=[],f=new Set;let m={},x=1/0;for(let _=0;_<aA;_++){const g=oA[_],p=r[g],y=c[g]!==void 0?c[g]:d[g],S=Ko(y),w=g===l?p.isActive:null;w===!1&&(x=_);let E=y===d[g]&&y!==c[g]&&S;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),p.protectedKeys={...m},!p.isActive&&w===null||!y&&!p.prevProp||Zc(y)||typeof y=="boolean")continue;const P=uA(p.prevProp,y);let j=P||g===l&&p.isActive&&!E&&S||_>x&&S,C=!1;const A=Array.isArray(y)?y:[y];let B=A.reduce(s(g),{});w===!1&&(B={});const{prevResolvedValues:R={}}=p,$={...R,...B},se=K=>{j=!0,f.has(K)&&(C=!0,f.delete(K)),p.needsAnimating[K]=!0;const L=e.getValue(K);L&&(L.liveStyle=!1)};for(const K in $){const L=B[K],W=R[K];if(m.hasOwnProperty(K))continue;let G=!1;lh(L)&&lh(W)?G=!Tw(L,W):G=L!==W,G?L!=null?se(K):f.add(K):L!==void 0&&f.has(K)?se(K):p.protectedKeys[K]=!0}p.prevProp=y,p.prevResolvedValues=B,p.isActive&&(m={...m,...B}),n&&e.blockInitialAnimation&&(j=!1),j&&(!(E&&P)||C)&&h.push(...A.map(K=>({animation:K,options:{type:g}})))}if(f.size){const _={};f.forEach(g=>{const p=e.getBaseTarget(g),y=e.getValue(g);y&&(y.liveStyle=!0),_[g]=p??null}),h.push({animation:_})}let v=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(h):Promise.resolve()}function a(l,c){var d;if(r[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),r[l].isActive=c;const h=o(l);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Ug(),n=!0}}}function uA(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Tw(t,e):!1}function Zn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ug(){return{animate:Zn(!0),whileInView:Zn(),whileHover:Zn(),whileTap:Zn(),whileDrag:Zn(),whileFocus:Zn(),exit:Zn()}}class Wn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class dA extends Wn{constructor(t){super(t),t.animationState||(t.animationState=cA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let hA=0;class fA extends Wn{constructor(){super(...arguments),this.id=hA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const pA={animation:{Feature:dA},exit:{Feature:fA}};function Yo(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function ka(e){return{point:{x:e.pageX,y:e.pageY}}}const mA=e=>t=>rp(t)&&e(t,ka(t));function _o(e,t,r,n){return Yo(e,t,mA(r),n)}const zg=(e,t)=>Math.abs(e-t);function gA(e,t){const r=zg(e.x,t.x),n=zg(e.y,t.y);return Math.sqrt(r**2+n**2)}class mb{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=zu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=gA(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:x}=h,{timestamp:v}=Xe;this.history.push({...x,timestamp:v});const{onStart:_,onMove:g}=this.handlers;f||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Uu(f,this.transformPagePoint),Ee.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=zu(h.type==="pointercancel"?this.lastMoveEventInfo:Uu(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,_),x&&x(h,_)},!rp(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=ka(t),a=Uu(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Xe;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=r;d&&d(t,zu(a,this.history)),this.removeListeners=_a(_o(this.contextWindow,"pointermove",this.handlePointerMove),_o(this.contextWindow,"pointerup",this.handlePointerUp),_o(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),An(this.updatePoint)}}function Uu(e,t){return t?{point:t(e.point)}:e}function Bg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zu({point:e},t){return{point:e,delta:Bg(e,gb(t)),offset:Bg(e,yA(t)),velocity:vA(t,.1)}}function yA(e){return e[0]}function gb(e){return e[e.length-1]}function vA(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=gb(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Ur(t)));)r--;if(!n)return{x:0,y:0};const i=zr(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const yb=1e-4,xA=1-yb,wA=1+yb,vb=.01,bA=0-vb,_A=0+vb;function Dt(e){return e.max-e.min}function kA(e,t,r){return Math.abs(e-t)<=r}function Wg(e,t,r,n=.5){e.origin=n,e.originPoint=Le(t.min,t.max,e.origin),e.scale=Dt(r)/Dt(t),e.translate=Le(r.min,r.max,e.origin)-e.originPoint,(e.scale>=xA&&e.scale<=wA||isNaN(e.scale))&&(e.scale=1),(e.translate>=bA&&e.translate<=_A||isNaN(e.translate))&&(e.translate=0)}function ko(e,t,r,n){Wg(e.x,t.x,r.x,n?n.originX:void 0),Wg(e.y,t.y,r.y,n?n.originY:void 0)}function Hg(e,t,r){e.min=r.min+t.min,e.max=e.min+Dt(t)}function SA(e,t,r){Hg(e.x,t.x,r.x),Hg(e.y,t.y,r.y)}function Zg(e,t,r){e.min=t.min-r.min,e.max=e.min+Dt(t)}function So(e,t,r){Zg(e.x,t.x,r.x),Zg(e.y,t.y,r.y)}function jA(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Le(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Le(r,e,n.max):Math.min(e,r)),e}function qg(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function CA(e,{top:t,left:r,bottom:n,right:s}){return{x:qg(e.x,r,s),y:qg(e.y,t,n)}}function Kg(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function TA(e,t){return{x:Kg(e.x,t.x),y:Kg(e.y,t.y)}}function EA(e,t){let r=.5;const n=Dt(e),s=Dt(t);return s>n?r=yi(t.min,t.max-n,e.min):n>s&&(r=yi(e.min,e.max-s,t.min)),Kr(0,1,r)}function NA(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const xh=.35;function PA(e=xh){return e===!1?e=0:e===!0&&(e=xh),{x:Gg(e,"left","right"),y:Gg(e,"top","bottom")}}function Gg(e,t,r){return{min:Jg(e,t),max:Jg(e,r)}}function Jg(e,t){return typeof e=="number"?e:e[t]||0}const Qg=()=>({translate:0,scale:1,origin:0,originPoint:0}),qs=()=>({x:Qg(),y:Qg()}),Yg=()=>({min:0,max:0}),$e=()=>({x:Yg(),y:Yg()});function Ft(e){return[e("x"),e("y")]}function xb({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function AA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function RA(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Bu(e){return e===void 0||e===1}function wh({scale:e,scaleX:t,scaleY:r}){return!Bu(e)||!Bu(t)||!Bu(r)}function Jn(e){return wh(e)||wb(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function wb(e){return Xg(e.x)||Xg(e.y)}function Xg(e){return e&&e!=="0%"}function rc(e,t,r){const n=e-r,s=t*n;return r+s}function ey(e,t,r,n,s){return s!==void 0&&(e=rc(e,s,n)),rc(e,r,n)+t}function bh(e,t=0,r=1,n,s){e.min=ey(e.min,t,r,n,s),e.max=ey(e.max,t,r,n,s)}function bb(e,{x:t,y:r}){bh(e.x,t.translate,t.scale,t.originPoint),bh(e.y,r.translate,r.scale,r.originPoint)}const ty=.999999999999,ry=1.0000000000001;function LA(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Gs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,bb(e,o)),n&&Jn(i.latestValues)&&Gs(e,i.latestValues))}t.x<ry&&t.x>ty&&(t.x=1),t.y<ry&&t.y>ty&&(t.y=1)}function Ks(e,t){e.min=e.min+t,e.max=e.max+t}function ny(e,t,r,n,s=.5){const i=Le(e.min,e.max,s);bh(e,t,r,i,n)}function Gs(e,t){ny(e.x,t.x,t.scaleX,t.scale,t.originX),ny(e.y,t.y,t.scaleY,t.scale,t.originY)}function _b(e,t){return xb(RA(e.getBoundingClientRect(),t))}function OA(e,t,r){const n=_b(e,r),{scroll:s}=t;return s&&(Ks(n.x,s.offset.x),Ks(n.y,s.offset.y)),n}const kb=({current:e})=>e?e.ownerDocument.defaultView:null,DA=new WeakMap;class IA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ka(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:x}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=N2(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ft(_=>{let g=this.getAxisMotionValue(_).get()||0;if(wr.test(g)){const{projection:p}=this.visualElement;if(p&&p.layout){const y=p.layout.layoutBox[_];y&&(g=Dt(y)*(parseFloat(g)/100))}}this.originPoint[_]=g}),x&&Ee.postRender(()=>x(d,h)),dh(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:x,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:_}=h;if(m&&this.currentDirection===null){this.currentDirection=MA(_),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),v&&v(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Ft(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new mb(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:kb(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Ee.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Xa(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=jA(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Hs(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=CA(s.layoutBox,r):this.constraints=!1,this.elastic=PA(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ft(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=NA(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Hs(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=OA(n,s.root,this.visualElement.getTransformPagePoint());let o=TA(s.layout.layoutBox,i);if(r){const a=r(AA(o));this.hasMutatedConstraints=!!a,a&&(o=xb(a))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ft(d=>{if(!Xa(d,r,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,x={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(c).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return dh(this.visualElement,t),n.start(pp(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ft(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ft(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ft(r=>{const{drag:n}=this.getProps();if(!Xa(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(t[r]-Le(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Hs(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ft(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=EA({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ft(o=>{if(!Xa(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Le(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;DA.set(this.visualElement,this);const t=this.visualElement.current,r=_o(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Hs(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ee.read(n);const o=Yo(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ft(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=xh,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Xa(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function MA(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class VA extends Wn{constructor(t){super(t),this.removeGroupControls=Rt,this.removeListeners=Rt,this.controls=new IA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rt}unmount(){this.removeGroupControls(),this.removeListeners()}}const sy=e=>(t,r)=>{e&&Ee.postRender(()=>e(t,r))};class $A extends Wn{constructor(){super(...arguments),this.removePointerDownListener=Rt}onPointerDown(t){this.session=new mb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:sy(t),onStart:sy(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&Ee.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=_o(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iy(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Q.test(e))e=parseFloat(e);else return e;const r=iy(e,t.target.x),n=iy(e,t.target.y);return`${r}% ${n}%`}},FA={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Rn.parse(e);if(s.length>5)return n;const i=Rn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=Le(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class UA extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;l2(zA),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ee.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Bf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Sb(e){const[t,r]=aw(),n=b.useContext(Df);return u.jsx(UA,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(pw),isPresent:t,safeToRemove:r})}const zA={borderRadius:{...qi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qi,borderTopRightRadius:qi,borderBottomLeftRadius:qi,borderBottomRightRadius:qi,boxShadow:FA};function BA(e,t,r){const n=lt(e)?e:Jo(e);return n.start(pp("",n,t,r)),n.animation}function WA(e){return e instanceof SVGElement&&e.tagName!=="svg"}const HA=(e,t)=>e.depth-t.depth;class ZA{constructor(){this.children=[],this.isDirty=!1}add(t){np(this.children,t),this.isDirty=!0}remove(t){sp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(HA),this.isDirty=!1,this.children.forEach(t)}}function qA(e,t){const r=br.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(An(n),e(i-t))};return Ee.read(n,!0),()=>An(n)}const jb=["TopLeft","TopRight","BottomLeft","BottomRight"],KA=jb.length,oy=e=>typeof e=="string"?parseFloat(e):e,ay=e=>typeof e=="number"||Q.test(e);function GA(e,t,r,n,s,i){s?(e.opacity=Le(0,r.opacity!==void 0?r.opacity:1,JA(n)),e.opacityExit=Le(t.opacity!==void 0?t.opacity:1,0,QA(n))):i&&(e.opacity=Le(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<KA;o++){const a=`border${jb[o]}Radius`;let l=ly(t,a),c=ly(r,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ay(l)===ay(c)?(e[a]=Math.max(Le(oy(l),oy(c),n),0),(wr.test(c)||wr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||r.rotate)&&(e.rotate=Le(t.rotate||0,r.rotate||0,n))}function ly(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const JA=Cb(0,.5,Ww),QA=Cb(.5,.95,Rt);function Cb(e,t,r){return n=>n<e?0:n>t?1:r(yi(e,t,n))}function cy(e,t){e.min=t.min,e.max=t.max}function Vt(e,t){cy(e.x,t.x),cy(e.y,t.y)}function uy(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function dy(e,t,r,n,s){return e-=t,e=rc(e,1/r,n),s!==void 0&&(e=rc(e,1/s,n)),e}function YA(e,t=0,r=1,n=.5,s,i=e,o=e){if(wr.test(t)&&(t=parseFloat(t),t=Le(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Le(i.min,i.max,n);e===i&&(a-=t),e.min=dy(e.min,t,r,a,s),e.max=dy(e.max,t,r,a,s)}function hy(e,t,[r,n,s],i,o){YA(e,t[r],t[n],t[s],t.scale,i,o)}const XA=["x","scaleX","originX"],eR=["y","scaleY","originY"];function fy(e,t,r,n){hy(e.x,t,XA,r?r.x:void 0,n?n.x:void 0),hy(e.y,t,eR,r?r.y:void 0,n?n.y:void 0)}function py(e){return e.translate===0&&e.scale===1}function Tb(e){return py(e.x)&&py(e.y)}function my(e,t){return e.min===t.min&&e.max===t.max}function tR(e,t){return my(e.x,t.x)&&my(e.y,t.y)}function gy(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Eb(e,t){return gy(e.x,t.x)&&gy(e.y,t.y)}function yy(e){return Dt(e.x)/Dt(e.y)}function vy(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rR{constructor(){this.members=[]}add(t){np(this.members,t),t.scheduleRender()}remove(t){if(sp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nR(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=r?.z||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:x}=r;c&&(n=`perspective(${c}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const Qn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},so=typeof window<"u"&&window.MotionDebug!==void 0,Wu=["","X","Y","Z"],sR={visibility:"hidden"},xy=1e3;let iR=0;function Hu(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Nb(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Mw(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Ee,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Nb(n)}function Pb({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=t?.()){this.id=iR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,so&&(Qn.totalNodes=Qn.resolvedTargetDeltas=Qn.recalculatedProjection=0),this.nodes.forEach(lR),this.nodes.forEach(fR),this.nodes.forEach(pR),this.nodes.forEach(cR),so&&window.MotionDebug.record(Qn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZA)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ip),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=WA(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=qA(f,250),gl.hasAnimatedSinceResize&&(gl.hasAnimatedSinceResize=!1,this.nodes.forEach(by))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||xR,{onLayoutAnimationStart:_,onLayoutAnimationComplete:g}=d.getProps(),p=!this.targetLayout||!Eb(this.targetLayout,x)||m,y=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const S={...Xf(v,"layout"),onPlay:_,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||by(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,An(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mR),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Nb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wy);return}this.isUpdating||this.nodes.forEach(dR),this.isUpdating=!1,this.nodes.forEach(hR),this.nodes.forEach(oR),this.nodes.forEach(aR),this.clearAllSnapshots();const a=br.now();Xe.delta=Kr(0,1e3/60,a-Xe.timestamp),Xe.timestamp=a,Xe.isProcessing=!0,Du.update.process(Xe),Du.preRender.process(Xe),Du.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uR),this.sharedNodes.forEach(gR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Tb(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Jn(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),wR(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return $e();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(bR))){const{scroll:d}=this.root;d&&(Ks(l.x,d.offset.x),Ks(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=$e();if(Vt(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Vt(l,o),Ks(l.x,h.offset.x),Ks(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=$e();Vt(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Gs(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Jn(d.latestValues)&&Gs(l,d.latestValues)}return Jn(this.latestValues)&&Gs(l,this.latestValues),l}removeTransform(o){const a=$e();Vt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Jn(c.latestValues))continue;wh(c.latestValues)&&c.updateSnapshot();const d=$e(),h=c.measurePageBox();Vt(d,h),fy(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Jn(this.latestValues)&&fy(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),So(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vt(this.target,this.layout.layoutBox),bb(this.target,this.targetDelta)):Vt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),So(this.relativeTargetOrigin,this.target,m.target),Vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}so&&Qn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wh(this.parent.latestValues)||wb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Vt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;LA(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=$e());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uy(this.prevProjectionDelta.x,this.projectionDelta.x),uy(this.prevProjectionDelta.y,this.projectionDelta.y)),ko(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!vy(this.projectionDelta.x,this.prevProjectionDelta.x)||!vy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),so&&Qn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qs(),this.projectionDelta=qs(),this.projectionDeltaWithTransform=qs()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=qs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=$e(),m=l?l.source:void 0,x=this.layout?this.layout.source:void 0,v=m!==x,_=this.getStack(),g=!_||_.members.length<=1,p=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(vR));this.animationProgress=0;let y;this.mixTargetDelta=S=>{const w=S/1e3;_y(h.x,o.x,w),_y(h.y,o.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(So(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yR(this.relativeTarget,this.relativeTargetOrigin,f,w),y&&tR(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=$e()),Vt(y,this.relativeTarget)),v&&(this.animationValues=d,GA(d,c,this.latestValues,w,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(An(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ee.update(()=>{gl.hasAnimatedSinceResize=!0,this.currentAnimation=BA(0,xy,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Ab(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||$e();const h=Dt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Dt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Vt(a,l),Gs(a,d),ko(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new rR),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Hu("z",o,c,this.animationValues);for(let d=0;d<Wu.length;d++)Hu(`rotate${Wu[d]}`,o,c,this.animationValues),Hu(`skew${Wu[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sR;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=pl(o?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=pl(o?.pointerEvents)||""),this.hasProjected&&!Jn(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=nR(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:m,y:x}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Ql){if(f[v]===void 0)continue;const{correct:_,applyTo:g}=Ql[v],p=c.transform==="none"?f[v]:_(f[v],h);if(g){const y=g.length;for(let S=0;S<y;S++)c[g[S]]=p}else c[v]=p}return this.options.layoutId&&(c.pointerEvents=h===this?pl(o?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(wy),this.root.sharedNodes.clear()}}}function oR(e){e.updateLayout()}function aR(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?Ft(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],m=Dt(f);f.min=n[h].min,f.max=f.min+m}):Ab(i,r.layoutBox,n)&&Ft(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],m=Dt(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=qs();ko(a,n,r.layoutBox);const l=qs();o?ko(l,e.applyTransform(s,!0),r.measuredBox):ko(l,n,r.layoutBox);const c=!Tb(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const x=$e();So(x,r.layoutBox,f.layoutBox);const v=$e();So(v,n,m.layoutBox),Eb(x,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function lR(e){so&&Qn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uR(e){e.clearSnapshot()}function wy(e){e.clearMeasurements()}function dR(e){e.isLayoutDirty=!1}function hR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function by(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function fR(e){e.resolveTargetDelta()}function pR(e){e.calcProjection()}function mR(e){e.resetSkewAndRotation()}function gR(e){e.removeLeadSnapshot()}function _y(e,t,r){e.translate=Le(t.translate,0,r),e.scale=Le(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function ky(e,t,r,n){e.min=Le(t.min,r.min,n),e.max=Le(t.max,r.max,n)}function yR(e,t,r,n){ky(e.x,t.x,r.x,n),ky(e.y,t.y,r.y,n)}function vR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const xR={duration:.45,ease:[.4,0,.1,1]},Sy=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),jy=Sy("applewebkit/")&&!Sy("chrome/")?Math.round:Rt;function Cy(e){e.min=jy(e.min),e.max=jy(e.max)}function wR(e){Cy(e.x),Cy(e.y)}function Ab(e,t,r){return e==="position"||e==="preserve-aspect"&&!kA(yy(t),yy(r),.2)}function bR(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const _R=Pb({attachResizeListener:(e,t)=>Yo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zu={current:void 0},Rb=Pb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zu.current){const e=new _R({});e.mount(window),e.setOptions({layoutScroll:!0}),Zu.current=e}return Zu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),kR={pan:{Feature:$A},drag:{Feature:VA,ProjectionNode:Rb,MeasureLayout:Sb}};function Ty(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Ee.postRender(()=>i(t,ka(t)))}class SR extends Wn{mount(){const{current:t}=this.node;t&&(this.unmount=S2(t,r=>(Ty(this.node,r,"Start"),n=>Ty(this.node,n,"End"))))}unmount(){}}class jR extends Wn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_a(Yo(this.node.current,"focus",()=>this.onFocus()),Yo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ey(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Ee.postRender(()=>i(t,ka(t)))}class CR extends Wn{mount(){const{current:t}=this.node;t&&(this.unmount=E2(t,r=>(Ey(this.node,r,"Start"),(n,{success:s})=>Ey(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _h=new WeakMap,qu=new WeakMap,TR=e=>{const t=_h.get(e.target);t&&t(e)},ER=e=>{e.forEach(TR)};function NR({root:e,...t}){const r=e||document;qu.has(r)||qu.set(r,{});const n=qu.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(ER,{root:e,...t})),n[s]}function PR(e,t,r){const n=NR(t);return _h.set(e,r),n.observe(e),()=>{_h.delete(e),n.unobserve(e)}}const AR={some:0,all:1};class RR extends Wn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:AR[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return PR(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(LR(t,r))&&this.startObserver()}unmount(){}}function LR({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const OR={inView:{Feature:RR},tap:{Feature:CR},focus:{Feature:jR},hover:{Feature:SR}},DR={layout:{ProjectionNode:Rb,MeasureLayout:Sb}},kh={current:null},Lb={current:!1};function IR(){if(Lb.current=!0,!!Vf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kh.current=e.matches;e.addListener(t),t()}else kh.current=!1}const MR=[...sb,ot,Rn],VR=e=>MR.find(nb(e)),Ny=new WeakMap;function $R(e,t,r){for(const n in t){const s=t[n],i=r[n];if(lt(s))e.addValue(n,s);else if(lt(i))e.addValue(n,Jo(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,Jo(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Py=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class FR{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=br.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ee.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=qc(r),this.isVariantNode=hw(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const x=f[m];l[m]!==void 0&&lt(x)&&x.set(l[m],!1)}}mount(t){this.current=t,Ny.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Lb.current||IR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ny.delete(this.current),this.projection&&this.projection.unmount(),An(this.notifyUpdate),An(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Ss.has(t),s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ee.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in vi){const r=vi[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Py.length;n++){const s=Py[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=$R(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Jo(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(tb(s)||Zw(s))?s=parseFloat(s):!VR(s)&&Rn.test(r)&&(s=Yw(t,r)),this.setBaseTarget(t,lt(s)?s.get():s)),lt(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=Hf(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!lt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ip),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Ob extends FR{constructor(){super(...arguments),this.KeyframeResolver=ib}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;lt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function UR(e){return window.getComputedStyle(e)}class zR extends Ob{constructor(){super(...arguments),this.type="html",this.renderInstance=bw}readValueFromInstance(t,r){if(Ss.has(r)){const n=up(r);return n&&n.default||0}else{const n=UR(t),s=(vw(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return _b(t,r)}build(t,r,n){Kf(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Yf(t,r,n)}}class BR extends Ob{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$e}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Ss.has(r)){const n=up(r);return n&&n.default||0}return r=_w.has(r)?r:zf(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return jw(t,r,n)}build(t,r,n){Gf(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){kw(t,r,n,s)}mount(t){this.isSVGTag=Qf(t.tagName),super.mount(t)}}const WR=(e,t)=>Wf(e)?new BR(t):new zR(t,{allowProjection:e!==b.Fragment}),HR=y2({...pA,...OR,...kR,...DR},WR),be=RN(HR),ZR=()=>{const[e,t]=b.useState(!1),{logout:r}=Be(),{laboratoryInfo:n,fetchLaboratoryInfo:s}=xN(),i=Fn();wN();const o=async()=>{await r(),i("/login")},a=()=>{i("/laboratory")},l=[{icon:u.jsx(EE,{className:"h-5 w-5"}),name:"Tableau de bord",path:"/laboratory"},{icon:u.jsx(CE,{className:"h-5 w-5"}),name:"Planification",path:"/laboratory/planning"},{icon:u.jsx(Rf,{className:"h-5 w-5"}),name:"Tournes en attente",path:"/laboratory/pending-routes"},{icon:u.jsx(ew,{className:"h-5 w-5"}),name:"Dentistes",path:"/laboratory/dentists"},{icon:u.jsx(fl,{className:"h-5 w-5"}),name:"Historique",path:"/laboratory/history"}];return b.useEffect(()=>{n||s()},[n,s]),u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(Wt,{children:e&&u.jsx(be.div,{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-40 lg:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1)})}),u.jsx(Wt,{children:e&&u.jsxs(be.aside,{className:"fixed inset-y-0 left-0 max-w-xs w-full bg-white shadow-xl z-50 lg:hidden",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},children:[u.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b",children:[u.jsxs("div",{className:"flex items-center cursor-pointer hover:bg-gray-50 rounded-lg p-2 transition-colors",onClick:()=>{a(),t(!1)},children:[u.jsx("div",{className:"h-9 w-9 bg-gradient-to-br from-blue-500 to-blue-600 text-white flex items-center justify-center rounded-lg shadow-sm",children:u.jsx(Ka,{className:"h-5 w-5"})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Provence Courses"}),u.jsx("div",{className:"text-sm font-semibold text-gray-900",children:n?.name||"Chargement..."})]})]}),u.jsx("button",{onClick:()=>t(!1),className:"rounded-md p-2 text-gray-500 hover:text-gray-600 hover:bg-gray-100",children:u.jsx(gs,{className:"h-6 w-6"})})]}),u.jsxs("nav",{className:"mt-5 px-4 space-y-1",children:[l.map(c=>u.jsxs(Um,{to:c.path,end:c.path==="/laboratory",className:({isActive:d})=>`flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-colors ${d?"bg-secondary-50 text-secondary-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>t(!1),children:[c.icon,u.jsx("span",{className:"ml-3",children:c.name})]},c.path)),u.jsxs("button",{onClick:o,className:"w-full flex items-center px-4 py-3 text-sm font-medium rounded-xl text-gray-700 hover:bg-gray-100 transition-colors",children:[u.jsx(hg,{className:"h-5 w-5"}),u.jsx("span",{className:"ml-3",children:"Dconnexion"})]})]})]})}),u.jsx("aside",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:flex-col lg:w-64",children:u.jsxs("div",{className:"flex flex-col flex-grow pt-5 bg-white overflow-y-auto border-r border-gray-200 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-center h-16 flex-shrink-0 px-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:a,children:[u.jsx("div",{className:"h-9 w-9 bg-gradient-to-br from-blue-500 to-blue-600 text-white flex items-center justify-center rounded-lg shadow-sm",children:u.jsx(Ka,{className:"h-5 w-5"})}),u.jsxs("div",{className:"ml-3 flex-1",children:[u.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Provence Courses"}),u.jsx("div",{className:"text-sm font-semibold text-gray-900",children:n?.name||"Chargement..."})]})]}),u.jsx("div",{className:"mt-5 flex-1 flex flex-col px-3 space-y-1",children:l.map(c=>u.jsxs(Um,{to:c.path,end:c.path==="/laboratory",className:({isActive:d})=>`flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-colors ${d?"bg-secondary-50 text-secondary-600":"text-gray-700 hover:bg-gray-100"}`,children:[c.icon,u.jsx("span",{className:"ml-3",children:c.name})]},c.path))}),u.jsx("div",{className:"p-4 border-t",children:u.jsxs(pe,{onClick:o,variant:"ghost",className:"w-full flex items-center justify-center gap-2",children:[u.jsx(hg,{className:"h-4 w-4"}),u.jsx("span",{children:"Dconnexion"})]})})]})}),u.jsxs("div",{className:"lg:pl-64 flex flex-col min-h-screen",children:[u.jsx("header",{className:"bg-white border-b border-gray-200 z-10 shadow-sm",children:u.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center lg:hidden",children:[u.jsx("button",{onClick:()=>t(!0),className:"-ml-2 p-2 rounded-md text-gray-500 hover:text-gray-600 hover:bg-gray-100",children:u.jsx(AE,{className:"h-6 w-6"})}),u.jsxs("div",{className:"flex items-center ml-3 cursor-pointer hover:bg-gray-50 rounded-lg p-2 transition-colors",onClick:a,children:[u.jsx("div",{className:"h-9 w-9 bg-gradient-to-br from-blue-500 to-blue-600 text-white flex items-center justify-center rounded-lg shadow-sm",children:u.jsx(Ka,{className:"h-5 w-5"})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Provence Courses"}),u.jsx("div",{className:"text-sm font-semibold text-gray-900",children:n?.name||"Chargement..."})]})]})]}),u.jsxs("div",{className:"hidden lg:flex items-center justify-between w-full",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:"flex items-center cursor-pointer hover:bg-gray-50 rounded-lg p-3 transition-colors",onClick:a,children:[u.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-blue-600 text-white flex items-center justify-center rounded-lg shadow-sm",children:u.jsx(Ka,{className:"h-5 w-5"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Provence Courses"}),u.jsx("div",{className:"text-lg font-semibold text-gray-900",children:n?.name||"Chargement..."})]})]}),u.jsxs("div",{className:"ml-6 flex items-center",children:[u.jsx("div",{className:"h-2 w-2 bg-green-400 rounded-full mr-2"}),u.jsx("span",{className:"text-xs font-medium text-gray-500 bg-green-50 px-2 py-1 rounded-full",children:"Connect"})]})]}),u.jsx("div",{className:"flex items-center text-sm text-gray-500",children:u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs font-medium",children:new Date().toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),u.jsx("div",{className:"text-xs text-gray-400",children:new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]})})]})]})})}),u.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 pb-12",children:u.jsx(mx,{})})]})]})};var Sa=e=>e.type==="checkbox",ss=e=>e instanceof Date,ft=e=>e==null;const Db=e=>typeof e=="object";var Ue=e=>!ft(e)&&!Array.isArray(e)&&Db(e)&&!ss(e),qR=e=>Ue(e)&&e.target?Sa(e.target)?e.target.checked:e.target.value:e,KR=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,GR=(e,t)=>e.has(KR(t)),JR=e=>{const t=e.constructor&&e.constructor.prototype;return Ue(t)&&t.hasOwnProperty("isPrototypeOf")},mp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function it(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(mp&&(e instanceof Blob||n))&&(r||Ue(e)))if(t=r?[]:{},!r&&!JR(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=it(e[s]));else return e;return t}var Jc=e=>Array.isArray(e)?e.filter(Boolean):[],We=e=>e===void 0,H=(e,t,r)=>{if(!t||!Ue(e))return r;const n=Jc(t.split(/[,[\].]+?/)).reduce((s,i)=>ft(s)?s:s[i],e);return We(n)||n===e?We(e[t])?r:e[t]:n},pr=e=>typeof e=="boolean",gp=e=>/^\w*$/.test(e),Ib=e=>Jc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),xe=(e,t,r)=>{let n=-1;const s=gp(t)?[t]:Ib(t),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const c=e[a];l=Ue(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const Ay={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},rr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Nr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ge.createContext(null);var QR=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==rr.all&&(t._proxyFormState[o]=!n||rr.all),e[o]}});return s},yr=e=>typeof e=="string",YR=(e,t,r,n,s)=>yr(e)?(n&&t.watch.add(e),H(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),H(r,i))):(n&&(t.watchAll=!0),r),Mb=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},jo=e=>Array.isArray(e)?e:[e],Ry=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Sh=e=>ft(e)||!Db(e);function gn(e,t){if(Sh(e)||Sh(t))return e===t;if(ss(e)&&ss(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(ss(i)&&ss(o)||Ue(i)&&Ue(o)||Array.isArray(i)&&Array.isArray(o)?!gn(i,o):i!==o)return!1}}return!0}var dt=e=>Ue(e)&&!Object.keys(e).length,yp=e=>e.type==="file",nr=e=>typeof e=="function",nc=e=>{if(!mp)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Vb=e=>e.type==="select-multiple",vp=e=>e.type==="radio",XR=e=>vp(e)||Sa(e),Ku=e=>nc(e)&&e.isConnected;function eL(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=We(e)?n++:e[t[n++]];return e}function tL(e){for(const t in e)if(e.hasOwnProperty(t)&&!We(e[t]))return!1;return!0}function Ze(e,t){const r=Array.isArray(t)?t:gp(t)?[t]:Ib(t),n=r.length===1?e:eL(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Ue(n)&&dt(n)||Array.isArray(n)&&tL(n))&&Ze(e,r.slice(0,-1)),e}var $b=e=>{for(const t in e)if(nr(e[t]))return!0;return!1};function sc(e,t={}){const r=Array.isArray(e);if(Ue(e)||r)for(const n in e)Array.isArray(e[n])||Ue(e[n])&&!$b(e[n])?(t[n]=Array.isArray(e[n])?[]:{},sc(e[n],t[n])):ft(e[n])||(t[n]=!0);return t}function Fb(e,t,r){const n=Array.isArray(e);if(Ue(e)||n)for(const s in e)Array.isArray(e[s])||Ue(e[s])&&!$b(e[s])?We(t)||Sh(r[s])?r[s]=Array.isArray(e[s])?sc(e[s],[]):{...sc(e[s])}:Fb(e[s],ft(t)?{}:t[s],r[s]):r[s]=!gn(e[s],t[s]);return r}var Ki=(e,t)=>Fb(e,t,sc(t));const Ly={value:!1,isValid:!1},Oy={value:!0,isValid:!0};var Ub=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!We(e[0].attributes.value)?We(e[0].value)||e[0].value===""?Oy:{value:e[0].value,isValid:!0}:Oy:Ly}return Ly},zb=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>We(e)?e:t?e===""?NaN:e&&+e:r&&yr(e)?new Date(e):n?n(e):e;const Dy={isValid:!1,value:null};var Bb=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Dy):Dy;function Iy(e){const t=e.ref;return yp(t)?t.files:vp(t)?Bb(e.refs).value:Vb(t)?[...t.selectedOptions].map(({value:r})=>r):Sa(t)?Ub(e.refs).value:zb(We(t.value)?e.ref.value:t.value,e)}var rL=(e,t,r,n)=>{const s={};for(const i of e){const o=H(t,i);o&&xe(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ic=e=>e instanceof RegExp,Gi=e=>We(e)?e:ic(e)?e.source:Ue(e)?ic(e.value)?e.value.source:e.value:e,My=e=>({isOnSubmit:!e||e===rr.onSubmit,isOnBlur:e===rr.onBlur,isOnChange:e===rr.onChange,isOnAll:e===rr.all,isOnTouch:e===rr.onTouched});const Vy="AsyncFunction";var nL=e=>!!e&&!!e.validate&&!!(nr(e.validate)&&e.validate.constructor.name===Vy||Ue(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Vy)),sL=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),$y=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Co=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=H(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Co(a,t))break}else if(Ue(a)&&Co(a,t))break}}};function Fy(e,t,r){const n=H(e,r);if(n||gp(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=H(t,i),a=H(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:r}}var iL=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return dt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||rr.all))},oL=(e,t,r)=>!e||!t||e===t||jo(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),aL=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,lL=(e,t)=>!Jc(H(e,t)).length&&Ze(e,t),cL=(e,t,r)=>{const n=jo(H(e,r));return xe(n,"root",t[r]),xe(e,r,n),e},yl=e=>yr(e);function Uy(e,t,r="validate"){if(yl(e)||Array.isArray(e)&&e.every(yl)||pr(e)&&!e)return{type:r,message:yl(e)?e:"",ref:t}}var Ns=e=>Ue(e)&&!ic(e)?e:{value:e,message:""},zy=async(e,t,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:d,min:h,max:f,pattern:m,validate:x,name:v,valueAsNumber:_,mount:g}=e._f,p=H(r,v);if(!g||t.has(v))return{};const y=a?a[0]:o,S=R=>{s&&y.reportValidity&&(y.setCustomValidity(pr(R)?"":R||""),y.reportValidity())},w={},E=vp(o),P=Sa(o),j=E||P,C=(_||yp(o))&&We(o.value)&&We(p)||nc(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,A=Mb.bind(null,v,n,w),B=(R,$,se,ve=Nr.maxLength,me=Nr.minLength)=>{const K=R?$:se;w[v]={type:R?ve:me,message:K,ref:o,...A(R?ve:me,K)}};if(i?!Array.isArray(p)||!p.length:l&&(!j&&(C||ft(p))||pr(p)&&!p||P&&!Ub(a).isValid||E&&!Bb(a).isValid)){const{value:R,message:$}=yl(l)?{value:!!l,message:l}:Ns(l);if(R&&(w[v]={type:Nr.required,message:$,ref:y,...A(Nr.required,$)},!n))return S($),w}if(!C&&(!ft(h)||!ft(f))){let R,$;const se=Ns(f),ve=Ns(h);if(!ft(p)&&!isNaN(p)){const me=o.valueAsNumber||p&&+p;ft(se.value)||(R=me>se.value),ft(ve.value)||($=me<ve.value)}else{const me=o.valueAsDate||new Date(p),K=G=>new Date(new Date().toDateString()+" "+G),L=o.type=="time",W=o.type=="week";yr(se.value)&&p&&(R=L?K(p)>K(se.value):W?p>se.value:me>new Date(se.value)),yr(ve.value)&&p&&($=L?K(p)<K(ve.value):W?p<ve.value:me<new Date(ve.value))}if((R||$)&&(B(!!R,se.message,ve.message,Nr.max,Nr.min),!n))return S(w[v].message),w}if((c||d)&&!C&&(yr(p)||i&&Array.isArray(p))){const R=Ns(c),$=Ns(d),se=!ft(R.value)&&p.length>+R.value,ve=!ft($.value)&&p.length<+$.value;if((se||ve)&&(B(se,R.message,$.message),!n))return S(w[v].message),w}if(m&&!C&&yr(p)){const{value:R,message:$}=Ns(m);if(ic(R)&&!p.match(R)&&(w[v]={type:Nr.pattern,message:$,ref:o,...A(Nr.pattern,$)},!n))return S($),w}if(x){if(nr(x)){const R=await x(p,r),$=Uy(R,y);if($&&(w[v]={...$,...A(Nr.validate,$.message)},!n))return S($.message),w}else if(Ue(x)){let R={};for(const $ in x){if(!dt(R)&&!n)break;const se=Uy(await x[$](p,r),y,$);se&&(R={...se,...A($,se.message)},S(se.message),n&&(w[v]=R))}if(!dt(R)&&(w[v]={ref:y,...R},!n))return w}}return S(!0),w};const uL={mode:rr.onSubmit,reValidateMode:rr.onChange,shouldFocusError:!0};function dL(e={}){let t={...uL,...e},r={submitCount:0,isDirty:!1,isLoading:nr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let s=Ue(t.defaultValues)||Ue(t.values)?it(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:it(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:Ry(),state:Ry()},m=My(t.mode),x=My(t.reValidateMode),v=t.criteriaMode===rr.all,_=k=>T=>{clearTimeout(c),c=setTimeout(k,T)},g=async k=>{if(!t.disabled&&(d.isValid||h.isValid||k)){const T=t.resolver?dt((await C()).errors):await B(n,!0);T!==r.isValid&&f.state.next({isValid:T})}},p=(k,T)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((k||Array.from(a.mount)).forEach(N=>{N&&(T?xe(r.validatingFields,N,T):Ze(r.validatingFields,N))}),f.state.next({validatingFields:r.validatingFields,isValidating:!dt(r.validatingFields)}))},y=(k,T=[],N,U,M=!0,I=!0)=>{if(U&&N&&!t.disabled){if(o.action=!0,I&&Array.isArray(H(n,k))){const Z=N(H(n,k),U.argA,U.argB);M&&xe(n,k,Z)}if(I&&Array.isArray(H(r.errors,k))){const Z=N(H(r.errors,k),U.argA,U.argB);M&&xe(r.errors,k,Z),lL(r.errors,k)}if((d.touchedFields||h.touchedFields)&&I&&Array.isArray(H(r.touchedFields,k))){const Z=N(H(r.touchedFields,k),U.argA,U.argB);M&&xe(r.touchedFields,k,Z)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Ki(s,i)),f.state.next({name:k,isDirty:$(k,T),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xe(i,k,T)},S=(k,T)=>{xe(r.errors,k,T),f.state.next({errors:r.errors})},w=k=>{r.errors=k,f.state.next({errors:r.errors,isValid:!1})},E=(k,T,N,U)=>{const M=H(n,k);if(M){const I=H(i,k,We(N)?H(s,k):N);We(I)||U&&U.defaultChecked||T?xe(i,k,T?I:Iy(M._f)):me(k,I),o.mount&&g()}},P=(k,T,N,U,M)=>{let I=!1,Z=!1;const fe={name:k};if(!t.disabled){if(!N||U){(d.isDirty||h.isDirty)&&(Z=r.isDirty,r.isDirty=fe.isDirty=$(),I=Z!==fe.isDirty);const ze=gn(H(s,k),T);Z=!!H(r.dirtyFields,k),ze?Ze(r.dirtyFields,k):xe(r.dirtyFields,k,!0),fe.dirtyFields=r.dirtyFields,I=I||(d.dirtyFields||h.dirtyFields)&&Z!==!ze}if(N){const ze=H(r.touchedFields,k);ze||(xe(r.touchedFields,k,N),fe.touchedFields=r.touchedFields,I=I||(d.touchedFields||h.touchedFields)&&ze!==N)}I&&M&&f.state.next(fe)}return I?fe:{}},j=(k,T,N,U)=>{const M=H(r.errors,k),I=(d.isValid||h.isValid)&&pr(T)&&r.isValid!==T;if(t.delayError&&N?(l=_(()=>S(k,N)),l(t.delayError)):(clearTimeout(c),l=null,N?xe(r.errors,k,N):Ze(r.errors,k)),(N?!gn(M,N):M)||!dt(U)||I){const Z={...U,...I&&pr(T)?{isValid:T}:{},errors:r.errors,name:k};r={...r,...Z},f.state.next(Z)}},C=async k=>{p(k,!0);const T=await t.resolver(i,t.context,rL(k||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return p(k),T},A=async k=>{const{errors:T}=await C(k);if(k)for(const N of k){const U=H(T,N);U?xe(r.errors,N,U):Ze(r.errors,N)}else r.errors=T;return T},B=async(k,T,N={valid:!0})=>{for(const U in k){const M=k[U];if(M){const{_f:I,...Z}=M;if(I){const fe=a.array.has(I.name),ze=M._f&&nL(M._f);ze&&d.validatingFields&&p([U],!0);const rt=await zy(M,a.disabled,i,v,t.shouldUseNativeValidation&&!T,fe);if(ze&&d.validatingFields&&p([U]),rt[I.name]&&(N.valid=!1,T))break;!T&&(H(rt,I.name)?fe?cL(r.errors,rt,I.name):xe(r.errors,I.name,rt[I.name]):Ze(r.errors,I.name))}!dt(Z)&&await B(Z,T,N)}}return N.valid},R=()=>{for(const k of a.unMount){const T=H(n,k);T&&(T._f.refs?T._f.refs.every(N=>!Ku(N)):!Ku(T._f.ref))&&J(k)}a.unMount=new Set},$=(k,T)=>!t.disabled&&(k&&T&&xe(i,k,T),!gn(Pe(),s)),se=(k,T,N)=>YR(k,a,{...o.mount?i:We(T)?s:yr(k)?{[k]:T}:T},N,T),ve=k=>Jc(H(o.mount?i:s,k,t.shouldUnregister?H(s,k,[]):[])),me=(k,T,N={})=>{const U=H(n,k);let M=T;if(U){const I=U._f;I&&(!I.disabled&&xe(i,k,zb(T,I)),M=nc(I.ref)&&ft(T)?"":T,Vb(I.ref)?[...I.ref.options].forEach(Z=>Z.selected=M.includes(Z.value)):I.refs?Sa(I.ref)?I.refs.length>1?I.refs.forEach(Z=>(!Z.defaultChecked||!Z.disabled)&&(Z.checked=Array.isArray(M)?!!M.find(fe=>fe===Z.value):M===Z.value)):I.refs[0]&&(I.refs[0].checked=!!M):I.refs.forEach(Z=>Z.checked=Z.value===M):yp(I.ref)?I.ref.value="":(I.ref.value=M,I.ref.type||f.state.next({name:k,values:it(i)})))}(N.shouldDirty||N.shouldTouch)&&P(k,M,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&te(k)},K=(k,T,N)=>{for(const U in T){const M=T[U],I=`${k}.${U}`,Z=H(n,I);(a.array.has(k)||Ue(M)||Z&&!Z._f)&&!ss(M)?K(I,M,N):me(I,M,N)}},L=(k,T,N={})=>{const U=H(n,k),M=a.array.has(k),I=it(T);xe(i,k,I),M?(f.array.next({name:k,values:it(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&N.shouldDirty&&f.state.next({name:k,dirtyFields:Ki(s,i),isDirty:$(k,I)})):U&&!U._f&&!ft(I)?K(k,I,N):me(k,I,N),$y(k,a)&&f.state.next({...r}),f.state.next({name:o.mount?k:void 0,values:it(i)})},W=async k=>{o.mount=!0;const T=k.target;let N=T.name,U=!0;const M=H(n,N),I=Z=>{U=Number.isNaN(Z)||ss(Z)&&isNaN(Z.getTime())||gn(Z,H(i,N,Z))};if(M){let Z,fe;const ze=T.type?Iy(M._f):qR(k),rt=k.type===Ay.BLUR||k.type===Ay.FOCUS_OUT,i_=!sL(M._f)&&!t.resolver&&!H(r.errors,N)&&!M._f.deps||aL(rt,H(r.touchedFields,N),r.isSubmitted,x,m),Yc=$y(N,a,rt);xe(i,N,ze),rt?(M._f.onBlur&&M._f.onBlur(k),l&&l(0)):M._f.onChange&&M._f.onChange(k);const Xc=P(N,ze,rt),o_=!dt(Xc)||Yc;if(!rt&&f.state.next({name:N,type:k.type,values:it(i)}),i_)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?rt&&g():rt||g()),o_&&f.state.next({name:N,...Yc?{}:Xc});if(!rt&&Yc&&f.state.next({...r}),t.resolver){const{errors:jp}=await C([N]);if(I(ze),U){const a_=Fy(r.errors,n,N),Cp=Fy(jp,n,a_.name||N);Z=Cp.error,N=Cp.name,fe=dt(jp)}}else p([N],!0),Z=(await zy(M,a.disabled,i,v,t.shouldUseNativeValidation))[N],p([N]),I(ze),U&&(Z?fe=!1:(d.isValid||h.isValid)&&(fe=await B(n,!0)));U&&(M._f.deps&&te(M._f.deps),j(N,fe,Z,Xc))}},G=(k,T)=>{if(H(r.errors,T)&&k.focus)return k.focus(),1},te=async(k,T={})=>{let N,U;const M=jo(k);if(t.resolver){const I=await A(We(k)?k:M);N=dt(I),U=k?!M.some(Z=>H(I,Z)):N}else k?(U=(await Promise.all(M.map(async I=>{const Z=H(n,I);return await B(Z&&Z._f?{[I]:Z}:Z)}))).every(Boolean),!(!U&&!r.isValid)&&g()):U=N=await B(n);return f.state.next({...!yr(k)||(d.isValid||h.isValid)&&N!==r.isValid?{}:{name:k},...t.resolver||!k?{isValid:N}:{},errors:r.errors}),T.shouldFocus&&!U&&Co(n,G,k?M:a.mount),U},Pe=k=>{const T={...o.mount?i:s};return We(k)?T:yr(k)?H(T,k):k.map(N=>H(T,N))},jr=(k,T)=>({invalid:!!H((T||r).errors,k),isDirty:!!H((T||r).dirtyFields,k),error:H((T||r).errors,k),isValidating:!!H(r.validatingFields,k),isTouched:!!H((T||r).touchedFields,k)}),Gt=k=>{k&&jo(k).forEach(T=>Ze(r.errors,T)),f.state.next({errors:k?r.errors:{}})},Xr=(k,T,N)=>{const U=(H(n,k,{_f:{}})._f||{}).ref,M=H(r.errors,k)||{},{ref:I,message:Z,type:fe,...ze}=M;xe(r.errors,k,{...ze,...T,ref:U}),f.state.next({name:k,errors:r.errors,isValid:!1}),N&&N.shouldFocus&&U&&U.focus&&U.focus()},jt=(k,T)=>nr(k)?f.state.subscribe({next:N=>k(se(void 0,T),N)}):se(k,T,!0),Cr=k=>f.state.subscribe({next:T=>{oL(k.name,T.name,k.exact)&&iL(T,k.formState||d,s_,k.reRenderRoot)&&k.callback({values:{...i},...r,...T})}}).unsubscribe,ur=k=>(o.mount=!0,h={...h,...k.formState},Cr({...k,formState:h})),J=(k,T={})=>{for(const N of k?jo(k):a.mount)a.mount.delete(N),a.array.delete(N),T.keepValue||(Ze(n,N),Ze(i,N)),!T.keepError&&Ze(r.errors,N),!T.keepDirty&&Ze(r.dirtyFields,N),!T.keepTouched&&Ze(r.touchedFields,N),!T.keepIsValidating&&Ze(r.validatingFields,N),!t.shouldUnregister&&!T.keepDefaultValue&&Ze(s,N);f.state.next({values:it(i)}),f.state.next({...r,...T.keepDirty?{isDirty:$()}:{}}),!T.keepIsValid&&g()},ue=({disabled:k,name:T})=>{(pr(k)&&o.mount||k||a.disabled.has(T))&&(k?a.disabled.add(T):a.disabled.delete(T))},Ct=(k,T={})=>{let N=H(n,k);const U=pr(T.disabled)||pr(t.disabled);return xe(n,k,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:k}},name:k,mount:!0,...T}}),a.mount.add(k),N?ue({disabled:pr(T.disabled)?T.disabled:t.disabled,name:k}):E(k,!0,T.value),{...U?{disabled:T.disabled||t.disabled}:{},...t.progressive?{required:!!T.required,min:Gi(T.min),max:Gi(T.max),minLength:Gi(T.minLength),maxLength:Gi(T.maxLength),pattern:Gi(T.pattern)}:{},name:k,onChange:W,onBlur:W,ref:M=>{if(M){Ct(k,T),N=H(n,k);const I=We(M.value)&&M.querySelectorAll&&M.querySelectorAll("input,select,textarea")[0]||M,Z=XR(I),fe=N._f.refs||[];if(Z?fe.find(ze=>ze===I):I===N._f.ref)return;xe(n,k,{_f:{...N._f,...Z?{refs:[...fe.filter(Ku),I,...Array.isArray(H(s,k))?[{}]:[]],ref:{type:I.type,name:k}}:{ref:I}}}),E(k,!1,void 0,I)}else N=H(n,k,{}),N._f&&(N._f.mount=!1),(t.shouldUnregister||T.shouldUnregister)&&!(GR(a.array,k)&&o.action)&&a.unMount.add(k)}}},Di=()=>t.shouldFocusError&&Co(n,G,a.mount),en=k=>{pr(k)&&(f.state.next({disabled:k}),Co(n,(T,N)=>{const U=H(n,N);U&&(T.disabled=U._f.disabled||k,Array.isArray(U._f.refs)&&U._f.refs.forEach(M=>{M.disabled=U._f.disabled||k}))},0,!1))},bp=(k,T)=>async N=>{let U;N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let M=it(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:I,values:Z}=await C();r.errors=I,M=Z}else await B(n);if(a.disabled.size)for(const I of a.disabled)xe(M,I,void 0);if(Ze(r.errors,"root"),dt(r.errors)){f.state.next({errors:{}});try{await k(M,N)}catch(I){U=I}}else T&&await T({...r.errors},N),Di(),setTimeout(Di);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:dt(r.errors)&&!U,submitCount:r.submitCount+1,errors:r.errors}),U)throw U},r_=(k,T={})=>{H(n,k)&&(We(T.defaultValue)?L(k,it(H(s,k))):(L(k,T.defaultValue),xe(s,k,it(T.defaultValue))),T.keepTouched||Ze(r.touchedFields,k),T.keepDirty||(Ze(r.dirtyFields,k),r.isDirty=T.defaultValue?$(k,it(H(s,k))):$()),T.keepError||(Ze(r.errors,k),d.isValid&&g()),f.state.next({...r}))},_p=(k,T={})=>{const N=k?it(k):s,U=it(N),M=dt(k),I=M?s:U;if(T.keepDefaultValues||(s=N),!T.keepValues){if(T.keepDirtyValues){const Z=new Set([...a.mount,...Object.keys(Ki(s,i))]);for(const fe of Array.from(Z))H(r.dirtyFields,fe)?xe(I,fe,H(i,fe)):L(fe,H(I,fe))}else{if(mp&&We(k))for(const Z of a.mount){const fe=H(n,Z);if(fe&&fe._f){const ze=Array.isArray(fe._f.refs)?fe._f.refs[0]:fe._f.ref;if(nc(ze)){const rt=ze.closest("form");if(rt){rt.reset();break}}}}for(const Z of a.mount)L(Z,H(I,Z))}i=it(I),f.array.next({values:{...I}}),f.state.next({values:{...I}})}a={mount:T.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!T.keepIsValid||!!T.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:T.keepSubmitCount?r.submitCount:0,isDirty:M?!1:T.keepDirty?r.isDirty:!!(T.keepDefaultValues&&!gn(k,s)),isSubmitted:T.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:M?{}:T.keepDirtyValues?T.keepDefaultValues&&i?Ki(s,i):r.dirtyFields:T.keepDefaultValues&&k?Ki(s,k):T.keepDirty?r.dirtyFields:{},touchedFields:T.keepTouched?r.touchedFields:{},errors:T.keepErrors?r.errors:{},isSubmitSuccessful:T.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},kp=(k,T)=>_p(nr(k)?k(i):k,T),n_=(k,T={})=>{const N=H(n,k),U=N&&N._f;if(U){const M=U.refs?U.refs[0]:U.ref;M.focus&&(M.focus(),T.shouldSelect&&nr(M.select)&&M.select())}},s_=k=>{r={...r,...k}},Sp={control:{register:Ct,unregister:J,getFieldState:jr,handleSubmit:bp,setError:Xr,_subscribe:Cr,_runSchema:C,_getWatch:se,_getDirty:$,_setValid:g,_setFieldArray:y,_setDisabledField:ue,_setErrors:w,_getFieldArray:ve,_reset:_p,_resetDefaultValues:()=>nr(t.defaultValues)&&t.defaultValues().then(k=>{kp(k,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:en,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(k){o=k},get _defaultValues(){return s},get _names(){return a},set _names(k){a=k},get _formState(){return r},get _options(){return t},set _options(k){t={...t,...k}}},subscribe:ur,trigger:te,register:Ct,handleSubmit:bp,watch:jt,setValue:L,getValues:Pe,reset:kp,resetField:r_,clearErrors:Gt,unregister:J,setError:Xr,setFocus:n_,getFieldState:jr};return{...Sp,formControl:Sp}}function hL(e={}){const t=ge.useRef(void 0),r=ge.useRef(void 0),[n,s]=ge.useState({isDirty:!1,isValidating:!1,isLoading:nr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:nr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:dL(e),formState:n},e.formControl&&e.defaultValues&&!nr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,ge.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),ge.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ge.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),ge.useEffect(()=>{e.values&&!gn(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),ge.useEffect(()=>{e.errors&&!dt(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),ge.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ge.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=QR(n,i),t.current}var ce;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ce||(ce={}));var jh;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(jh||(jh={}));const F=ce.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mr=e=>{switch(typeof e){case"undefined":return F.undefined;case"string":return F.string;case"number":return isNaN(e)?F.nan:F.number;case"boolean":return F.boolean;case"function":return F.function;case"bigint":return F.bigint;case"symbol":return F.symbol;case"object":return Array.isArray(e)?F.array:e===null?F.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?F.promise:typeof Map<"u"&&e instanceof Map?F.map:typeof Set<"u"&&e instanceof Set?F.set:typeof Date<"u"&&e instanceof Date?F.date:F.object;default:return F.unknown}},O=ce.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fL=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Lt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),n}static assert(t){if(!(t instanceof Lt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ce.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Lt.create=e=>new Lt(e);const wi=(e,t)=>{let r;switch(e.code){case O.invalid_type:e.received===F.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case O.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ce.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:r=`Unrecognized key(s) in object: ${ce.joinValues(e.keys,", ")}`;break;case O.invalid_union:r="Invalid input";break;case O.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ce.joinValues(e.options)}`;break;case O.invalid_enum_value:r=`Invalid enum value. Expected ${ce.joinValues(e.options)}, received '${e.received}'`;break;case O.invalid_arguments:r="Invalid function arguments";break;case O.invalid_return_type:r="Invalid function return type";break;case O.invalid_date:r="Invalid date";break;case O.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ce.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case O.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case O.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case O.custom:r="Invalid input";break;case O.invalid_intersection_types:r="Intersection results could not be merged";break;case O.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case O.not_finite:r="Number must be finite";break;default:r=t.defaultError,ce.assertNever(e)}return{message:r}};let Wb=wi;function pL(e){Wb=e}function oc(){return Wb}const ac=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:t,defaultError:a}).message;return{...s,path:i,message:a}},mL=[];function V(e,t){const r=oc(),n=ac({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===wi?void 0:wi].filter(s=>!!s)});e.common.issues.push(n)}class ut{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return X;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return ut.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return X;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const X=Object.freeze({status:"aborted"}),Js=e=>({status:"dirty",value:e}),mt=e=>({status:"valid",value:e}),Ch=e=>e.status==="aborted",Th=e=>e.status==="dirty",ys=e=>e.status==="valid",Xo=e=>typeof Promise<"u"&&e instanceof Promise;function lc(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Hb(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var q;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(q||(q={}));var io,oo;class kr{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const By=(e,t)=>{if(ys(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Lt(e.common.issues);return this._error=r,this._error}}};function ee(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,a)=>{var l,c;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=d??r)!==null&&c!==void 0?c:a.defaultError}},description:s}}class ie{get description(){return this._def.description}_getType(t){return Mr(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Mr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ut,ctx:{common:t.parent.common,data:t.data,parsedType:Mr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Xo(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Mr(t)},i=this._parseSync({data:t,path:s.path,parent:s});return By(s,i)}"~validate"(t){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Mr(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return ys(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>ys(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Mr(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Xo(s)?s:Promise.resolve(s));return By(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),a=()=>i.addIssue({code:O.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new cr({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return _r.create(this,this._def)}nullable(){return In.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ar.create(this)}promise(){return _i.create(this,this._def)}or(t){return na.create([this,t],this._def)}and(t){return sa.create(this,t,this._def)}transform(t){return new cr({...ee(this._def),schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ca({...ee(this._def),innerType:this,defaultValue:r,typeName:Y.ZodDefault})}brand(){return new xp({typeName:Y.ZodBranded,type:this,...ee(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ua({...ee(this._def),innerType:this,catchValue:r,typeName:Y.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ja.create(this,t)}readonly(){return da.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gL=/^c[^\s-]{8,}$/i,yL=/^[0-9a-z]+$/,vL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,wL=/^[a-z0-9_-]{21}$/i,bL=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_L=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,SL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Gu;const jL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,TL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,EL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,NL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,PL=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Zb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",AL=new RegExp(`^${Zb}$`);function qb(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function RL(e){return new RegExp(`^${qb(e)}$`)}function Kb(e){let t=`${Zb}T${qb(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function LL(e,t){return!!((t==="v4"||!t)&&jL.test(e)||(t==="v6"||!t)&&TL.test(e))}function OL(e,t){if(!bL.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function DL(e,t){return!!((t==="v4"||!t)&&CL.test(e)||(t==="v6"||!t)&&EL.test(e))}class sr extends ie{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==F.string){const i=this._getOrReturnCtx(t);return V(i,{code:O.invalid_type,expected:F.string,received:i.parsedType}),X}const n=new ut;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),V(s,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),V(s,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(t,s),o?V(s,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&V(s,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")kL.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"email",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Gu||(Gu=new RegExp(SL,"u")),Gu.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"emoji",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")xL.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"uuid",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")wL.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"nanoid",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")gL.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"cuid",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")yL.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"cuid2",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")vL.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"ulid",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),V(s,{validation:"url",code:O.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"regex",code:O.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),V(s,{code:O.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),V(s,{code:O.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),V(s,{code:O.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Kb(i).test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{code:O.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?AL.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{code:O.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?RL(i).test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{code:O.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?_L.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"duration",code:O.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?LL(t.data,i.version)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"ip",code:O.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?OL(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"jwt",code:O.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?DL(t.data,i.version)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"cidr",code:O.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?NL.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"base64",code:O.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?PL.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"base64url",code:O.invalid_string,message:i.message}),n.dirty()):ce.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:O.invalid_string,...q.errToObj(n)})}_addCheck(t){return new sr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...q.errToObj(t)})}url(t){return this._addCheck({kind:"url",...q.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...q.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...q.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...q.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...q.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...q.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...q.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...q.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...q.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...q.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...q.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...q.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(r=t?.offset)!==null&&r!==void 0?r:!1,local:(n=t?.local)!==null&&n!==void 0?n:!1,...q.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...q.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...q.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...q.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...q.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...q.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...q.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...q.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...q.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...q.errToObj(r)})}nonempty(t){return this.min(1,q.errToObj(t))}trim(){return new sr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new sr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new sr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}sr.create=e=>{var t;return new sr({checks:[],typeName:Y.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...ee(e)})};function IL(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Ln extends ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==F.number){const i=this._getOrReturnCtx(t);return V(i,{code:O.invalid_type,expected:F.number,received:i.parsedType}),X}let n;const s=new ut;for(const i of this._def.checks)i.kind==="int"?ce.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),V(n,{code:O.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),V(n,{code:O.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),V(n,{code:O.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?IL(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),V(n,{code:O.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),V(n,{code:O.not_finite,message:i.message}),s.dirty()):ce.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,q.toString(r))}gt(t,r){return this.setLimit("min",t,!1,q.toString(r))}lte(t,r){return this.setLimit("max",t,!0,q.toString(r))}lt(t,r){return this.setLimit("max",t,!1,q.toString(r))}setLimit(t,r,n,s){return new Ln({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:q.toString(s)}]})}_addCheck(t){return new Ln({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:q.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:q.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:q.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:q.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:q.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:q.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:q.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:q.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:q.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ce.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ln.create=e=>new Ln({checks:[],typeName:Y.ZodNumber,coerce:e?.coerce||!1,...ee(e)});class On extends ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==F.bigint)return this._getInvalidInput(t);let n;const s=new ut;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),V(n,{code:O.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),V(n,{code:O.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),V(n,{code:O.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ce.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return V(r,{code:O.invalid_type,expected:F.bigint,received:r.parsedType}),X}gte(t,r){return this.setLimit("min",t,!0,q.toString(r))}gt(t,r){return this.setLimit("min",t,!1,q.toString(r))}lte(t,r){return this.setLimit("max",t,!0,q.toString(r))}lt(t,r){return this.setLimit("max",t,!1,q.toString(r))}setLimit(t,r,n,s){return new On({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:q.toString(s)}]})}_addCheck(t){return new On({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:q.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:q.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:q.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:q.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:q.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}On.create=e=>{var t;return new On({checks:[],typeName:Y.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...ee(e)})};class ea extends ie{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==F.boolean){const n=this._getOrReturnCtx(t);return V(n,{code:O.invalid_type,expected:F.boolean,received:n.parsedType}),X}return mt(t.data)}}ea.create=e=>new ea({typeName:Y.ZodBoolean,coerce:e?.coerce||!1,...ee(e)});class vs extends ie{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==F.date){const i=this._getOrReturnCtx(t);return V(i,{code:O.invalid_type,expected:F.date,received:i.parsedType}),X}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return V(i,{code:O.invalid_date}),X}const n=new ut;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),V(s,{code:O.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),V(s,{code:O.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ce.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new vs({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:q.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:q.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}vs.create=e=>new vs({checks:[],coerce:e?.coerce||!1,typeName:Y.ZodDate,...ee(e)});class cc extends ie{_parse(t){if(this._getType(t)!==F.symbol){const n=this._getOrReturnCtx(t);return V(n,{code:O.invalid_type,expected:F.symbol,received:n.parsedType}),X}return mt(t.data)}}cc.create=e=>new cc({typeName:Y.ZodSymbol,...ee(e)});class ta extends ie{_parse(t){if(this._getType(t)!==F.undefined){const n=this._getOrReturnCtx(t);return V(n,{code:O.invalid_type,expected:F.undefined,received:n.parsedType}),X}return mt(t.data)}}ta.create=e=>new ta({typeName:Y.ZodUndefined,...ee(e)});class ra extends ie{_parse(t){if(this._getType(t)!==F.null){const n=this._getOrReturnCtx(t);return V(n,{code:O.invalid_type,expected:F.null,received:n.parsedType}),X}return mt(t.data)}}ra.create=e=>new ra({typeName:Y.ZodNull,...ee(e)});class bi extends ie{constructor(){super(...arguments),this._any=!0}_parse(t){return mt(t.data)}}bi.create=e=>new bi({typeName:Y.ZodAny,...ee(e)});class ls extends ie{constructor(){super(...arguments),this._unknown=!0}_parse(t){return mt(t.data)}}ls.create=e=>new ls({typeName:Y.ZodUnknown,...ee(e)});class Gr extends ie{_parse(t){const r=this._getOrReturnCtx(t);return V(r,{code:O.invalid_type,expected:F.never,received:r.parsedType}),X}}Gr.create=e=>new Gr({typeName:Y.ZodNever,...ee(e)});class uc extends ie{_parse(t){if(this._getType(t)!==F.undefined){const n=this._getOrReturnCtx(t);return V(n,{code:O.invalid_type,expected:F.void,received:n.parsedType}),X}return mt(t.data)}}uc.create=e=>new uc({typeName:Y.ZodVoid,...ee(e)});class ar extends ie{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==F.array)return V(r,{code:O.invalid_type,expected:F.array,received:r.parsedType}),X;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(V(r,{code:o?O.too_big:O.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(V(r,{code:O.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(V(r,{code:O.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new kr(r,o,r.path,a)))).then(o=>ut.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new kr(r,o,r.path,a)));return ut.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ar({...this._def,minLength:{value:t,message:q.toString(r)}})}max(t,r){return new ar({...this._def,maxLength:{value:t,message:q.toString(r)}})}length(t,r){return new ar({...this._def,exactLength:{value:t,message:q.toString(r)}})}nonempty(t){return this.min(1,t)}}ar.create=(e,t)=>new ar({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray,...ee(t)});function As(e){if(e instanceof Ae){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=_r.create(As(n))}return new Ae({...e._def,shape:()=>t})}else return e instanceof ar?new ar({...e._def,type:As(e.element)}):e instanceof _r?_r.create(As(e.unwrap())):e instanceof In?In.create(As(e.unwrap())):e instanceof Sr?Sr.create(e.items.map(t=>As(t))):e}class Ae extends ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ce.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==F.object){const c=this._getOrReturnCtx(t);return V(c,{code:O.invalid_type,expected:F.object,received:c.parsedType}),X}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Gr&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=i[c],h=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new kr(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Gr){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")a.length>0&&(V(s,{code:O.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const h=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new kr(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const h=await d.key,f=await d.value;c.push({key:h,value:f,alwaysSet:d.alwaysSet})}return c}).then(c=>ut.mergeObjectSync(n,c)):ut.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return q.errToObj,new Ae({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=q.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ae({...this._def,unknownKeys:"strip"})}passthrough(){return new Ae({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ae({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ae({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Y.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ae({...this._def,catchall:t})}pick(t){const r={};return ce.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ae({...this._def,shape:()=>r})}omit(t){const r={};return ce.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Ae({...this._def,shape:()=>r})}deepPartial(){return As(this)}partial(t){const r={};return ce.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new Ae({...this._def,shape:()=>r})}required(t){const r={};return ce.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof _r;)i=i._def.innerType;r[n]=i}}),new Ae({...this._def,shape:()=>r})}keyof(){return Gb(ce.objectKeys(this.shape))}}Ae.create=(e,t)=>new Ae({shape:()=>e,unknownKeys:"strip",catchall:Gr.create(),typeName:Y.ZodObject,...ee(t)});Ae.strictCreate=(e,t)=>new Ae({shape:()=>e,unknownKeys:"strict",catchall:Gr.create(),typeName:Y.ZodObject,...ee(t)});Ae.lazycreate=(e,t)=>new Ae({shape:e,unknownKeys:"strip",catchall:Gr.create(),typeName:Y.ZodObject,...ee(t)});class na extends ie{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Lt(a.ctx.common.issues));return V(r,{code:O.invalid_union,unionErrors:o}),X}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Lt(l));return V(r,{code:O.invalid_union,unionErrors:a}),X}}get options(){return this._def.options}}na.create=(e,t)=>new na({options:e,typeName:Y.ZodUnion,...ee(t)});const Pr=e=>e instanceof oa?Pr(e.schema):e instanceof cr?Pr(e.innerType()):e instanceof aa?[e.value]:e instanceof Dn?e.options:e instanceof la?ce.objectValues(e.enum):e instanceof ca?Pr(e._def.innerType):e instanceof ta?[void 0]:e instanceof ra?[null]:e instanceof _r?[void 0,...Pr(e.unwrap())]:e instanceof In?[null,...Pr(e.unwrap())]:e instanceof xp||e instanceof da?Pr(e.unwrap()):e instanceof ua?Pr(e._def.innerType):[];class Qc extends ie{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==F.object)return V(r,{code:O.invalid_type,expected:F.object,received:r.parsedType}),X;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(V(r,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),X)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=Pr(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Qc({typeName:Y.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...ee(n)})}}function Eh(e,t){const r=Mr(e),n=Mr(t);if(e===t)return{valid:!0,data:e};if(r===F.object&&n===F.object){const s=ce.objectKeys(t),i=ce.objectKeys(e).filter(a=>s.indexOf(a)!==-1),o={...e,...t};for(const a of i){const l=Eh(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===F.array&&n===F.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],a=t[i],l=Eh(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===F.date&&n===F.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class sa extends ie{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(Ch(i)||Ch(o))return X;const a=Eh(i.value,o.value);return a.valid?((Th(i)||Th(o))&&r.dirty(),{status:r.value,value:a.data}):(V(n,{code:O.invalid_intersection_types}),X)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}sa.create=(e,t,r)=>new sa({left:e,right:t,typeName:Y.ZodIntersection,...ee(r)});class Sr extends ie{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==F.array)return V(n,{code:O.invalid_type,expected:F.array,received:n.parsedType}),X;if(n.data.length<this._def.items.length)return V(n,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X;!this._def.rest&&n.data.length>this._def.items.length&&(V(n,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new kr(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ut.mergeArray(r,o)):ut.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Sr({...this._def,rest:t})}}Sr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Sr({items:e,typeName:Y.ZodTuple,rest:null,...ee(t)})};class ia extends ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==F.object)return V(n,{code:O.invalid_type,expected:F.object,received:n.parsedType}),X;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new kr(n,a,n.path,a)),value:o._parse(new kr(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?ut.mergeObjectAsync(r,s):ut.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof ie?new ia({keyType:t,valueType:r,typeName:Y.ZodRecord,...ee(n)}):new ia({keyType:sr.create(),valueType:t,typeName:Y.ZodRecord,...ee(r)})}}class dc extends ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==F.map)return V(n,{code:O.invalid_type,expected:F.map,received:n.parsedType}),X;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,l],c)=>({key:s._parse(new kr(n,a,n.path,[c,"key"])),value:i._parse(new kr(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return X;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return X;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}}}}dc.create=(e,t,r)=>new dc({valueType:t,keyType:e,typeName:Y.ZodMap,...ee(r)});class xs extends ie{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==F.set)return V(n,{code:O.invalid_type,expected:F.set,received:n.parsedType}),X;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(V(n,{code:O.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(V(n,{code:O.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return X;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>i._parse(new kr(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,r){return new xs({...this._def,minSize:{value:t,message:q.toString(r)}})}max(t,r){return new xs({...this._def,maxSize:{value:t,message:q.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}xs.create=(e,t)=>new xs({valueType:e,minSize:null,maxSize:null,typeName:Y.ZodSet,...ee(t)});class ii extends ie{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==F.function)return V(r,{code:O.invalid_type,expected:F.function,received:r.parsedType}),X;function n(a,l){return ac({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,oc(),wi].filter(c=>!!c),issueData:{code:O.invalid_arguments,argumentsError:l}})}function s(a,l){return ac({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,oc(),wi].filter(c=>!!c),issueData:{code:O.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof _i){const a=this;return mt(async function(...l){const c=new Lt([]),d=await a._def.args.parseAsync(l,i).catch(m=>{throw c.addIssue(n(l,m)),c}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,i).catch(m=>{throw c.addIssue(s(h,m)),c})})}else{const a=this;return mt(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new Lt([n(l,c.error)]);const d=Reflect.apply(o,this,c.data),h=a._def.returns.safeParse(d,i);if(!h.success)throw new Lt([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ii({...this._def,args:Sr.create(t).rest(ls.create())})}returns(t){return new ii({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new ii({args:t||Sr.create([]).rest(ls.create()),returns:r||ls.create(),typeName:Y.ZodFunction,...ee(n)})}}class oa extends ie{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}oa.create=(e,t)=>new oa({getter:e,typeName:Y.ZodLazy,...ee(t)});class aa extends ie{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return V(r,{received:r.data,code:O.invalid_literal,expected:this._def.value}),X}return{status:"valid",value:t.data}}get value(){return this._def.value}}aa.create=(e,t)=>new aa({value:e,typeName:Y.ZodLiteral,...ee(t)});function Gb(e,t){return new Dn({values:e,typeName:Y.ZodEnum,...ee(t)})}class Dn extends ie{constructor(){super(...arguments),io.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return V(r,{expected:ce.joinValues(n),received:r.parsedType,code:O.invalid_type}),X}if(lc(this,io)||Hb(this,io,new Set(this._def.values)),!lc(this,io).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return V(r,{received:r.data,code:O.invalid_enum_value,options:n}),X}return mt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Dn.create(t,{...this._def,...r})}exclude(t,r=this._def){return Dn.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}io=new WeakMap;Dn.create=Gb;class la extends ie{constructor(){super(...arguments),oo.set(this,void 0)}_parse(t){const r=ce.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==F.string&&n.parsedType!==F.number){const s=ce.objectValues(r);return V(n,{expected:ce.joinValues(s),received:n.parsedType,code:O.invalid_type}),X}if(lc(this,oo)||Hb(this,oo,new Set(ce.getValidEnumValues(this._def.values))),!lc(this,oo).has(t.data)){const s=ce.objectValues(r);return V(n,{received:n.data,code:O.invalid_enum_value,options:s}),X}return mt(t.data)}get enum(){return this._def.values}}oo=new WeakMap;la.create=(e,t)=>new la({values:e,typeName:Y.ZodNativeEnum,...ee(t)});class _i extends ie{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==F.promise&&r.common.async===!1)return V(r,{code:O.invalid_type,expected:F.promise,received:r.parsedType}),X;const n=r.parsedType===F.promise?r.data:Promise.resolve(r.data);return mt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}_i.create=(e,t)=>new _i({type:e,typeName:Y.ZodPromise,...ee(t)});class cr extends ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{V(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return X;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?X:l.status==="dirty"||r.value==="dirty"?Js(l.value):l});{if(r.value==="aborted")return X;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?X:a.status==="dirty"||r.value==="dirty"?Js(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?X:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?X:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ys(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ys(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);ce.assertNever(s)}}cr.create=(e,t,r)=>new cr({schema:e,typeName:Y.ZodEffects,effect:t,...ee(r)});cr.createWithPreprocess=(e,t,r)=>new cr({schema:t,effect:{type:"preprocess",transform:e},typeName:Y.ZodEffects,...ee(r)});class _r extends ie{_parse(t){return this._getType(t)===F.undefined?mt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_r.create=(e,t)=>new _r({innerType:e,typeName:Y.ZodOptional,...ee(t)});class In extends ie{_parse(t){return this._getType(t)===F.null?mt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}In.create=(e,t)=>new In({innerType:e,typeName:Y.ZodNullable,...ee(t)});class ca extends ie{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===F.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ca.create=(e,t)=>new ca({innerType:e,typeName:Y.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ee(t)});class ua extends ie{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Xo(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Lt(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Lt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ua.create=(e,t)=>new ua({innerType:e,typeName:Y.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ee(t)});class hc extends ie{_parse(t){if(this._getType(t)!==F.nan){const n=this._getOrReturnCtx(t);return V(n,{code:O.invalid_type,expected:F.nan,received:n.parsedType}),X}return{status:"valid",value:t.data}}}hc.create=e=>new hc({typeName:Y.ZodNaN,...ee(e)});const ML=Symbol("zod_brand");class xp extends ie{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ja extends ie{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?X:i.status==="dirty"?(r.dirty(),Js(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?X:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new ja({in:t,out:r,typeName:Y.ZodPipeline})}}class da extends ie{_parse(t){const r=this._def.innerType._parse(t),n=s=>(ys(s)&&(s.value=Object.freeze(s.value)),s);return Xo(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}da.create=(e,t)=>new da({innerType:e,typeName:Y.ZodReadonly,...ee(t)});function Wy(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Jb(e,t={},r){return e?bi.create().superRefine((n,s)=>{var i,o;const a=e(n);if(a instanceof Promise)return a.then(l=>{var c,d;if(!l){const h=Wy(t,n),f=(d=(c=h.fatal)!==null&&c!==void 0?c:r)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...h,fatal:f})}});if(!a){const l=Wy(t,n),c=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:c})}}):bi.create()}const VL={object:Ae.lazycreate};var Y;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Y||(Y={}));const $L=(e,t={message:`Input not instance of ${e.name}`})=>Jb(r=>r instanceof e,t),Qb=sr.create,Yb=Ln.create,FL=hc.create,UL=On.create,Xb=ea.create,zL=vs.create,BL=cc.create,WL=ta.create,HL=ra.create,ZL=bi.create,qL=ls.create,KL=Gr.create,GL=uc.create,JL=ar.create,QL=Ae.create,YL=Ae.strictCreate,XL=na.create,eO=Qc.create,tO=sa.create,rO=Sr.create,nO=ia.create,sO=dc.create,iO=xs.create,oO=ii.create,aO=oa.create,lO=aa.create,cO=Dn.create,uO=la.create,dO=_i.create,Hy=cr.create,hO=_r.create,fO=In.create,pO=cr.createWithPreprocess,mO=ja.create,gO=()=>Qb().optional(),yO=()=>Yb().optional(),vO=()=>Xb().optional(),xO={string:e=>sr.create({...e,coerce:!0}),number:e=>Ln.create({...e,coerce:!0}),boolean:e=>ea.create({...e,coerce:!0}),bigint:e=>On.create({...e,coerce:!0}),date:e=>vs.create({...e,coerce:!0})},wO=X;var Ju=Object.freeze({__proto__:null,defaultErrorMap:wi,setErrorMap:pL,getErrorMap:oc,makeIssue:ac,EMPTY_PATH:mL,addIssueToContext:V,ParseStatus:ut,INVALID:X,DIRTY:Js,OK:mt,isAborted:Ch,isDirty:Th,isValid:ys,isAsync:Xo,get util(){return ce},get objectUtil(){return jh},ZodParsedType:F,getParsedType:Mr,ZodType:ie,datetimeRegex:Kb,ZodString:sr,ZodNumber:Ln,ZodBigInt:On,ZodBoolean:ea,ZodDate:vs,ZodSymbol:cc,ZodUndefined:ta,ZodNull:ra,ZodAny:bi,ZodUnknown:ls,ZodNever:Gr,ZodVoid:uc,ZodArray:ar,ZodObject:Ae,ZodUnion:na,ZodDiscriminatedUnion:Qc,ZodIntersection:sa,ZodTuple:Sr,ZodRecord:ia,ZodMap:dc,ZodSet:xs,ZodFunction:ii,ZodLazy:oa,ZodLiteral:aa,ZodEnum:Dn,ZodNativeEnum:la,ZodPromise:_i,ZodEffects:cr,ZodTransformer:cr,ZodOptional:_r,ZodNullable:In,ZodDefault:ca,ZodCatch:ua,ZodNaN:hc,BRAND:ML,ZodBranded:xp,ZodPipeline:ja,ZodReadonly:da,custom:Jb,Schema:ie,ZodSchema:ie,late:VL,get ZodFirstPartyTypeKind(){return Y},coerce:xO,any:ZL,array:JL,bigint:UL,boolean:Xb,date:zL,discriminatedUnion:eO,effect:Hy,enum:cO,function:oO,instanceof:$L,intersection:tO,lazy:aO,literal:lO,map:sO,nan:FL,nativeEnum:uO,never:KL,null:HL,nullable:fO,number:Yb,object:QL,oboolean:vO,onumber:yO,optional:hO,ostring:gO,pipeline:mO,preprocess:pO,promise:dO,record:nO,set:iO,strictObject:YL,string:Qb,symbol:BL,transformer:Hy,tuple:rO,undefined:WL,union:XL,unknown:qL,void:GL,NEVER:wO,ZodIssueCode:O,quotelessJson:fL,ZodError:Lt});const Zy=(e,t,r)=>{if(e&&"reportValidity"in e){const n=H(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},e_=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Zy(n.ref,r,e):n.refs&&n.refs.forEach(s=>Zy(s,r,e))}},bO=(e,t)=>{t.shouldUseNativeValidation&&e_(e,t);const r={};for(const n in e){const s=H(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(_O(t.names||Object.keys(e),n)){const o=Object.assign({},H(r,n));xe(o,"root",i),xe(r,n,o)}else xe(r,n,i)}return r},_O=(e,t)=>e.some(r=>r.startsWith(t+"."));var kO=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var l=r[o].types,c=l&&l[n.code];r[o]=Mb(o,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r},SO=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(c){return i.shouldUseNativeValidation&&e_({},i),{errors:{},values:r.raw?n:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a?.errors)}(o))return{values:{},errors:bO(kO(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const jO=Ju.object({email:Ju.string().email("Email invalide"),password:Ju.string().min(6,"Le mot de passe doit contenir au moins 6 caractres")}),CO=()=>{const{login:e,isLoading:t,error:r,clearError:n}=Be(),[s,i]=b.useState(!1),[o,a]=b.useState(!1),{register:l,handleSubmit:c,formState:{errors:d}}=hL({resolver:SO(jO),defaultValues:{email:"",password:""}}),h=async f=>{n(),i(!1),a(!1),await e(f.email,f.password)};return b.useEffect(()=>{r&&(r.includes("Seuls les laboratoires peuvent se connecter")||r.includes("Compte laboratoire non trouv")?a(!0):i(!0))},[r]),u.jsxs(u.Fragment,{children:[u.jsxs("form",{onSubmit:c(h),className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adresse email"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(PE,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"email",type:"email",autoComplete:"email",placeholder:"votre.email@exemple.com",className:`
                w-full pl-10 pr-4 py-3 rounded-xl border-2 transition-colors duration-200
                bg-gray-50/50 text-gray-900 placeholder-gray-400
                focus:bg-white focus:border-blue-500 focus:outline-none
                ${d.email?"border-red-300":"border-gray-200"}
              `,...l("email")})]}),d.email&&u.jsx("p",{className:"text-sm text-red-600",children:d.email.message})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(NE,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"password",type:"password",autoComplete:"current-password",placeholder:"",className:`
                w-full pl-10 pr-4 py-3 rounded-xl border-2 transition-colors duration-200
                bg-gray-50/50 text-gray-900 placeholder-gray-400
                focus:bg-white focus:border-blue-500 focus:outline-none
                ${d.password?"border-red-300":"border-gray-200"}
              `,...l("password")})]}),d.password&&u.jsx("p",{className:"text-sm text-red-600",children:d.password.message})]}),r&&s&&!o&&u.jsxs(be.div,{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-start gap-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[u.jsx(gi,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Erreur de connexion"}),u.jsx("p",{className:"text-sm",children:r})]})]}),u.jsx("button",{type:"submit",disabled:t,className:`w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 
                     text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 
                     transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl
                     disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
                     flex items-center justify-center gap-2`,children:t?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Connexion..."]}):u.jsxs(u.Fragment,{children:["Se connecter",u.jsx("span",{className:"text-lg",children:""})]})})]}),u.jsx(Wt,{children:o&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs(be.div,{className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-md mx-4",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:u.jsx(TE,{className:"w-5 h-5 text-blue-600"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Interface Laboratoire"})]}),u.jsx("button",{onClick:()=>{a(!1),n()},className:"text-gray-400 hover:text-gray-600 transition-colors p-1",children:u.jsx(gs,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"text-center py-4",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(gi,{className:"w-8 h-8 text-amber-600"})}),u.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Accs Restreint"}),u.jsxs("p",{className:"text-gray-600 mb-6",children:["Cette interface est ",u.jsx("strong",{children:"uniquement destine aux laboratoires"}),". Si vous tes un chauffeur ou un administrateur, veuillez utiliser votre interface ddie."]}),u.jsx("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Laboratoires :"})," Utilisez vos identifiants laboratoire pour accder  votre espace de gestion des livraisons."]})})]}),u.jsx("div",{className:"flex gap-3",children:u.jsx("button",{onClick:()=>{a(!1),n()},className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-3 px-4 rounded-xl transition-colors",children:"Compris"})})]})})})]})},we=ge.forwardRef(({className:e,isPressable:t,isHoverable:r,isCompact:n,...s},i)=>u.jsx("div",{className:Bn("bg-white rounded-2xl shadow-card border border-gray-100",n?"p-4":"p-6",t&&"cursor-pointer active:scale-95 transition-transform",r&&"hover:shadow-card-hover transition-shadow duration-200",e),ref:i,...s}));we.displayName="Card";const Ar=ge.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:Bn("mb-4 space-y-1.5 flex flex-col",e),...t}));Ar.displayName="CardHeader";const Rr=ge.forwardRef(({className:e,...t},r)=>u.jsx("h3",{ref:r,className:Bn("font-semibold text-xl leading-none tracking-tight",e),...t}));Rr.displayName="CardTitle";const TO=ge.forwardRef(({className:e,...t},r)=>u.jsx("p",{ref:r,className:Bn("text-sm text-gray-500",e),...t}));TO.displayName="CardDescription";const Lr=ge.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:Bn("",e),...t}));Lr.displayName="CardContent";const Rs=ge.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:Bn("flex items-center pt-4 mt-auto",e),...t}));Rs.displayName="CardFooter";function wp(){const e=b.useCallback((a,l)=>{rn.success(a,{duration:l?.duration||4e3,position:l?.position||"top-center"})},[]),t=b.useCallback((a,l)=>{rn.error(a,{duration:l?.duration||5e3,position:l?.position||"top-center"})},[]),r=b.useCallback((a,l)=>{rn(a,{duration:l?.duration||4e3,position:l?.position||"top-center",icon:""})},[]),n=b.useCallback((a,l)=>{rn(a,{duration:l?.duration||4e3,position:l?.position||"top-center",icon:"",style:{background:"#f59e0b",color:"#white"}})},[]),s=b.useCallback((a,l)=>rn.loading(a,{position:l?.position||"top-center"}),[]),i=b.useCallback(a=>{a?rn.dismiss(a):rn.dismiss()},[]),o=b.useCallback((a,l,c)=>rn.promise(a,l,{position:c?.position||"top-center",success:{duration:c?.duration||4e3},error:{duration:c?.duration||5e3}}),[]);return{success:e,error:t,info:r,warning:n,loading:s,dismiss:i,promise:o}}const t_=({isOpen:e,onClose:t,unscheduledClients:r,onSubmit:n})=>{const s=wp(),[i,o]=b.useState(""),[a,l]=b.useState({pickup:!1,delivery:!1}),[c,d]=b.useState(""),[h,f]=b.useState(!1),[m,x]=b.useState("");ge.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),ge.useEffect(()=>{e&&(o(""),l({pickup:!1,delivery:!1}),d(""),f(!1),x(""))},[e]);const v=r.filter(C=>C.name.toLowerCase().includes(m.toLowerCase())||C.location.formatted_address.toLowerCase().includes(m.toLowerCase())),_=C=>{o(C),l({pickup:!1,delivery:!1}),d("")},g=()=>{o(""),l({pickup:!1,delivery:!1}),d("")},p=()=>{l(C=>({...C,pickup:!C.pickup}))},y=()=>{l(C=>({...C,delivery:!C.delivery}))},S=!!i,w=a.pickup||a.delivery,E=S&&w,P=async()=>{if(!E){s.error("Veuillez slectionner un client et au moins une action");return}f(!0);try{const C={client_id:i,has_pickup:a.pickup,has_delivery:a.delivery,urgent_instructions:c.trim()||void 0};await n(C),s.success(" Demande de dernire minute envoye !"),t()}catch(C){console.error("Erreur lors de la soumission:",C),s.error(C.message||"Erreur lors de la soumission de la demande")}finally{f(!1)}},j=r.find(C=>C.id===i);return e?u.jsx(Wt,{children:u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:u.jsxs(be.div,{className:"bg-white rounded-2xl w-full max-w-3xl h-[85vh] flex flex-col shadow-2xl",onClick:C=>C.stopPropagation(),initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},children:[u.jsx("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:u.jsx(Rf,{className:"w-5 h-5 text-orange-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Demande de dernire minute"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Elle sera traite en fonction de l'avancement des tournes en cours"})]})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg",children:u.jsx(gs,{className:"h-5 w-5"})})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 min-h-0",children:r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(Ai,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun client disponible"}),u.jsx("p",{className:"text-gray-500",children:"Tous vos clients sont dj programms pour aujourd'hui."})]}):u.jsxs("div",{className:`h-full ${S?"space-y-8":""}`,children:[u.jsxs("div",{className:"flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${S?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:"1"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Slectionner le client"})]}),u.jsx(Wt,{mode:"wait",children:S?u.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:u.jsx(we,{className:"p-4 border-2 border-green-500 bg-green-50 shadow-md",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-medium text-gray-900 truncate",children:j?.name}),u.jsx("p",{className:"text-sm text-gray-500 truncate mt-1",children:j?.location.formatted_address}),u.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-md mt-2",children:j?.client_type==="dentist"?"Dentiste":"Laboratoire"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-green-500 bg-green-500 flex items-center justify-center",children:u.jsx(nh,{className:"w-3 h-3 text-white"})}),u.jsx("button",{onClick:g,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",title:"Changer de client",children:u.jsx(OE,{className:"w-4 h-4"})})]})]})})},"selected"):u.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"h-full flex flex-col",children:[u.jsxs("div",{className:"relative mb-4 flex-shrink-0",children:[u.jsx(Lf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Rechercher un client...",value:m,onChange:C=>x(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),u.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto",children:v.length===0?u.jsx("div",{className:"text-center py-8",children:u.jsxs("p",{className:"text-gray-500",children:['Aucun client trouv pour "',m,'"']})}):v.map(C=>u.jsx(we,{className:"p-4 cursor-pointer transition-all duration-200 border-2 border-gray-200 hover:border-blue-300 hover:shadow-sm",onClick:()=>_(C.id),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-medium text-gray-900 truncate",children:C.name}),u.jsx("p",{className:"text-sm text-gray-500 truncate mt-1",children:C.location.formatted_address}),u.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-md mt-2",children:C.client_type==="dentist"?"Dentiste":"Laboratoire"})]}),u.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300 transition-all flex items-center justify-center"})]})},C.id))})]},"selection")})]}),u.jsx(Wt,{children:S&&u.jsxs(be.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${w?"bg-green-500 text-white":"bg-blue-500 text-white"}`,children:"2"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Type de demande"}),j&&u.jsxs("span",{className:"text-sm text-gray-500",children:["pour ",u.jsx("span",{className:"font-medium",children:j.name})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("button",{type:"button",onClick:p,className:`
                            p-4 rounded-xl border-2 transition-all duration-200 flex flex-col items-center gap-3 text-center
                            ${a.pickup?"border-orange-500 bg-orange-50 text-orange-700 shadow-md":"border-gray-200 hover:border-orange-300 hover:bg-orange-50/50 text-gray-600 hover:shadow-sm"}
                          `,children:[u.jsx("div",{className:`p-3 rounded-xl ${a.pickup?"bg-orange-200":"bg-gray-100"}`,children:u.jsx(ms,{className:"h-6 w-6"})}),u.jsx("span",{className:"font-medium",children:"Ramassage"})]}),u.jsxs("button",{type:"button",onClick:y,className:`
                            p-4 rounded-xl border-2 transition-all duration-200 flex flex-col items-center gap-3 text-center
                            ${a.delivery?"border-green-500 bg-green-50 text-green-700 shadow-md":"border-gray-200 hover:border-green-300 hover:bg-green-50/50 text-gray-600 hover:shadow-sm"}
                          `,children:[u.jsx("div",{className:`p-3 rounded-xl ${a.delivery?"bg-green-200":"bg-gray-100"}`,children:u.jsx(Nt,{className:"h-6 w-6"})}),u.jsx("span",{className:"font-medium",children:"Livraison"})]})]})]})}),u.jsx(Wt,{children:w&&u.jsxs(be.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center text-sm font-semibold",children:"3"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Instructions spciales"}),u.jsx("span",{className:"text-sm text-gray-500",children:"(optionnel)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(RE,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),u.jsx("textarea",{value:c,onChange:C=>d(C.target.value),placeholder:"Informations importantes pour cette demande...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-colors",rows:3})]})]})})]})}),r.length>0&&u.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-2xl flex-shrink-0",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx(pe,{variant:"outline",onClick:t,disabled:h,className:"flex-1 h-11",children:"Annuler"}),u.jsx(pe,{onClick:P,disabled:!E||h,className:"flex-1 h-11 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-300",children:h?u.jsxs(u.Fragment,{children:[u.jsx(gr,{className:"h-4 w-4 animate-spin mr-2"}),"Envoi en cours..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Yx,{className:"h-4 w-4 mr-2"}),"Envoyer la demande"]})})]})})]})})}):null},EO=()=>{const e=Fn(),{user:t}=Be(),{todayTour:r,fetchTodayTour:n,isLoading:s,laboratoryInfo:i,fetchLaboratoryInfo:o,checkIfDriverRoutesValidated:a,getUnscheduledClients:l,createLateStopRequest:c,getLateStopRequests:d}=Bc(),h=s,[f,m]=b.useState(!1),[x,v]=b.useState(!1),[_,g]=b.useState([]),[p,y]=b.useState(!1),[S,w]=b.useState([]),[E,P]=b.useState(!1);b.useEffect(()=>{t&&(n(!0),o(!0),j())},[t?.id,n,o]);const j=async()=>{P(!0);try{const K=await a();if(v(K),K){const W=await l();g(W)}const L=await d();w(L)}catch(K){console.error("Erreur lors de la vrification:",K)}finally{P(!1)}},C=async K=>{try{await c(K),j()}catch(L){throw console.error("Erreur lors de la soumission:",L),L}},A=b.useMemo(()=>{const K=r?.stops||[],L=K.filter(te=>te.has_delivery).length,W=K.filter(te=>te.has_pickup).length,G=K.length;return{totalDentists:28,todayDeliveries:L,todayPickups:W,totalStops:G,completedDeliveries:0,pendingRoutes:r?1:0}},[r]),B=new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),R={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},$={hidden:{y:20,opacity:0},show:{y:0,opacity:1}},se=()=>{m(!1)},me=h?"loading":r?r.status:"not_submitted";return u.jsxs("div",{className:"space-y-6",children:[u.jsx(Wt,{children:f&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center p-4 overflow-y-auto",onClick:()=>m(!1),children:u.jsx(be.div,{className:"bg-white rounded-2xl w-full max-w-4xl my-8 flex flex-col max-h-[90vh]",onClick:K=>K.stopPropagation(),initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},children:u.jsx("div",{className:"p-4 border-t bg-white",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsx(pe,{variant:"outline",className:"h-12",onClick:()=>m(!1),children:"Annuler"}),u.jsx(pe,{onClick:se,className:"h-12 shadow-lg",children:"Enregistrer les modifications"})]})})})})}),u.jsx(t_,{isOpen:p,onClose:()=>y(!1),unscheduledClients:_,onSubmit:C}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Laboratoire ",i?.name||"Chargement..."]}),u.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"})]}),u.jsx("div",{className:"text-lg font-semibold text-gray-700",children:"Tableau de bord"}),u.jsx("p",{className:"text-gray-500",children:B})]}),u.jsxs(be.div,{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",variants:R,initial:"hidden",animate:"show",children:[u.jsx(be.div,{variants:$,children:h?u.jsxs(we,{className:"flex flex-col bg-gray-50 border-gray-100",children:[u.jsx(Ar,{children:u.jsxs(Rr,{className:"flex justify-between text-gray-700",children:[u.jsx("span",{children:"Chargement..."}),u.jsx(gr,{className:"h-5 w-5 animate-spin"})]})}),u.jsx(Lr,{className:"flex-grow",children:u.jsx("div",{className:"flex items-center justify-center h-12",children:u.jsx(gr,{className:"w-6 h-6 text-gray-400 animate-spin"})})})]}):me==="not_submitted"?u.jsxs(we,{className:"flex flex-col bg-gradient-to-br from-rose-50 to-rose-100 border-rose-200 hover:shadow-lg transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:()=>e("/laboratory/planning"),children:[u.jsx(Ar,{children:u.jsxs(Rr,{className:"flex justify-between items-center text-rose-800",children:[u.jsx("span",{children:"Tourne non soumise"}),u.jsx("div",{className:"p-2 bg-rose-500 rounded-xl animate-pulse",children:u.jsx(gs,{className:"h-5 w-5 text-white"})})]})}),u.jsxs(Lr,{className:"flex-grow",children:[u.jsx("div",{className:"text-3xl font-bold text-rose-700 mb-2",children:"!"}),u.jsx("div",{className:"bg-rose-200 text-rose-800 text-xs px-3 py-1 rounded-full inline-block mb-2",children:"Action requise"}),u.jsx("p",{className:"text-sm text-rose-600 mt-1",children:"Tourne  planifier pour aujourd'hui"})]}),u.jsx(Rs,{children:u.jsxs(pe,{variant:"danger",className:"w-full flex items-center justify-center bg-gradient-to-r from-rose-500 to-rose-600 hover:from-rose-600 hover:to-rose-700 shadow-lg hover:shadow-xl transition-all duration-200",children:[u.jsx(ih,{className:"h-4 w-4 mr-2"})," Planifier la tourne"]})})]}):me==="submitted"||me==="pending_changes"?u.jsxs(we,{className:"flex flex-col bg-amber-50 border-amber-100 cursor-pointer",onClick:()=>e("/laboratory/pending-routes"),children:[u.jsx(Ar,{children:u.jsxs(Rr,{className:"flex justify-between text-amber-700",children:[u.jsx("span",{children:"En attente de validation"}),u.jsx(Xx,{className:"h-5 w-5"})]})}),u.jsxs(Lr,{className:"flex-grow",children:[u.jsx("div",{className:"text-3xl font-bold text-amber-600",children:"1"}),u.jsx("p",{className:"text-sm text-amber-600/80 mt-1",children:"Tourne en attente"})]}),u.jsx(Rs,{children:u.jsxs(pe,{variant:"outline",className:"w-full flex items-center justify-center text-amber-700 border-amber-200 hover:bg-amber-50",children:[u.jsx(sh,{className:"h-4 w-4 mr-2"})," Voir les dtails"]})})]}):u.jsxs(we,{className:"flex flex-col bg-green-50 border-green-100 cursor-pointer",onClick:()=>e("/laboratory/pending-routes"),children:[u.jsx(Ar,{children:u.jsxs(Rr,{className:"flex justify-between text-green-700",children:[u.jsx("span",{children:"Tourne valide"}),u.jsx(nh,{className:"h-5 w-5"})]})}),u.jsxs(Lr,{className:"flex-grow",children:[u.jsx("div",{className:"text-3xl font-bold text-green-600",children:""}),u.jsx("p",{className:"text-sm text-green-600/80 mt-1",children:"Prte pour le dpart"})]}),u.jsx(Rs,{children:u.jsxs(pe,{variant:"outline",className:"w-full flex items-center justify-center text-green-700 border-green-200 hover:bg-green-50",children:[u.jsx(sh,{className:"h-4 w-4 mr-2"})," Voir ma tourne"]})})]})}),x&&u.jsx(be.div,{variants:$,children:u.jsxs(we,{className:"bg-gradient-to-br from-orange-50 to-red-50 border-orange-200 hover:shadow-lg transition-all duration-300",children:[u.jsx(Ar,{children:u.jsxs(Rr,{className:"flex justify-between items-center text-orange-800",children:[u.jsx("span",{children:"Demandes urgentes"}),u.jsx("div",{className:"p-2 bg-orange-500 rounded-xl",children:u.jsx(Rf,{className:"h-5 w-5 text-white"})})]})}),u.jsx(Lr,{className:"flex-grow",children:E?u.jsx("div",{className:"flex items-center justify-center h-20",children:u.jsxs("div",{className:"text-center",children:[u.jsx(gr,{className:"w-6 h-6 text-orange-500 animate-spin mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-orange-600",children:"Vrification en cours..."})]})}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex items-center gap-3 p-3 bg-red-50 border border-red-200 rounded-xl",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-sm font-medium text-red-700",children:"Livreurs en tourne"})]})}),S.length>0?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h4",{className:"text-sm font-medium text-orange-900",children:"Demandes en cours"}),u.jsx("span",{className:"text-xs bg-orange-200 text-orange-800 px-2 py-1 rounded-full font-medium",children:S.length})]}),u.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:S.map(K=>u.jsxs("div",{className:"bg-white border border-orange-200 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:K.laboratory_clients?.name}),u.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${K.status==="pending"?"bg-yellow-100 text-yellow-800 border border-yellow-200":K.status==="approved"?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`,children:K.status==="pending"?"En attente":K.status==="approved"?"Approuve":"Rejete"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[K.has_pickup&&u.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded",children:[u.jsx(ms,{className:"w-3 h-3"}),"Ramassage"]}),K.has_delivery&&u.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:[u.jsx(Nt,{className:"w-3 h-3"}),"Livraison"]})]})]},K.id))})]}):u.jsxs("div",{className:"text-center py-4",children:[u.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-2",children:u.jsx(fl,{className:"w-6 h-6 text-orange-500"})}),u.jsx("p",{className:"text-sm text-orange-600",children:"Aucune demande en cours"})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Clients disponibles"}),u.jsx("span",{className:"text-lg font-bold text-blue-600",children:_.length})]}),u.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"pour nouvelle demande urgente"})]})]})}),u.jsx(Rs,{children:_.length>0?u.jsxs(pe,{onClick:()=>y(!0),disabled:E,className:"w-full bg-orange-600 hover:bg-orange-700 shadow-lg",children:[u.jsx(ih,{className:"h-4 w-4 mr-2"}),"Nouvelle demande urgente"]}):u.jsxs(pe,{variant:"outline",disabled:!0,className:"w-full border-orange-200 text-orange-500",children:[u.jsx(Jx,{className:"h-4 w-4 mr-2"}),"Aucun client disponible"]})})]})}),u.jsx(be.div,{variants:$,children:u.jsxs(we,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200 hover:shadow-lg transition-all duration-300",children:[u.jsx(Ar,{children:u.jsxs(Rr,{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-blue-800",children:"Tourne du jour"}),u.jsx("div",{className:"p-2 bg-blue-500 rounded-xl",children:u.jsx(Nt,{className:"h-5 w-5 text-white"})})]})}),u.jsxs(Lr,{children:[u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-4 mb-3 shadow-sm hover:shadow-md transition-shadow",children:[u.jsx("div",{className:"text-4xl font-bold text-green-800 mb-2",children:A.todayDeliveries}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"p-1.5 bg-green-600 rounded-full shadow-sm",children:u.jsx(Nt,{className:"h-4 w-4 text-white"})}),u.jsx("span",{className:"text-sm text-green-800 font-bold",children:"Livraisons"})]})]})}),u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-2xl p-4 mb-3 shadow-sm hover:shadow-md transition-shadow",children:[u.jsx("div",{className:"text-4xl font-bold text-orange-800 mb-2",children:A.todayPickups}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"p-1.5 bg-orange-600 rounded-full shadow-sm",children:u.jsx(ms,{className:"h-4 w-4 text-white"})}),u.jsx("span",{className:"text-sm text-orange-800 font-bold",children:"Rcuprations"})]})]})})]}),u.jsx("div",{className:"mt-2 pt-3 border-t border-blue-200",children:u.jsx("p",{className:"text-sm text-blue-700 text-center font-semibold",children:A.todayDeliveries>0||A.todayPickups>0?"Programmes pour aujourd'hui":"Aucune activit planifie"})})]})]})}),u.jsx(be.div,{variants:$,children:u.jsxs(we,{className:"bg-gradient-to-br from-violet-50 to-violet-100 border-violet-200 hover:shadow-lg transition-all duration-300",children:[u.jsx(Ar,{children:u.jsxs(Rr,{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-violet-800",children:"Total arrts"}),u.jsx("div",{className:"p-2 bg-violet-500 rounded-xl",children:u.jsx(Ai,{className:"h-5 w-5 text-white"})})]})}),u.jsxs(Lr,{children:[u.jsx("div",{className:"text-3xl font-bold text-violet-700 mb-1",children:A.totalStops}),u.jsx("div",{className:"text-sm text-violet-600",children:A.todayDeliveries>0||A.todayPickups>0?u.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-violet-200 text-violet-700 px-2 py-1 rounded-full",children:[u.jsx(nh,{className:"h-3 w-3"}),"Tourne planifie"]}):u.jsx("span",{className:"text-violet-500",children:"Aucune activit"})})]})]})}),u.jsx(be.div,{variants:$,children:u.jsxs(we,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200 hover:shadow-lg transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:()=>e("/laboratory/history"),children:[u.jsx(Ar,{children:u.jsxs(Rr,{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-orange-800",children:"Historique"}),u.jsx("div",{className:"p-2 bg-orange-500 rounded-xl",children:u.jsx(fl,{className:"h-5 w-5 text-white"})})]})}),u.jsx(Lr,{className:"flex-grow",children:u.jsx("div",{className:"text-sm text-orange-600",children:"Accdez  l'historique de vos livraisons"})}),u.jsx(Rs,{children:u.jsxs(pe,{variant:"outline",className:"w-full flex items-center justify-center text-orange-700 border-orange-200 hover:bg-orange-50",children:[u.jsx(fl,{className:"h-4 w-4 mr-2"})," Voir l'historique"]})})]})})]})]})},NO=({deliveryCount:e,pickupCount:t,selectedCount:r})=>u.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-2xl p-3 sm:p-4",children:u.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 md:gap-6",children:[u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"bg-blue-100 border-2 border-blue-200 rounded-xl p-2 sm:p-3 mb-2",children:[u.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-800 mb-1",children:r}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-1",children:[u.jsx("div",{className:"p-1 bg-blue-600 rounded-full",children:u.jsx(Ai,{className:"h-3 w-3 text-white"})}),u.jsx("span",{className:"text-xs text-blue-800 font-bold leading-tight",children:"Clients"})]})]})}),u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-2 sm:p-3 mb-2",children:[u.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-800 mb-1",children:e}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-1",children:[u.jsx("div",{className:"p-1 bg-green-600 rounded-full",children:u.jsx(Nt,{className:"h-3 w-3 text-white"})}),u.jsx("span",{className:"text-xs text-green-800 font-bold leading-tight",children:"Livraisons"})]})]})}),u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-xl p-2 sm:p-3 mb-2",children:[u.jsx("div",{className:"text-xl sm:text-2xl font-bold text-orange-800 mb-1",children:t}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-1",children:[u.jsx("div",{className:"p-1 bg-orange-600 rounded-full",children:u.jsx(ms,{className:"h-3 w-3 text-white"})}),u.jsx("span",{className:"text-xs text-orange-800 font-bold leading-tight",children:"Rcup."})]})]})})]})}),PO=({client:e,selection:t,onToggleDelivery:r,onTogglePickup:n,disabled:s})=>u.jsx(be.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},children:u.jsx(we,{className:"overflow-hidden p-4 sm:p-6 bg-gradient-to-br from-gray-50 to-gray-100 border-2 border-gray-200 hover:shadow-lg transition-all duration-300",children:u.jsxs("div",{className:"flex flex-col gap-3 sm:gap-5",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"flex items-center justify-center mb-2",children:u.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 text-center break-words",children:e.name})}),u.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"})]}),u.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[u.jsxs(pe,{variant:t.delivery?"primary":"outline",size:"sm",className:`flex-1 flex items-center justify-center gap-1 sm:gap-2 h-10 sm:h-12 text-sm sm:text-base font-semibold transition-all duration-200 ${t.delivery?"bg-green-600 hover:bg-green-700 text-white border-green-600 shadow-md hover:shadow-lg":"border-2 border-green-500 text-green-600 hover:bg-green-50 hover:border-green-600"}`,onClick:()=>r(e.id),disabled:s,children:[u.jsx(Nt,{className:"h-4 w-4 sm:h-5 sm:w-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Livraison"}),u.jsx("span",{className:"sm:hidden",children:"Livr."})]}),u.jsxs(pe,{variant:t.pickup?"primary":"outline",size:"sm",className:`flex-1 flex items-center justify-center gap-1 sm:gap-2 h-10 sm:h-12 text-sm sm:text-base font-semibold transition-all duration-200 ${t.pickup?"bg-orange-600 hover:bg-orange-700 text-white border-orange-600 shadow-md hover:shadow-lg":"border-2 border-orange-500 text-orange-600 hover:bg-orange-50 hover:border-orange-600"}`,onClick:()=>n(e.id),disabled:s,children:[u.jsx(ms,{className:"h-4 w-4 sm:h-5 sm:w-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Rcupration"}),u.jsx("span",{className:"sm:hidden",children:"Rcup."})]})]})]})})}),AO=()=>{const e=Fn(),{user:t}=Be(),{clients:r,fetchClients:n,isLoading:s,error:i,todayTour:o,createTour:a,fetchTodayTour:l,isLoading:c,error:d}=Bc(),[h,f]=b.useState({}),[m,x]=b.useState(!1),v=new Date,_=s||c,g=i||d,p=ge.useMemo(()=>[...r].sort((j,C)=>j.name.localeCompare(C.name,"fr",{sensitivity:"accent"})),[r]),y=ge.useMemo(()=>{const j=Object.entries(h),C=j.filter(([R,$])=>$.delivery||$.pickup).length,A=j.filter(([R,$])=>$.delivery).length,B=j.filter(([R,$])=>$.pickup).length;return{selectedCount:C,deliveryCount:A,pickupCount:B,hasSelections:C>0}},[h]);b.useEffect(()=>{if(!t)return;(async()=>{await n(!0),await l(!0)})()},[t?.id,n,l]);const S=b.useCallback(j=>{f(C=>({...C,[j]:{delivery:!C[j]?.delivery,pickup:C[j]?.pickup||!1}}))},[]),w=b.useCallback(j=>{f(C=>({...C,[j]:{delivery:C[j]?.delivery||!1,pickup:!C[j]?.pickup}}))},[]),E=async()=>{if(!y.hasSelections){ke.error("Veuillez slectionner au moins un arrt");return}x(!0);try{const j=Object.entries(h).filter(([A,B])=>B.delivery||B.pickup).map(([A,B])=>({client_id:A,has_delivery:B.delivery,has_pickup:B.pickup}));await a(j)?(ke.success("Tourne cre avec succs !"),e("/laboratory/planning-submitted")):ke.error("Erreur lors de la cration de la tourne")}catch(j){console.error("Erreur lors de la soumission:",j),ke.error("Erreur lors de la cration de la tourne")}finally{x(!1)}},P=o&&["submitted","validated","pending_changes"].includes(o.status);return _?u.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col items-center justify-center h-[60vh]",children:[u.jsx(gr,{className:"h-10 w-10 text-primary-500 animate-spin mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Chargement des donnes..."})]}):g?u.jsx("div",{className:"max-w-4xl mx-auto flex flex-col items-center justify-center h-[60vh]",children:u.jsxs("div",{className:"p-6 bg-red-50 rounded-lg text-center max-w-md",children:[u.jsx(gi,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Erreur"}),u.jsx("p",{className:"text-red-700 mb-4",children:g}),u.jsx(pe,{onClick:()=>{n(),l()},variant:"outline",children:"Ressayer"})]})}):P?u.jsx("div",{className:"max-w-4xl mx-auto flex flex-col items-center justify-center h-[60vh]",children:u.jsxs("div",{className:"p-8 bg-blue-50 rounded-lg text-center max-w-md",children:[u.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:u.jsx(Gl,{className:"h-8 w-8 text-blue-600"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Tourne dj planifie"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Une tourne existe dj pour aujourd'hui. Vous pouvez la consulter ou la modifier si ncessaire."}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(pe,{onClick:()=>e("/laboratory/pending-routes"),className:"w-full flex items-center justify-center gap-2",children:[u.jsx(sh,{className:"h-4 w-4"}),"Voir ma tourne d'aujourd'hui"]}),u.jsx(pe,{variant:"outline",onClick:()=>e("/laboratory"),className:"w-full",children:"Retour au tableau de bord"})]})]})}):u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Planifier ma tourne"}),u.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[u.jsx(qo,{className:"h-5 w-5 text-primary-500"}),u.jsx("p",{className:"text-gray-500",children:v.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]})]}),u.jsx("div",{className:"mb-6",children:u.jsx(NO,{deliveryCount:y.deliveryCount,pickupCount:y.pickupCount,selectedCount:y.selectedCount})}),u.jsx("div",{className:"space-y-6",children:p.length===0?u.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:u.jsx("p",{className:"text-gray-500",children:"Aucun client disponible pour la planification"})}):u.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},className:"space-y-6",children:p.map(j=>u.jsx(PO,{client:j,selection:h[j.id]||{delivery:!1,pickup:!1},onToggleDelivery:S,onTogglePickup:w,disabled:m},j.id))})}),u.jsx("div",{className:"mt-8 flex justify-center",children:u.jsx(pe,{onClick:E,disabled:!y.hasSelections||m,className:"w-full sm:w-auto min-w-[200px] h-12",size:"lg",children:m?u.jsxs(u.Fragment,{children:[u.jsx(gr,{className:"h-5 w-5 animate-spin mr-2"}),"Cration en cours..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Gl,{className:"h-5 w-5 mr-2"}),"Crer la tourne (",y.selectedCount," arrts)"]})})})]})},RO=()=>{const e=Fn();return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs(we,{className:"p-8 text-center",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:u.jsx(Gl,{className:"h-8 w-8 text-green-600"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tourne soumise avec succs !"}),u.jsx("p",{className:"text-gray-600",children:"Votre tourne a t soumise et est en attente de validation par l'administrateur."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs(pe,{onClick:()=>e("/laboratory/pending-routes"),className:"w-full flex items-center justify-center gap-2",children:[u.jsx("span",{children:"Voir ma tourne en attente"}),u.jsx(Qx,{className:"h-4 w-4"})]}),u.jsx(pe,{variant:"outline",onClick:()=>e("/laboratory"),className:"w-full",children:"Retour au tableau de bord"})]})]})})},LO=()=>{const e=Fn();return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs(we,{className:"p-8 text-center",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:u.jsx(Gl,{className:"h-8 w-8 text-green-600"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tourne soumise avec succs !"}),u.jsx("p",{className:"text-gray-600",children:"Votre tourne a t soumise et est maintenant en attente de validation par l'administrateur."})]}),u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center text-blue-600 mb-2",children:[u.jsx(qo,{className:"h-5 w-5 mr-2"}),u.jsx("span",{className:"font-medium",children:"Prochaines tapes"})]}),u.jsx("p",{className:"text-blue-700 text-sm",children:"Vous recevrez une notification une fois que votre tourne aura t valide et optimise par l'quipe."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs(pe,{onClick:()=>e("/laboratory/pending-routes"),className:"w-full flex items-center justify-center gap-2",children:[u.jsx("span",{children:"Voir ma tourne en attente"}),u.jsx(Qx,{className:"h-4 w-4"})]}),u.jsx(pe,{variant:"outline",onClick:()=>e("/laboratory"),className:"w-full",children:"Retour au tableau de bord"})]})]})})},OO=()=>{const e=Fn(),t=wp(),{user:r}=Be(),{todayTour:n,fetchTodayTour:s,updateTourStops:i,setTourToEditable:o,checkIfDriverRoutesValidated:a,getUnscheduledClients:l,createLateStopRequest:c,isLoading:d,error:h,clients:f,fetchClients:m,isLoading:x,error:v}=Bc(),_=d||x,g=h||v,[p,y]=b.useState(!1),[S,w]=b.useState(!1),[E,P]=b.useState({}),[j,C]=b.useState(!1),[A,B]=b.useState(!1),[R,$]=b.useState([]),[se,ve]=b.useState(!1);b.useEffect(()=>{r&&(s(!0),m(!0),me())},[r?.id,s,m]);const me=async()=>{B(!0);try{console.log(" Vrification du statut des routes...");const J=await a();if(C(J),J){console.log(" Routes bloques ! Rcupration des clients non programms...");const ue=await l();$(ue),console.log(` ${ue.length} clients disponibles pour demande de dernire minute`)}}catch(J){console.error("Erreur lors de la vrification des routes:",J)}finally{B(!1)}},K=async J=>{try{await c(J),me()}catch(ue){throw console.error("Erreur lors de la soumission de la demande:",ue),ue}};b.useEffect(()=>{if(n?.stops){const J={};n.stops.forEach(ue=>{J[ue.client_id]={delivery:ue.has_delivery,pickup:ue.has_pickup}}),P(J)}},[n?.stops]);const L=async()=>{if(n){if(j){t.error(" Impossible de modifier la tourne : les livreurs ont dj commenc leurs tournes !"),console.log(" Tentative de modification bloque - routes valides");return}w(!0);try{n.status==="validated"&&(await o(n.id),await s()),y(!0)}catch(J){console.error("Erreur lors de la prparation de la tourne pour dition:",J),t.error("Erreur lors de la prparation de la modification")}finally{w(!1)}}},W=()=>{y(!1)};b.useEffect(()=>(p?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[p]);const G=J=>{P(ue=>({...ue,[J]:{delivery:!ue[J]?.delivery,pickup:ue[J]?.pickup||!1}}))},te=J=>{P(ue=>({...ue,[J]:{delivery:ue[J]?.delivery||!1,pickup:!ue[J]?.pickup}}))},Pe=async()=>{if(n){w(!0);try{const J=Object.entries(E).map(([ue,Ct])=>({client_id:ue,has_delivery:Ct.delivery,has_pickup:Ct.pickup})).filter(ue=>ue.has_delivery||ue.has_pickup);await i(n.id,J),y(!1),t.success("Modifications sauvegardes avec succs")}catch(J){console.error("Erreur lors de la sauvegarde des modifications:",J),t.error("Erreur lors de la sauvegarde des modifications")}finally{w(!1)}}},jr=()=>{const J=Object.entries(E).filter(([Di,en])=>en.delivery||en.pickup),ue=J.filter(([Di,en])=>en.delivery).length,Ct=J.filter(([Di,en])=>en.pickup).length;return{totalSelected:J.length,deliveryCount:ue,pickupCount:Ct}},Gt=n?.stops?.filter(J=>J.has_delivery).length||0,Xr=n?.stops?.filter(J=>J.has_pickup).length||0,jt=jr();if(_)return u.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col items-center justify-center h-[60vh]",children:[u.jsx(gr,{className:"h-10 w-10 text-primary-500 animate-spin mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Chargement de la tourne du jour..."})]});if(g)return u.jsx("div",{className:"max-w-4xl mx-auto flex flex-col items-center justify-center h-[60vh]",children:u.jsxs("div",{className:"p-6 bg-red-50 rounded-lg text-center max-w-md",children:[u.jsx(gi,{className:"h-10 w-10 text-red-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Erreur"}),u.jsx("p",{className:"text-red-700 mb-4",children:g}),u.jsx(pe,{onClick:()=>{s(),m()},variant:"outline",children:"Ressayer"})]})});if(!n)return u.jsx("div",{className:"max-w-4xl mx-auto flex flex-col items-center justify-center h-[60vh]",children:u.jsxs("div",{className:"p-6 bg-blue-50 rounded-lg text-center max-w-md",children:[u.jsx(qo,{className:"h-10 w-10 text-blue-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune tourne en attente"}),u.jsx("p",{className:"text-blue-700 mb-4",children:"Vous n'avez pas encore planifi de tourne pour aujourd'hui."}),u.jsx(pe,{onClick:()=>e("/laboratory/planning"),children:"Planifier une tourne"})]})});const Cr=J=>f.find(Ct=>Ct.id===J)?.name||"Client inconnu",ur=J=>{switch(J){case"submitted":return{text:"En attente de validation",bgColor:"bg-amber-50",borderColor:"border-amber-200",textColor:"text-amber-800",iconColor:"text-amber-600"};case"pending_changes":return{text:"En attente de validation",bgColor:"bg-amber-50",borderColor:"border-amber-200",textColor:"text-amber-800",iconColor:"text-amber-600"};case"validated":return{text:"Valide",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",iconColor:"text-green-600"};default:return{text:J,bgColor:"bg-gray-50",borderColor:"border-gray-200",textColor:"text-gray-800",iconColor:"text-gray-600"}}};return u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx(Wt,{children:p&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 overflow-hidden",onClick:W,children:u.jsxs(be.div,{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:J=>J.stopPropagation(),initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},children:[u.jsxs("div",{className:"p-6 border-b border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Modifier la tourne"}),u.jsx("p",{className:"text-gray-500 mt-1",children:"Slectionnez les livraisons et rcuprations pour chaque client"})]}),u.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx(gs,{className:"h-6 w-6"})})]}),u.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2 sm:gap-4 md:gap-6",children:[u.jsxs("div",{className:"bg-blue-50 rounded-lg p-2 sm:p-3 text-center",children:[u.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600 mb-1 sm:mb-2",children:jt.totalSelected}),u.jsx("div",{className:"text-xs sm:text-sm font-medium text-blue-600 leading-tight",children:"Arrts"})]}),u.jsxs("div",{className:"bg-green-50 rounded-lg p-2 sm:p-3 text-center",children:[u.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600 mb-1 sm:mb-2",children:jt.deliveryCount}),u.jsxs("div",{className:"text-xs sm:text-sm font-medium text-green-600 leading-tight",children:[u.jsx("span",{className:"sm:hidden",children:"Livr."}),u.jsx("span",{className:"hidden sm:inline",children:"Livraisons"})]})]}),u.jsxs("div",{className:"bg-orange-50 rounded-lg p-2 sm:p-3 text-center",children:[u.jsx("div",{className:"text-xl sm:text-2xl font-bold text-orange-600 mb-1 sm:mb-2",children:jt.pickupCount}),u.jsxs("div",{className:"text-xs sm:text-sm font-medium text-orange-600 leading-tight",children:[u.jsx("span",{className:"sm:hidden",children:"Rcup."}),u.jsx("span",{className:"hidden sm:inline",children:"Rcuprations"})]})]})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",style:{maxHeight:"calc(90vh - 200px)"},children:u.jsx("div",{className:"space-y-4",children:f.map(J=>{const ue=E[J.id]||{delivery:!1,pickup:!1};return u.jsx(we,{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex-1 min-w-0 max-w-[40%]",children:u.jsx("h3",{className:`font-normal text-gray-900 ${J.name.length>15?"text-sm":"text-base"} leading-tight truncate`,children:J.name})}),u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsxs("button",{onClick:()=>G(J.id),className:`
                                flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex-shrink-0
                                ${ue.delivery?"bg-green-100 text-green-700 border-2 border-green-300":"bg-gray-100 text-gray-600 border-2 border-transparent hover:bg-green-50"}
                              `,children:[u.jsx(Nt,{className:"h-4 w-4"}),u.jsx("span",{className:"whitespace-nowrap",children:"Livraison"})]}),u.jsxs("button",{onClick:()=>te(J.id),className:`
                                flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex-shrink-0
                                ${ue.pickup?"bg-orange-100 text-orange-700 border-2 border-orange-300":"bg-gray-100 text-gray-600 border-2 border-transparent hover:bg-orange-50"}
                              `,children:[u.jsx(ms,{className:"h-4 w-4"}),u.jsxs("span",{className:"whitespace-nowrap",children:[u.jsx("span",{className:"sm:hidden",children:"Rcup."}),u.jsx("span",{className:"hidden sm:inline",children:"Rcupration"})]})]})]})]})},J.id)})})}),u.jsx("div",{className:"p-4 border-t bg-white rounded-b-2xl",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsx(pe,{variant:"outline",className:"h-12",onClick:W,children:"Annuler"}),u.jsxs(pe,{onClick:Pe,disabled:S,className:"h-12 shadow-lg",children:[S?u.jsx(gr,{className:"h-5 w-5 animate-spin mr-2"}):u.jsx(Yx,{className:"h-5 w-5 mr-2"}),"Enregistrer les modifications"]})]})})]})})}),u.jsx(t_,{isOpen:se,onClose:()=>ve(!1),unscheduledClients:R,onSubmit:K}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Tourne du jour"}),A?u.jsxs(pe,{disabled:!0,className:"flex items-center gap-2",children:[u.jsx(gr,{className:"h-4 w-4 animate-spin"}),"Vrification..."]}):j?u.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg px-3 py-2 flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-sm font-medium text-red-700",children:"Livreurs en tourne"})]}):u.jsxs(pe,{onClick:L,disabled:S,className:"flex items-center gap-2",children:[S?u.jsx(gr,{className:"h-4 w-4 animate-spin"}):u.jsx(DE,{className:"h-4 w-4"}),"Modifier"]})]}),!A&&j&&R.length>0&&u.jsxs(pe,{variant:"outline",className:"w-full bg-gradient-to-r from-orange-50 to-orange-100 border-2 border-orange-300 text-orange-800 hover:from-orange-100 hover:to-orange-200 hover:border-orange-400 shadow-md hover:shadow-lg transition-all duration-200 font-semibold",onClick:()=>ve(!0),children:[u.jsx(ih,{className:"h-4 w-4 mr-2"}),"Demande urgente"]}),u.jsx("div",{className:`${ur(n.status).bgColor} ${ur(n.status).borderColor} border-2 rounded-2xl p-4`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 ${ur(n.status).bgColor} rounded-full border ${ur(n.status).borderColor}`,children:u.jsx(Xx,{className:`h-6 w-6 ${ur(n.status).iconColor}`})}),u.jsxs("div",{children:[u.jsx("div",{className:`text-lg font-semibold ${ur(n.status).textColor}`,children:ur(n.status).text}),u.jsx("div",{className:"text-sm text-gray-600",children:new Date(n.date).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`text-2xl font-semibold ${ur(n.status).textColor}`,children:n.stops.length}),u.jsxs("div",{className:"text-sm text-gray-600",children:["arrt",n.stops.length>1?"s":""]})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(we,{className:"bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 p-6 hover:shadow-lg transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-3xl font-semibold text-green-800",children:Gt}),u.jsx("p",{className:"text-green-600 font-medium",children:"Livraisons"})]}),u.jsx("div",{className:"p-3 bg-green-600 rounded-full",children:u.jsx(Nt,{className:"h-8 w-8 text-white"})})]})}),u.jsx(we,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 p-6 hover:shadow-lg transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-3xl font-semibold text-orange-800",children:Xr}),u.jsx("p",{className:"text-orange-600 font-medium",children:"Rcuprations"})]}),u.jsx("div",{className:"p-3 bg-orange-600 rounded-full",children:u.jsx(ms,{className:"h-8 w-8 text-white"})})]})})]}),u.jsxs(we,{className:"p-6 bg-gradient-to-br from-gray-50 to-gray-100 border-2 border-gray-200",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[u.jsx(Ai,{className:"h-6 w-6 text-blue-600"}),"Arrts prvus"]}),u.jsx("div",{className:"space-y-4",children:n.stops.map((J,ue)=>{const Ct=Cr(J.client_id);return u.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 hover:shadow-md transition-all duration-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[u.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs sm:text-sm font-semibold shadow-sm flex-shrink-0",children:ue+1}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsx("h3",{className:`font-medium text-gray-900 truncate ${Ct.length>15?"text-sm":"text-base"} leading-tight`,children:Ct})})]}),u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[J.has_delivery&&u.jsxs("span",{className:"bg-green-100 text-green-800 px-2 sm:px-3 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-medium border-2 border-green-200 whitespace-nowrap",children:[u.jsx("span",{className:"hidden sm:inline",children:"Livraison"}),u.jsx("span",{className:"sm:hidden",children:"Livr."})]}),J.has_pickup&&u.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 sm:px-3 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-medium border-2 border-orange-200 whitespace-nowrap",children:[u.jsx("span",{className:"hidden sm:inline",children:"Rcupration"}),u.jsx("span",{className:"sm:hidden",children:"Rcup."})]})]})]})},J.id)})})]})]})]})},fc=ge.forwardRef(({className:e,type:t,error:r,leftIcon:n,rightIcon:s,...i},o)=>u.jsxs("div",{className:"relative",children:[n&&u.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:n}),u.jsx("input",{type:t,className:Bn("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50",r&&"border-error-500 focus-visible:ring-error-500",n&&"pl-10",s&&"pr-10",e),ref:o,...i}),s&&u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:s}),r&&u.jsx("p",{className:"mt-1 text-sm text-error-500",children:r})]}));fc.displayName="Input";const DO=()=>{const[e,t]=b.useState(""),[r,n]=b.useState(!1),[s,i]=b.useState(null),[o,a]=b.useState(!1),{user:l}=Be(),c=wp(),{clients:d,isLoading:h,error:f,fetchClients:m,deleteClient:x}=Bc();b.useEffect(()=>{l&&m(!0)},[l?.id,m]);const v=b.useMemo(()=>d.filter(j=>j.client_type!=="depot").filter(j=>e===""||j.name.toLowerCase().includes(e.toLowerCase())||j.location.formatted_address.toLowerCase().includes(e.toLowerCase())||j.location.delivery_instructions&&j.location.delivery_instructions.toLowerCase().includes(e.toLowerCase())).sort((j,C)=>j.name.localeCompare(C.name)),[d,e]),_=b.useMemo(()=>{const j=v.filter(A=>A.client_type==="dentist").length,C=v.filter(A=>A.client_type==="laboratory").length;return{total:v.length,dentists:j,laboratories:C}},[v]),g={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},p={hidden:{y:20,opacity:0},show:{y:0,opacity:1}},y=j=>{switch(j){case"dentist":return{bg:"bg-blue-500",text:"text-blue-700",bgLight:"bg-blue-50",borderLight:"border-blue-200"};case"laboratory":return{bg:"bg-green-500",text:"text-green-700",bgLight:"bg-green-50",borderLight:"border-green-200"};case"depot":return{bg:"bg-orange-500",text:"text-orange-700",bgLight:"bg-orange-50",borderLight:"border-orange-200"};default:return{bg:"bg-gray-500",text:"text-gray-700",bgLight:"bg-gray-50",borderLight:"border-gray-200"}}},S=j=>{switch(j){case"dentist":return"Dentiste";case"laboratory":return"Laboratoire";case"depot":return"Dpt";default:return"Client"}},w=j=>{i(j),n(!0)},E=async()=>{if(s){a(!0);try{await x(s.id),c.success(`${s.name} a t supprim avec succs`),n(!1),i(null)}catch(j){console.error("Erreur lors de la suppression:",j),c.error("Erreur lors de la suppression du client")}finally{a(!1)}}},P=()=>{n(!1),i(null)};return u.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Mes dentistes"}),u.jsx("p",{className:"text-gray-500 mt-1",children:"Liste de tous les dentistes associs  votre laboratoire"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(we,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 p-4 hover:shadow-lg transition-all duration-300",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-semibold text-blue-800",children:_.total}),u.jsx("div",{className:"text-blue-600 font-medium text-sm",children:"Total dentistes / labos"})]})}),u.jsx(we,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 p-4 hover:shadow-lg transition-all duration-300",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-semibold text-blue-800",children:_.dentists}),u.jsx("div",{className:"text-blue-600 font-medium text-sm",children:"Dentistes"})]})}),u.jsx(we,{className:"bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 p-4 hover:shadow-lg transition-all duration-300",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-semibold text-green-800",children:_.laboratories}),u.jsx("div",{className:"text-green-600 font-medium text-sm",children:"Laboratoires"})]})})]})]}),u.jsx(we,{className:"p-4 bg-gradient-to-br from-gray-50 to-gray-100 border-2 border-gray-200",children:u.jsxs("div",{className:"relative",children:[u.jsx(Lf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx(fc,{value:e,onChange:j=>t(j.target.value),placeholder:"Rechercher un dentiste par nom, adresse...",className:"pl-10 h-12 text-base border-2 border-gray-300 focus:border-blue-500"})]})}),u.jsx("div",{className:"space-y-2",children:h?u.jsx("div",{className:"flex justify-center items-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"})}):v.length===0?u.jsxs(we,{className:"p-6 text-center bg-gray-50 border-2 border-gray-200",children:[u.jsx(ew,{className:"h-8 w-8 text-gray-400 mx-auto mb-3"}),u.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Aucun client trouv"}),u.jsx("p",{className:"text-sm text-gray-500",children:e?"Aucun client ne correspond  votre recherche":"Aucun client associ  votre laboratoire"})]}):u.jsx(be.div,{variants:g,initial:"hidden",animate:"show",className:"space-y-2",children:v.map(j=>{const C=y(j.client_type);return u.jsx(be.div,{variants:p,children:u.jsx(we,{className:"bg-white border border-gray-200 hover:shadow-md hover:border-gray-300 transition-all duration-200",children:u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:`w-12 h-12 ${C.bg} rounded-xl flex items-center justify-center shadow-sm`,children:u.jsx("span",{className:"text-white font-bold text-base",children:j.name.charAt(0).toUpperCase()})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h3",{className:"font-semibold text-gray-900 truncate text-base flex-1",children:j.name}),u.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${C.bgLight} ${C.text} border ${C.borderLight} flex-shrink-0`,children:S(j.client_type)}),u.jsx("button",{onClick:()=>w({id:j.id,name:j.name}),className:"flex-shrink-0 p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 group border border-transparent hover:border-red-200",title:"Supprimer ce client",children:u.jsx(gs,{className:"h-4 w-4 group-hover:rotate-90 transition-transform duration-200"})})]}),u.jsxs("div",{className:"flex items-start text-xs text-gray-500",children:[u.jsx(Ai,{className:"h-3 w-3 mr-1 mt-0.5 text-gray-400 flex-shrink-0"}),u.jsx("span",{className:"break-words line-clamp-1",children:j.location.formatted_address})]})]})]})})})},j.id)})})}),u.jsx(Wt,{children:r&&s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[u.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-red-100 rounded-full",children:u.jsx(gs,{className:"h-6 w-6 text-red-600"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Supprimer le client"}),u.jsxs("p",{className:"text-gray-500 text-center mb-6",children:["tes-vous sr de vouloir supprimer ",u.jsx("strong",{children:s.name})," ?",u.jsx("br",{}),"Cette action est irrversible."]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(pe,{variant:"outline",onClick:P,disabled:o,className:"flex-1",children:"Annuler"}),u.jsx(pe,{onClick:E,disabled:o,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:o?"Suppression...":"Oui, supprimer"})]})]})})})]})},IO=Cf((e,t)=>({shipments:[],groupedShipments:[],groupedByClient:[],isLoading:!1,error:null,searchQuery:"",selectedDate:null,fetchShipments:async r=>{e({isLoading:!0,error:null});try{const{data:n,error:s}=await le.from("driver_route_shipments").select(`
          *,
          pickup_stop:driver_route_stops!pickup_stop_id(
            id,
            route:driver_routes(
              id,
              date
            )
          ),
          delivery_stop:driver_route_stops!delivery_stop_id(
            id
          ),
          laboratory_client:laboratory_clients(
            id,
            name,
            location:locations(
              id,
              formatted_address,
              latitude,
              longitude
            )
          )
        `).eq("laboratory_id",r);if(s){console.error("Erreur Supabase:",s),e({error:`Erreur de base de donnes: ${s.message}`,isLoading:!1});return}if(!n||n.length===0){e({shipments:[],groupedShipments:[],groupedByClient:[],isLoading:!1,error:null});return}const i=n.filter(l=>{const c=l.pickup_stop?.route?.date,d=l.laboratory_client?.name&&l.laboratory_client?.location?.formatted_address;return c&&d}).sort((l,c)=>{const d=new Date(l.pickup_stop.route.date);return new Date(c.pickup_stop.route.date).getTime()-d.getTime()}),o=i.reduce((l,c)=>{const d=c.pickup_stop.route.date;return l[d]||(l[d]={id:d,date:d,shipments:[]}),l[d].shipments.push(c),l},{}),a=i.reduce((l,c)=>{const d=c.laboratory_client.name,h=c.laboratory_client.location.formatted_address;return l[d]||(l[d]={client_name:d,client_address:h,shipments:[]}),l[d].shipments.push(c),l},{});e({shipments:i,groupedShipments:Object.values(o),groupedByClient:Object.values(a),isLoading:!1,error:null})}catch(n){console.error("Erreur lors du chargement des expditions:",n),e({error:n instanceof Error?n.message:"Erreur lors du chargement des expditions",isLoading:!1})}},setSearchQuery:r=>{e({searchQuery:r})},setSelectedDate:r=>{e({selectedDate:r})},clearFilters:()=>{e({searchQuery:"",selectedDate:null})},getFilteredResults:()=>{const{groupedShipments:r,groupedByClient:n,searchQuery:s,selectedDate:i}=t();if(s.trim()){let a=n.filter(l=>l.client_name.toLowerCase().includes(s.toLowerCase())||l.client_address.toLowerCase().includes(s.toLowerCase()));return i&&(a=a.map(l=>({...l,shipments:l.shipments.filter(c=>c.pickup_stop.route.date===i)})).filter(l=>l.shipments.length>0)),a}let o=r;return i&&(o=o.filter(a=>a.date===i)),o}})),MO=()=>{const{laboratoryInfo:e}=zc(),{isLoading:t,error:r,searchQuery:n,selectedDate:s,fetchShipments:i,setSearchQuery:o,setSelectedDate:a,getFilteredResults:l}=IO(),[c,d]=b.useState(null);b.useEffect(()=>{e?.id&&i(e.id)},[e?.id,i]);const h=w=>w.pickup_status==="completed"&&w.delivery_status==="completed"?"completed":w.pickup_status==="failed"||w.delivery_status==="failed"?"failed":w.pickup_status!=="pending"||w.delivery_status!=="pending"?"in_progress":"pending",f=w=>{const E=[w.pickup_time,w.delivery_time].filter(Boolean);return E.length===0?null:new Date(Math.max(...E.map(P=>new Date(P).getTime())))},m=(w,E=!1)=>w?.includes("delivery")?"LIVRAISON":w?.includes("pickup")?E?"RCUPRATION IMPRVUE":"RCUPRATION":"COLIS",x=(w,E=!1)=>w?.includes("delivery")?"bg-blue-100 text-blue-800 border-blue-200":w?.includes("pickup")?E?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-orange-100 text-orange-800 border-orange-200":"bg-gray-100 text-gray-800 border-gray-200",v=(w,E=!1)=>{if(E)return"bg-green-50 border-2 border-yellow-400 hover:border-yellow-500 hover:shadow-lg";switch(w){case"completed":return"bg-green-50 border-green-200 hover:border-green-300";case"failed":return"bg-red-50 border-red-200 hover:border-red-300";case"in_progress":return"bg-orange-50 border-orange-200 hover:border-orange-300";default:return"bg-gray-50 border-gray-200 hover:border-gray-300"}},_=w=>w.sort((E,P)=>E.shipment_type?.includes("delivery")&&P.shipment_type?.includes("pickup")?-1:E.shipment_type?.includes("pickup")&&P.shipment_type?.includes("delivery")?1:new Date(P.created_at).getTime()-new Date(E.created_at).getTime()),g=w=>{switch(w?.trim()){case"missing_label":return{icon:IE,text:"Etiquette non retourne",color:"text-orange-700",bgColor:"bg-orange-100",borderColor:"border-orange-200"};case"missing_package":return{icon:LE,text:"Colis manquant",color:"text-red-700",bgColor:"bg-red-100",borderColor:"border-red-200"};case"delivery_problem":return{icon:Jx,text:"Autre problme de livraison",color:"text-amber-700",bgColor:"bg-amber-100",borderColor:"border-amber-200"};default:return{icon:gi,text:"Problme non spcifi",color:"text-red-700",bgColor:"bg-red-100",borderColor:"border-red-200"}}},p=ge.useMemo(()=>{const w=l();if(!w||w.length===0)return[];const E=w[0];if("date"in E&&"shipments"in E)return w.map(j=>{const C=new Map;j.shipments.forEach(R=>{const $=R.laboratory_client.id,se=R.laboratory_client.name,ve=R.laboratory_client.location.formatted_address;C.has($)||C.set($,{client_id:$,client_name:se,client_address:ve,shipments:[]});const me=h(R),K=f(R);C.get($).shipments.push({id:R.id,shipment_type:R.shipment_type||null,status:me,completion_time:K,created_at:R.created_at,pickup_status:R.pickup_status,delivery_status:R.delivery_status,pickup_time:R.pickup_time,delivery_time:R.delivery_time,issue_description:R.issue_description,issue_type:R.issue_type||null,proof_photo_url:R.proof_photo_url,route_date:R.pickup_stop.route.date,unexpected:R.unexpected||!1})}),C.forEach(R=>{R.shipments=_(R.shipments)});const A=Array.from(C.values()).sort((R,$)=>R.client_name.localeCompare($.client_name)),B=A.reduce((R,$)=>R+$.shipments.length,0);return{date:j.date,clients:A,total_packages:B}}).filter(j=>j.total_packages>0).sort((j,C)=>new Date(C.date).getTime()-new Date(j.date).getTime());{const j=new Map;return w.forEach(C=>{C.shipments.forEach(A=>{const B=A.pickup_stop.route.date;j.has(B)||j.set(B,[]);let R=j.get(B).find(ve=>ve.client_id===C.client_name);R||(R={client_id:C.client_name,client_name:C.client_name,client_address:C.client_address,shipments:[]},j.get(B).push(R));const $=h(A),se=f(A);R.shipments.push({id:A.id,shipment_type:A.shipment_type||null,status:$,completion_time:se,created_at:A.created_at,pickup_status:A.pickup_status,delivery_status:A.delivery_status,pickup_time:A.pickup_time,delivery_time:A.delivery_time,issue_description:A.issue_description,issue_type:A.issue_type||null,proof_photo_url:A.proof_photo_url,route_date:B,unexpected:A.unexpected||!1})})}),Array.from(j.entries()).map(([C,A])=>{A.forEach(R=>{R.shipments=_(R.shipments)});const B=A.reduce((R,$)=>R+$.shipments.length,0);return{date:C,clients:A,total_packages:B}}).sort((C,A)=>new Date(A.date).getTime()-new Date(C.date).getTime())}},[n,s,l]),y=w=>{d(w)},S=()=>{d(null)};return t?u.jsx("div",{className:"p-4 space-y-4",children:u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),u.jsx("div",{className:"space-y-3",children:[1,2,3].map(w=>u.jsx("div",{className:"h-20 bg-gray-200 rounded"},w))})]})}):r?u.jsx("div",{className:"p-4",children:u.jsxs(we,{className:"p-6 text-center border-red-200 bg-red-50",children:[u.jsx("div",{className:"text-red-600 font-medium mb-2",children:"Erreur de chargement"}),u.jsx("div",{className:"text-red-500 text-sm",children:r})]})}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[u.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[u.jsx("div",{className:"mb-8 relative overflow-hidden",children:u.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl p-6 text-white shadow-xl",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[u.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:u.jsx(Nt,{className:"h-8 w-8 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Historique des colis"}),u.jsx("p",{className:"text-blue-100 text-lg",children:"Consultez tous vos envois et livraisons"})]})]}),u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full transform translate-x-16 -translate-y-16"}),u.jsx("div",{className:"absolute bottom-0 right-8 w-16 h-16 bg-white/5 rounded-full"})]})}),u.jsx(we,{className:"mb-8 p-6 bg-white/70 backdrop-blur-sm border-white/50 shadow-lg",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:u.jsx(Lf,{className:"h-5 w-5 text-blue-500"})}),u.jsx(fc,{placeholder:"Rechercher un dentiste...",value:n,onChange:w=>o(w.target.value),className:"pl-12 h-12 text-base border-2 border-blue-200 focus:border-blue-500 rounded-xl bg-white/80 backdrop-blur-sm"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:u.jsx(qo,{className:"h-5 w-5 text-blue-500"})}),u.jsx(fc,{type:"date",value:s||"",onChange:w=>a(w.target.value||null),className:"pl-12 h-12 text-base border-2 border-blue-200 focus:border-blue-500 rounded-xl bg-white/80 backdrop-blur-sm"})]})]})}),u.jsx(Wt,{children:p.length===0?u.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:u.jsxs(we,{className:"p-12 bg-gradient-to-br from-white to-blue-50 border-2 border-blue-100 shadow-lg",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(Nt,{className:"h-12 w-12 text-blue-600"})}),u.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-32 h-32 bg-blue-50 rounded-full opacity-50 -z-10"})]}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Aucun historique trouv"}),u.jsx("p",{className:"text-gray-600 text-base leading-relaxed max-w-md mx-auto",children:n||s?"Aucun colis ne correspond  vos critres de recherche. Essayez d'ajuster vos filtres.":"Vos colis livrs et rcuprs apparatront ici une fois les tournes compltes."})]})}):u.jsx("div",{className:"space-y-6",children:p.map((w,E)=>u.jsx(be.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:E*.1},children:u.jsxs(we,{className:"overflow-hidden bg-white/90 backdrop-blur-sm shadow-xl border-2 border-blue-100 hover:shadow-2xl transition-all duration-300 rounded-2xl",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 px-6 py-4 relative overflow-hidden rounded-t-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-sm",children:u.jsx(qo,{className:"h-5 w-5 text-white"})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-white text-lg",children:new Date(w.date).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),u.jsxs("div",{className:"text-blue-100 text-sm mt-1",children:[w.clients.length," client",w.clients.length>1?"s":"","  ",w.total_packages," colis"]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-white/30 to-white/10 backdrop-blur-md text-white text-base px-5 py-3 rounded-2xl font-bold border-2 border-white/40 shadow-lg flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:w.total_packages}),u.jsx(Nt,{className:"h-5 w-5"})]})]}),u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full transform translate-x-12 -translate-y-12"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 rounded-full transform -translate-x-8 translate-y-8"})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:w.clients.map((P,j)=>u.jsxs(be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:j*.05},className:"p-6 relative",children:[u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md flex-shrink-0",children:u.jsx("span",{className:"text-white font-bold text-lg",children:P.client_name.charAt(0).toUpperCase()})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-bold text-gray-900 text-xl mb-2",children:P.client_name}),u.jsxs("div",{className:"flex items-start text-sm text-gray-600 bg-gray-50 p-3 rounded-lg border",children:[u.jsx(Ai,{className:"h-4 w-4 mr-2 mt-0.5 text-blue-500 flex-shrink-0"}),u.jsx("span",{className:"break-words leading-relaxed",children:P.client_address})]})]})]})}),u.jsx("div",{className:"space-y-4",children:P.shipments.map((C,A)=>u.jsx(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2,delay:A*.02},className:`rounded-2xl p-4 border-2 hover:shadow-lg transition-all duration-300 relative overflow-hidden ${v(C.status,C.unexpected)}`,children:u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[u.jsx("div",{className:"flex items-center",children:u.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold border shadow-sm ${x(C.shipment_type,C.unexpected)}`,children:[u.jsx(Nt,{className:"h-3.5 w-3.5"}),m(C.shipment_type,C.unexpected)]})}),C.status==="failed"&&u.jsxs("div",{className:"space-y-2",children:[C.issue_type&&u.jsx(u.Fragment,{children:(()=>{const B=g(C.issue_type),R=B.icon;return u.jsx("div",{className:`${B.bgColor} ${B.borderColor} border-2 p-3 rounded-xl`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm flex-shrink-0",children:u.jsx(R,{className:`h-5 w-5 ${B.color}`})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:`font-bold text-sm ${B.color} mb-1`,children:B.text}),C.issue_description&&u.jsx("div",{className:`text-sm ${B.color} opacity-80`,children:C.issue_description})]})]})})})()}),!C.issue_type&&C.issue_description&&u.jsx("div",{className:"bg-red-100 border-2 border-red-200 p-3 rounded-xl",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm flex-shrink-0",children:u.jsx(gi,{className:"h-5 w-5 text-red-700"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"font-bold text-sm text-red-700 mb-1",children:"Problme de livraison"}),u.jsx("div",{className:"text-sm text-red-700 opacity-80",children:C.issue_description})]})]})})]}),C.status==="completed"&&!C.unexpected&&u.jsx("div",{className:"bg-green-100 border-2 border-green-200 p-3 rounded-xl",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm flex-shrink-0",children:u.jsx(Nt,{className:"h-5 w-5 text-green-700"})}),u.jsx("div",{className:"font-semibold text-sm text-green-700 min-w-0",children:"Livraison russie"})]})})]}),C.proof_photo_url&&u.jsx("div",{className:"flex-shrink-0 self-start",children:u.jsx("button",{onClick:()=>y(C.proof_photo_url),className:"w-10 h-10 bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-lg flex items-center justify-center hover:from-blue-100 hover:to-blue-200 hover:border-blue-400 hover:shadow-lg transition-all duration-200 group mt-0",title:"Voir la photo de preuve",children:u.jsx(dg,{className:"h-4 w-4 text-blue-600 group-hover:scale-110 transition-transform"})})})]})},C.id))}),j<w.clients.length-1&&u.jsx("div",{className:"mt-6 pt-2",children:u.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"})})]},P.client_id))})]})},w.date))})})]}),u.jsx(Wt,{children:c&&u.jsx("div",{className:"fixed inset-0 bg-black/75 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:S,children:u.jsxs(be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:w=>w.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(dg,{className:"h-5 w-5 text-blue-600"}),u.jsx("span",{className:"font-semibold text-gray-900",children:"Photo de preuve"})]}),u.jsx(pe,{variant:"ghost",size:"sm",onClick:S,className:"hover:bg-gray-200",children:""})]}),u.jsx("div",{className:"p-4",children:u.jsx("img",{src:c,alt:"Photo de preuve",className:"w-full h-auto max-h-[70vh] object-contain rounded-lg"})})]})})})]})},VO=({element:e,allowedRoles:t})=>{const{user:r,initialized:n,isLoading:s}=Be();return!n||s?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):r?t&&!t.includes(r.role)?u.jsx(Hl,{to:"/laboratory",replace:!0}):e:u.jsx(Hl,{to:"/login",replace:!0})};function $O(){const{checkSession:e,initialized:t,user:r}=Be();return b.useEffect(()=>{t||e()},[e,t]),t?u.jsxs(OS,{children:[u.jsx(bE,{}),u.jsx(_E,{}),u.jsxs(CS,{children:[u.jsx($t,{element:u.jsx(kE,{}),children:u.jsx($t,{path:"/login",element:u.jsx(CO,{})})}),u.jsxs($t,{path:"/laboratory",element:u.jsx(VO,{element:u.jsx(ZR,{}),allowedRoles:["laboratory"]}),children:[u.jsx($t,{index:!0,element:u.jsx(EO,{})}),u.jsx($t,{path:"planning",element:u.jsx(AO,{})}),u.jsx($t,{path:"planning/confirm",element:u.jsx(RO,{})}),u.jsx($t,{path:"planning/submitted",element:u.jsx(LO,{})}),u.jsx($t,{path:"pending-routes",element:u.jsx(OO,{})}),u.jsx($t,{path:"dentists",element:u.jsx(DO,{})}),u.jsx($t,{path:"history",element:u.jsx(MO,{})})]}),u.jsx($t,{path:"*",element:u.jsx(Hl,{to:"/laboratory",replace:!0})})]})]}):u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."})}let Ji=null;function FO(){if(window.google?.maps)return Promise.resolve();if(document.querySelector('script[src*="maps.googleapis.com"]'))return Ji||new Promise(t=>{const r=setInterval(()=>{window.google?.maps&&(clearInterval(r),t(window.google.maps))},100)});const e=document.createElement("script");return e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBSadeL9368ZzhSIi0jPcHu1txhwVZKjmc&libraries=places",e.async=!0,e.defer=!0,Ji=new Promise((t,r)=>{e.addEventListener("load",()=>{console.log("Google Maps API loaded via initGoogleMaps"),t(window.google?.maps)}),e.addEventListener("error",n=>{console.error("Error loading Google Maps API:",n),Ji=null,r(n)})}),document.head.appendChild(e),Ji}function UO(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=e;let a,l;const c=async(h=!0)=>{await l};async function d(){if("serviceWorker"in navigator){if(a=await ps(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{o?.(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||n?.()}),a.register({immediate:t}).then(h=>{i?i("/sw.js",h):s?.(h)}).catch(h=>{o?.(h)})}}return l=d(),c}const zO=UO({onNeedRefresh(){confirm("Une nouvelle version est disponible. Mettre  jour maintenant?")&&zO()},onOfflineReady(){console.log("L'application est prte  tre utilise hors ligne")}});await FO();Qu.createRoot(document.getElementById("root")).render(u.jsx(ge.StrictMode,{children:u.jsx($O,{})}));export{qy as g};
